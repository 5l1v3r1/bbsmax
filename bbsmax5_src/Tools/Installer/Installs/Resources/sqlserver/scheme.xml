<?xml version="1.0" encoding="utf-8"?>
<DbDatabase xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <Edition>Unknown</Edition>
  <PrimaryObjectInfos />
  <OutObjectInfos />
  <UserTypes>
    <Instance>
      <item>
        <key>
          <int>34</int>
        </key>
        <value>
          <DbUserType UserTypeId="34" Name="image" MaxLength="16" Precision="0" Scale="0" />
        </value>
      </item>
      <item>
        <key>
          <int>35</int>
        </key>
        <value>
          <DbUserType UserTypeId="35" Name="text" MaxLength="16" Precision="0" Scale="0" />
        </value>
      </item>
      <item>
        <key>
          <int>36</int>
        </key>
        <value>
          <DbUserType UserTypeId="36" Name="uniqueidentifier" MaxLength="16" Precision="0" Scale="0" />
        </value>
      </item>
      <item>
        <key>
          <int>48</int>
        </key>
        <value>
          <DbUserType UserTypeId="48" Name="tinyint" MaxLength="1" Precision="3" Scale="0" />
        </value>
      </item>
      <item>
        <key>
          <int>52</int>
        </key>
        <value>
          <DbUserType UserTypeId="52" Name="smallint" MaxLength="2" Precision="5" Scale="0" />
        </value>
      </item>
      <item>
        <key>
          <int>56</int>
        </key>
        <value>
          <DbUserType UserTypeId="56" Name="int" MaxLength="4" Precision="10" Scale="0" />
        </value>
      </item>
      <item>
        <key>
          <int>58</int>
        </key>
        <value>
          <DbUserType UserTypeId="58" Name="smalldatetime" MaxLength="4" Precision="16" Scale="0" />
        </value>
      </item>
      <item>
        <key>
          <int>59</int>
        </key>
        <value>
          <DbUserType UserTypeId="59" Name="real" MaxLength="4" Precision="24" Scale="0" />
        </value>
      </item>
      <item>
        <key>
          <int>60</int>
        </key>
        <value>
          <DbUserType UserTypeId="60" Name="money" MaxLength="8" Precision="19" Scale="4" />
        </value>
      </item>
      <item>
        <key>
          <int>61</int>
        </key>
        <value>
          <DbUserType UserTypeId="61" Name="datetime" MaxLength="8" Precision="23" Scale="3" />
        </value>
      </item>
      <item>
        <key>
          <int>62</int>
        </key>
        <value>
          <DbUserType UserTypeId="62" Name="float" MaxLength="8" Precision="53" Scale="0" />
        </value>
      </item>
      <item>
        <key>
          <int>98</int>
        </key>
        <value>
          <DbUserType UserTypeId="98" Name="sql_variant" MaxLength="8016" Precision="0" Scale="0" />
        </value>
      </item>
      <item>
        <key>
          <int>99</int>
        </key>
        <value>
          <DbUserType UserTypeId="99" Name="ntext" MaxLength="16" Precision="0" Scale="0" />
        </value>
      </item>
      <item>
        <key>
          <int>104</int>
        </key>
        <value>
          <DbUserType UserTypeId="104" Name="bit" MaxLength="1" Precision="1" Scale="0" />
        </value>
      </item>
      <item>
        <key>
          <int>106</int>
        </key>
        <value>
          <DbUserType UserTypeId="106" Name="decimal" MaxLength="17" Precision="38" Scale="38" />
        </value>
      </item>
      <item>
        <key>
          <int>108</int>
        </key>
        <value>
          <DbUserType UserTypeId="108" Name="numeric" MaxLength="17" Precision="38" Scale="38" />
        </value>
      </item>
      <item>
        <key>
          <int>122</int>
        </key>
        <value>
          <DbUserType UserTypeId="122" Name="smallmoney" MaxLength="4" Precision="10" Scale="4" />
        </value>
      </item>
      <item>
        <key>
          <int>127</int>
        </key>
        <value>
          <DbUserType UserTypeId="127" Name="bigint" MaxLength="8" Precision="19" Scale="0" />
        </value>
      </item>
      <item>
        <key>
          <int>165</int>
        </key>
        <value>
          <DbUserType UserTypeId="165" Name="varbinary" MaxLength="8000" Precision="0" Scale="0" />
        </value>
      </item>
      <item>
        <key>
          <int>167</int>
        </key>
        <value>
          <DbUserType UserTypeId="167" Name="varchar" MaxLength="8000" Precision="0" Scale="0" />
        </value>
      </item>
      <item>
        <key>
          <int>173</int>
        </key>
        <value>
          <DbUserType UserTypeId="173" Name="binary" MaxLength="8000" Precision="0" Scale="0" />
        </value>
      </item>
      <item>
        <key>
          <int>175</int>
        </key>
        <value>
          <DbUserType UserTypeId="175" Name="char" MaxLength="8000" Precision="0" Scale="0" />
        </value>
      </item>
      <item>
        <key>
          <int>189</int>
        </key>
        <value>
          <DbUserType UserTypeId="189" Name="timestamp" MaxLength="8" Precision="0" Scale="0" />
        </value>
      </item>
      <item>
        <key>
          <int>231</int>
        </key>
        <value>
          <DbUserType UserTypeId="231" Name="nvarchar" MaxLength="8000" Precision="0" Scale="0" />
        </value>
      </item>
      <item>
        <key>
          <int>239</int>
        </key>
        <value>
          <DbUserType UserTypeId="239" Name="nchar" MaxLength="8000" Precision="0" Scale="0" />
        </value>
      </item>
      <item>
        <key>
          <int>256</int>
        </key>
        <value>
          <DbUserType UserTypeId="256" Name="sysname" MaxLength="256" Precision="0" Scale="0" />
        </value>
      </item>
    </Instance>
  </UserTypes>
  <Tables>
    <Instance>
      <item>
        <key>
          <string>bx_ThreadCateModels</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ThreadCateModels">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ModelID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ModelID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CateID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CateID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ModelName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ModelName" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Enable</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Enable" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ThreadCateModels</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ThreadCateModels" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ModelID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ModelID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ModelID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ThreadCateModels">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ThreadCateModels</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_ThreadCateModels_CateID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_ThreadCateModels_CateID" PrimaryTableName="bx_ThreadCates" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">CateID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">CateID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_ThreadCateModelFields</TableName>
                <ForeignKeyName>FK_bx_ThreadCateModelFields_ModelID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_ThreadCateModels_CateID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadCateModels_CateID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CateID</ColumnName>
                      <Column Name="CateID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadCateModels_ModelName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadCateModels_ModelName">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ModelName</ColumnName>
                      <Column Name="ModelName" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadCateModels_Enable</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadCateModels_Enable">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Enable</ColumnName>
                      <Column Name="Enable" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadCateModels_SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadCateModels_SortOrder">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SortOrder</ColumnName>
                      <Column Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ThreadCates</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ThreadCates">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>CateID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CateID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CateName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CateName" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Enable</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Enable" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ThreadCates</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ThreadCates" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CateID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CateID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CateID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ThreadCates">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ThreadCates</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_ThreadCateModels</TableName>
                <ForeignKeyName>FK_bx_ThreadCateModels_CateID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_ThreadCates_CateName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadCates_CateName">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CateName</ColumnName>
                      <Column Name="CateName" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadCates_Enable</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadCates_Enable">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Enable</ColumnName>
                      <Column Name="Enable" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadCates_SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadCates_SortOrder">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SortOrder</ColumnName>
                      <Column Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Adverts</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Adverts">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ADID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ADID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CategoryID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CategoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Index</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Index" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Position</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Position" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Targets</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Targets" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ADType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ADType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Available</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Available" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Color</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Color" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('0')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Title</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Title" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Code</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Code" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Text</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Text" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Href</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Href" UserTypeId="231" MaxLength="1000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FontSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FontSize" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(14)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ResourceHref</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ResourceHref" UserTypeId="231" MaxLength="1000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Height</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Height" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Width</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Width" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BeginDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="BeginDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Floor</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Floor" UserTypeId="167" MaxLength="1000" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>(',0,')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Adverts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Adverts" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ADID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ADID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ADID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Adverts">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Adverts</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Adverts_Index</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Adverts_Index">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Index</ColumnName>
                      <Column Name="Index" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Adverts_Position</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Adverts_Position">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Position</ColumnName>
                      <Column Name="Position" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Adverts_Targets</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Adverts_Targets">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Targets</ColumnName>
                      <Column Name="Targets" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Adverts_Available</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Adverts_Available">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Available</ColumnName>
                      <Column Name="Available" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Adverts_Color</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Adverts_Color">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Color</ColumnName>
                      <Column Name="Color" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('0')</DefaultDefinition>
                      </Column>
                      <Definition>('0')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Adverts_Title</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Adverts_Title">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Title</ColumnName>
                      <Column Name="Title" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Adverts_CODE</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Adverts_CODE">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Code</ColumnName>
                      <Column Name="Code" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Adverts_Text</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Adverts_Text">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Text</ColumnName>
                      <Column Name="Text" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Adverts_Href</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Adverts_Href">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Href</ColumnName>
                      <Column Name="Href" UserTypeId="231" MaxLength="1000" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Adverts_FontSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Adverts_FontSize">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FontSize</ColumnName>
                      <Column Name="FontSize" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(14)</DefaultDefinition>
                      </Column>
                      <Definition>(14)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Adverts_ResourceHref</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Adverts_ResourceHref">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ResourceHref</ColumnName>
                      <Column Name="ResourceHref" UserTypeId="231" MaxLength="1000" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Adverts_Width</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Adverts_Width">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Height</ColumnName>
                      <Column Name="Height" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Adverts_Height</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Adverts_Height">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Width</ColumnName>
                      <Column Name="Width" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Adverts_BeginDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Adverts_BeginDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>BeginDate</ColumnName>
                      <Column Name="BeginDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Adverts_Floor</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Adverts_Floor">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Floor</ColumnName>
                      <Column Name="Floor" UserTypeId="167" MaxLength="1000" Precision="0" Scale="0" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>(',0,')</DefaultDefinition>
                      </Column>
                      <Definition>(',0,')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ClickLogs</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ClickLogs">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserIdentify</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserIdentify" UserTypeId="167" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Ip</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Ip" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ClickDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ClickDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SourceType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SourceType" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TargetID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TargetID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ClickLogs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ClickLogs" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ClickLogs">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ClickLogs</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_ClickLogs_UserIdentify</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ClickLogs_UserIdentify">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserIdentify</ColumnName>
                      <Column Name="UserIdentify" UserTypeId="167" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CS_AS</Collation>
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ClickLogs_ClickDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ClickLogs_ClickDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ClickDate</ColumnName>
                      <Column Name="ClickDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ClickLogs_SourceType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ClickLogs_SourceType">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SourceType</ColumnName>
                      <Column Name="SourceType" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ClickLogs_TargetID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ClickLogs_TargetID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TargetID</ColumnName>
                      <Column Name="TargetID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SearchPostResults</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_SearchPostResults">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Keyword</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Keyword" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SearchMode</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SearchMode" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsDesc</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsDesc" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThreadIDs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadIDs" UserTypeId="35" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PostIDs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PostIDs" UserTypeId="35" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ForumIDs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ForumIDs" UserTypeId="35" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TargetUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TargetUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsBefore</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsBefore" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PostDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PostDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_SearchPostResults</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_SearchPostResults" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_SearchPostResults_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_SearchPostResults_UserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_SearchPostResults_IP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_SearchPostResults_IP" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">IP</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>IP</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="IP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                                <DefaultDefinition>('')</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_SearchPostResults_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_SearchPostResults_CreateDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CreateDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CreateDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_SearchPostResults_UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_SearchPostResults_UpdateDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UpdateDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UpdateDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_SearchPostResults">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_SearchPostResults</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_SearchPostResults_IP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_SearchPostResults_IP">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IP</ColumnName>
                      <Column Name="IP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_SearchPostResults_ForumIDs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_SearchPostResults_ForumIDs">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ForumIDs</ColumnName>
                      <Column Name="ForumIDs" UserTypeId="35" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_SearchPostResults_TargetUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_SearchPostResults_TargetUserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TargetUserID</ColumnName>
                      <Column Name="TargetUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_SearchPostResults_IsBefore</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_SearchPostResults_IsBefore">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsBefore</ColumnName>
                      <Column Name="IsBefore" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_SearchPostResults_UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_SearchPostResults_UpdateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UpdateDate</ColumnName>
                      <Column Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_SearchPostResults_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_SearchPostResults_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_PointLogs</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_PointLogs">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>LogID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LogID" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>OperateID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="OperateID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Remarks</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Remarks" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point0</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Point0" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point1</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Point1" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point2</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Point2" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point3</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Point3" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point4</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Point4" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point5</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Point5" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point6</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Point6" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point7</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Point7" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Current0</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Current0" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Current1</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Current1" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Current2</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Current2" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Current3</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Current3" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Current4</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Current4" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Current5</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Current5" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Current6</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Current6" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Current7</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Current7" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateTime" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_PointLogs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_PointLogs" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">LogID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>LogID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="LogID" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_PointLogs">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_PointLogs</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_PointLogs_OperateID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_PointLogs_OperateID" PrimaryTableName="bx_PointLogTypes" DeleteReferentialActionId="0" UpdateReferentialActionId="0">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">OperateID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">OperateID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FK_bx_PointLogs_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_PointLogs_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="0">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_PointLogs_P0</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PointLogs_P0">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Point0</ColumnName>
                      <Column Name="Point0" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PointLogs_P1</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PointLogs_P1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Point1</ColumnName>
                      <Column Name="Point1" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PointLogs_P2</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PointLogs_P2">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Point2</ColumnName>
                      <Column Name="Point2" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PointLogs_P3</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PointLogs_P3">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Point3</ColumnName>
                      <Column Name="Point3" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PointLogs_P4</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PointLogs_P4">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Point4</ColumnName>
                      <Column Name="Point4" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PointLogs_P5</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PointLogs_P5">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Point5</ColumnName>
                      <Column Name="Point5" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PointLogs_P6</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PointLogs_P6">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Point6</ColumnName>
                      <Column Name="Point6" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PointLogs_P7</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PointLogs_P7">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Point7</ColumnName>
                      <Column Name="Point7" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PointLogs_CP0</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PointLogs_CP0">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Current0</ColumnName>
                      <Column Name="Current0" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PointLogs_CP1</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PointLogs_CP1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Current1</ColumnName>
                      <Column Name="Current1" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PointLogs_CP2</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PointLogs_CP2">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Current2</ColumnName>
                      <Column Name="Current2" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PointLogs_CP3</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PointLogs_CP3">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Current3</ColumnName>
                      <Column Name="Current3" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PointLogs_CP4</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PointLogs_CP4">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Current4</ColumnName>
                      <Column Name="Current4" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PointLogs_CP5</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PointLogs_CP5">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Current5</ColumnName>
                      <Column Name="Current5" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PointLogs_CP6</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PointLogs_CP6">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Current6</ColumnName>
                      <Column Name="Current6" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PointLogs_CP7</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PointLogs_CP7">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Current7</ColumnName>
                      <Column Name="Current7" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PointLogs_CreateTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PointLogs_CreateTime">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateTime</ColumnName>
                      <Column Name="CreateTime" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ThreadExchanges</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ThreadExchanges">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Price</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Price" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ThreadExchanges</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ThreadExchanges" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ThreadExchanges">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ThreadExchanges</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_ThreadExchanges_ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_ThreadExchanges_ThreadID" PrimaryTableName="bx_Threads" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF__bx_Thread__Creat__0CA5D9DE</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF__bx_Thread__Creat__0CA5D9DE">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ClubCategories</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ClubCategories">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>CategoryID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CategoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalClubs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalClubs" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Name" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ClubCategories</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ClubCategories" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CategoryID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CategoryID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CategoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ClubCategories">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ClubCategories</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Clubs</TableName>
                <ForeignKeyName>FK_bx_Clubs_CategoryID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_ClubCategories_SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ClubCategories_SortOrder">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SortOrder</ColumnName>
                      <Column Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ClubCategories_TotalBlogs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ClubCategories_TotalBlogs">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalClubs</ColumnName>
                      <Column Name="TotalClubs" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ClubCategories_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ClubCategories_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ThreadImages</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ThreadImages">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AttachmentID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AttachmentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ImageUrl</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ImageUrl" UserTypeId="167" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ImageCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ImageCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ThreadImages</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ThreadImages" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ThreadImages">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ThreadImages</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_ThreadImages_ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_ThreadImages_ThreadID" PrimaryTableName="bx_Threads" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_ThreadImages_ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadImages_ThreadID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ThreadID</ColumnName>
                      <Column Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadImages_AttachmentID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadImages_AttachmentID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>AttachmentID</ColumnName>
                      <Column Name="AttachmentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadImages_ImageCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadImages_ImageCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ImageCount</ColumnName>
                      <Column Name="ImageCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_FriendGroups</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_FriendGroups">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>GroupID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="GroupID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>GroupName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="GroupName" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalFriends</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalFriends" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsShield</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsShield" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_FriendGroups</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_FriendGroups" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">GroupID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>GroupID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="GroupID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_FriendGroups_User</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_FriendGroups_User" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">GroupName</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>GroupName</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="GroupName" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_FriendGroups">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_FriendGroups</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_FriendGroups_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_FriendGroups_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Friends</TableName>
                <ForeignKeyName>FK_bx_Friends_GroupID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_FriendGroups_TotalFriends</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_FriendGroups_TotalFriends">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalFriends</ColumnName>
                      <Column Name="TotalFriends" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_FriendGroups_IsShield</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_FriendGroups_IsShield">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsShield</ColumnName>
                      <Column Name="IsShield" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_FriendGroups_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_FriendGroups_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Serials</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Serials">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>Serial</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Serial" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(newid())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExpiresDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ExpiresDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Type" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Data</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Data" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_bx_Serials</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_bx_Serials" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">Serial</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>Serial</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Serial" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(newid())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Serials_UserType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Serials_UserType" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">Type</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>Type</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Type" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_bx_Serials">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_bx_Serials</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_Serials_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Serials_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_bx_Serials_Serial</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_bx_Serials_Serial">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Serial</ColumnName>
                      <Column Name="Serial" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(newid())</DefaultDefinition>
                      </Column>
                      <Definition>(newid())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_bx_Serials_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_bx_Serials_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_bx_Serials_Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_bx_Serials_Type">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Type</ColumnName>
                      <Column Name="Type" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ClubMembers</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ClubMembers">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ClubID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ClubID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Status</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Status" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ClubMembers</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ClubMembers" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ClubID</anyType>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ClubID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ClubID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_ClubMembers_Status</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_ClubMembers_Status" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">Status</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>Status</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Status" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ClubMembers">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ClubMembers</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_ClubMembers_ClubID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_ClubMembers_ClubID" PrimaryTableName="bx_Clubs" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ClubID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ClubID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FK_bx_ClubMembers_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_ClubMembers_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_ClubMembers_ClubID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ClubMembers_ClubID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ClubID</ColumnName>
                      <Column Name="ClubID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ClubMembers_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ClubMembers_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ClubMembers_Status</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ClubMembers_Status">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Status</ColumnName>
                      <Column Name="Status" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ClubMembers_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ClubMembers_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ThreadManageLogs</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ThreadManageLogs">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>LogID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserName" UserTypeId="231" MaxLength="128" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>NickName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="NickName" UserTypeId="231" MaxLength="128" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IPAddress</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IPAddress" UserTypeId="167" MaxLength="15" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PostUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PostUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ActionType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ActionType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ForumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThreadSubject</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadSubject" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Reason</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Reason" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsPublic</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsPublic" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ThreadManageLogs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ThreadManageLogs" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">LogID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>LogID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="LogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_ThreadManageLog_ActionType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_ThreadManageLog_ActionType" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ActionType</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ActionType</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ActionType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_ThreadManageLog_UserID_ActionType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_ThreadManageLog_UserID_ActionType" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">ActionType</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ActionType</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ActionType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_ThreadManageLog_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_ThreadManageLog_UserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ThreadManageLogs">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ThreadManageLogs</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_ThreadManageLogs_NickName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadManageLogs_NickName">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>NickName</ColumnName>
                      <Column Name="NickName" UserTypeId="231" MaxLength="128" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadManageLogs_PostUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadManageLogs_PostUserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>PostUserID</ColumnName>
                      <Column Name="PostUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadManageLogs_ThreadSubject</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadManageLogs_ThreadSubject">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ThreadSubject</ColumnName>
                      <Column Name="ThreadSubject" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadManageLogs_Reason</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadManageLogs_Reason">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Reason</ColumnName>
                      <Column Name="Reason" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadManageLogs_CreatDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadManageLogs_CreatDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadManageLogs_IsPublic</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadManageLogs_IsPublic">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsPublic</ColumnName>
                      <Column Name="IsPublic" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Friends</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Friends">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_FriendsHasImpressions</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FriendUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FriendUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>GroupID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="GroupID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Hot</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Hot" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Friends</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Friends" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">FriendUserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>FriendUserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="FriendUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Friends_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Friends_UserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Friends">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Friends</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_Friends_GroupID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Friends_GroupID" PrimaryTableName="bx_FriendGroups" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">GroupID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">GroupID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Friends_GroupID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Friends_GroupID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>GroupID</ColumnName>
                      <Column Name="GroupID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Friends_Hot</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Friends_Hot">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Hot</ColumnName>
                      <Column Name="Hot" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Friends_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Friends_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_Friends_AfterDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Friends_AfterDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>
--删除好友触发器
CREATE TRIGGER [bx_Friends_AfterDelete]
	ON [bx_Friends]
	AFTER DELETE
AS
BEGIN

	SET NOCOUNT ON;

	DECLARE @tempTable table(UserID int, GroupID int,TotalFriends int);

	INSERT INTO @tempTable 
	SELECT DISTINCT UserID,GroupID,
		(ISNULL((SELECT COUNT(*) FROM [bx_Friends] as m WITH (NOLOCK) WHERE m.UserID = T.UserID AND m.GroupID = T.GroupID), 0))
		FROM [DELETED] T
		WHERE T.GroupID &gt; 0;


	UPDATE [bx_FriendGroups]
		SET
			TotalFriends = T.TotalFriends
		FROM @tempTable T
		WHERE
			T.UserID = bx_FriendGroups.UserID
			AND
			T.GroupID = bx_FriendGroups.GroupID;



	DECLARE @tempTable2 table(UserID int,TotalFriends int);

	INSERT INTO @tempTable2 
	SELECT DISTINCT UserID,
					(ISNULL((SELECT COUNT(*) FROM bx_Friends m WITH (NOLOCK) WHERE m.UserID = T.UserID AND m.GroupID &gt;= 0), 0))
		FROM [DELETED] T;
		--WHERE T.GroupID &gt;= 0;


	UPDATE [bx_UserInfos]
		SET
			bx_UserInfos.TotalFriends = T.TotalFriends
		FROM @tempTable2 T
		WHERE
			T.UserID = bx_UserInfos.UserID;

			
	--发出重新填充UserInfo的XCMD命令(已经在bx_UserInfos触发器中统一做)
	--SELECT 'ResetUser' AS XCMD, UserID, TotalFriends FROM @tempTable2;
	
END


</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_Friends_AfterInsert</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Friends_AfterInsert">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>
--添加好友触发器
CREATE TRIGGER [bx_Friends_AfterInsert]
	ON [bx_Friends]
	AFTER INSERT
AS
BEGIN

	SET NOCOUNT ON;

	DECLARE @tempTable table(UserID int, GroupID int,TotalFriends int);

	INSERT INTO @tempTable 
	SELECT DISTINCT UserID,GroupID,
		(ISNULL((SELECT COUNT(*) FROM [bx_Friends] as m WITH (NOLOCK) WHERE m.UserID = T.UserID AND m.GroupID = T.GroupID), 0))
		FROM [INSERTED] T
		WHERE T.GroupID &gt; 0;


	UPDATE [bx_FriendGroups]
		SET
			TotalFriends = T.TotalFriends
		FROM @tempTable T
		WHERE
			T.UserID = bx_FriendGroups.UserID
			AND
			T.GroupID = bx_FriendGroups.GroupID;



	DECLARE @tempTable2 table(UserID int,TotalFriends int);

	INSERT INTO @tempTable2 
	SELECT DISTINCT UserID,
					(ISNULL((SELECT COUNT(*) FROM bx_Friends m WITH (NOLOCK) WHERE m.UserID = T.UserID AND m.GroupID &gt;= 0), 0))
		FROM [INSERTED] T
		WHERE T.GroupID &gt;= 0;


	UPDATE [bx_UserInfos]
		SET
			bx_UserInfos.TotalFriends = T.TotalFriends
		FROM @tempTable2 T
		WHERE
			T.UserID = bx_UserInfos.UserID;

			
	--发出重新填充UserInfo的XCMD命令(已经在bx_UserInfos触发器中统一做)
	--SELECT 'ResetUser' AS XCMD, UserID, TotalFriends FROM @tempTable2;

END</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_Friends_AfterUpdate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Friends_AfterUpdate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>
--添加好友触发器
CREATE TRIGGER [bx_Friends_AfterUpdate]
	ON [bx_Friends]
	AFTER UPDATE
AS
BEGIN

	SET NOCOUNT ON;

	IF UPDATE([GroupID]) BEGIN

		DECLARE @tempTable table(UserID int, GroupID int,TotalFriends int);

		INSERT INTO @tempTable
		SELECT DISTINCT UserID,GroupID,
			(ISNULL((SELECT COUNT(*) FROM [bx_Friends] as m WITH (NOLOCK) WHERE m.UserID = T.UserID AND m.GroupID = T.GroupID), 0))
			FROM [INSERTED] T WHERE T.GroupID &gt; 0;

		INSERT INTO @tempTable
		SELECT DISTINCT UserID,GroupID,
			(ISNULL((SELECT COUNT(*) FROM [bx_Friends] as m WITH (NOLOCK) WHERE m.UserID = T.UserID AND m.GroupID = T.GroupID), 0))
			FROM [DELETED] T
			WHERE T.GroupID &gt; 0 AND T.GroupID NOT IN (SELECT GroupID FROM @tempTable);



		UPDATE [bx_FriendGroups]
			SET
				TotalFriends = T.TotalFriends
			FROM @tempTable T
			WHERE
				T.UserID = bx_FriendGroups.UserID
				AND
				T.GroupID = bx_FriendGroups.GroupID;


		DECLARE @tempTable2 table(UserID int,TotalFriends int);

			INSERT INTO @tempTable2 
			SELECT DISTINCT UserID,
							(ISNULL((SELECT COUNT(*) FROM bx_Friends m WITH (NOLOCK) WHERE m.UserID = T.UserID AND m.GroupID &gt;= 0), 0))
				FROM [DELETED] T
				WHERE T.GroupID &gt;= 0;


			UPDATE [bx_UserInfos]
				SET
					bx_UserInfos.TotalFriends = T.TotalFriends
				FROM @tempTable2 T
				WHERE
					T.UserID = bx_UserInfos.UserID;

					
			--发出重新填充UserInfo的XCMD命令(已经在bx_UserInfos触发器中统一做)
			--SELECT 'ResetUser' AS XCMD, UserID, TotalFriends FROM @tempTable2;

	END

END</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Settings</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Settings">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>NodeID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="NodeID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Key</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Key" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('*')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TypeName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TypeName" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Value</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Value" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Settings_Key</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Settings_Key">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Key</ColumnName>
                      <Column Name="Key" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('*')</DefaultDefinition>
                      </Column>
                      <Definition>('*')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_AlbumReverters</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_AlbumReverters">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>AlbumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AlbumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>NameReverter</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="NameReverter" UserTypeId="231" MaxLength="3000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DescriptionReverter</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DescriptionReverter" UserTypeId="231" MaxLength="5000" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_AlbumReverters</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_AlbumReverters" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">AlbumID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>AlbumID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="AlbumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_AlbumReverters">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_AlbumReverters</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_AlbumReverters_AlbumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_AlbumReverters_AlbumID" PrimaryTableName="bx_Albums" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">AlbumID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">AlbumID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ShareReverters</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ShareReverters">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ShareID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ShareID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ContentReverter</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ContentReverter" UserTypeId="231" MaxLength="8000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ShareReverters</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ShareReverters" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ShareID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ShareID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ShareID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ShareReverters">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ShareReverters</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_ShareReverters_ShareID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_ShareReverters_ShareID" PrimaryTableName="bx_Shares" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ShareID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ShareID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Clubs</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Clubs">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ClubID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ClubID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CategoryID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CategoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalViews</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalViews" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalMembers</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalMembers" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsApproved</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsApproved" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsNeedManager</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsNeedManager" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>JoinMethod</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="JoinMethod" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AccessMode</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AccessMode" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Name" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IconSrc</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IconSrc" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Description" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Clubs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Clubs" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ClubID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ClubID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ClubID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Clubs_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Clubs_UserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Clubs_CategoryID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Clubs_CategoryID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CategoryID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CategoryID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CategoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Clubs_IsApproved</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Clubs_IsApproved" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">IsApproved</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>IsApproved</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="IsApproved" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Clubs">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Clubs</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_Clubs_CategoryID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Clubs_CategoryID" PrimaryTableName="bx_ClubCategories" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">CategoryID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">CategoryID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_ClubMembers</TableName>
                <ForeignKeyName>FK_bx_ClubMembers_ClubID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Clubs_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Clubs_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Clubs_CategoryID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Clubs_CategoryID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CategoryID</ColumnName>
                      <Column Name="CategoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Clubs_TotalViews</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Clubs_TotalViews">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalViews</ColumnName>
                      <Column Name="TotalViews" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Clubs_TotalMembers</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Clubs_TotalMembers">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalMembers</ColumnName>
                      <Column Name="TotalMembers" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Clubs_IsApproved</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Clubs_IsApproved">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsApproved</ColumnName>
                      <Column Name="IsApproved" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Clubs_IsNeedManager</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Clubs_IsNeedManager">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsNeedManager</ColumnName>
                      <Column Name="IsNeedManager" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Clubs_JoinMethod</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Clubs_JoinMethod">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>JoinMethod</ColumnName>
                      <Column Name="JoinMethod" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Clubs_AccessMode</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Clubs_AccessMode">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>AccessMode</ColumnName>
                      <Column Name="AccessMode" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Clubs_CreateIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Clubs_CreateIP">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateIP</ColumnName>
                      <Column Name="CreateIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Clubs_Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Clubs_Name">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Name</ColumnName>
                      <Column Name="Name" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Clubs_IconSrc</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Clubs_IconSrc">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IconSrc</ColumnName>
                      <Column Name="IconSrc" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Clubs_Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Clubs_Description">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Description</ColumnName>
                      <Column Name="Description" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Clubs_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Clubs_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Clubs_UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Clubs_UpdateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UpdateDate</ColumnName>
                      <Column Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Clubs_KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Clubs_KeywordVersion">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>KeywordVersion</ColumnName>
                      <Column Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Albums</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Albums">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>AlbumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AlbumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalPhotos</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalPhotos" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastEditUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastEditUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PrivacyType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PrivacyType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Name" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Description" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Cover</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Cover" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CoverPhotoID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CoverPhotoID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Password</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Password" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Albums</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Albums" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">AlbumID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>AlbumID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="AlbumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Albums_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Albums_UserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Albums_PrivacyType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Albums_PrivacyType" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">PrivacyType</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>PrivacyType</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="PrivacyType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Albums">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Albums</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_Albums_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Albums_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_AlbumReverters</TableName>
                <ForeignKeyName>FK_bx_AlbumReverters_AlbumID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Photos</TableName>
                <ForeignKeyName>FK_bx_Photos_AlbumID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Albums_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Albums_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Albums_TotalPhotos</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Albums_TotalPhotos">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalPhotos</ColumnName>
                      <Column Name="TotalPhotos" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Albums_LastEditUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Albums_LastEditUserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastEditUserID</ColumnName>
                      <Column Name="LastEditUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Albums_PrivacyType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Albums_PrivacyType">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>PrivacyType</ColumnName>
                      <Column Name="PrivacyType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Albums_Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Albums_Name">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Name</ColumnName>
                      <Column Name="Name" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Albums_Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Albums_Description">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Description</ColumnName>
                      <Column Name="Description" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Albums_Cover</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Albums_Cover">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Cover</ColumnName>
                      <Column Name="Cover" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Albums_Password</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Albums_Password">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Password</ColumnName>
                      <Column Name="Password" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Albums_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Albums_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Albums_UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Albums_UpdateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UpdateDate</ColumnName>
                      <Column Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Albums_KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Albums_KeywordVersion">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>KeywordVersion</ColumnName>
                      <Column Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_Albums_AfterDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Albums_AfterDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>


CREATE TRIGGER [bx_Albums_AfterDelete]
	ON [bx_Albums]
	AFTER DELETE
AS
BEGIN
	
	SET NOCOUNT ON;
	
	DECLARE @tempTable table(UserID int, TotalAlbums int);

	INSERT INTO @tempTable 
		SELECT DISTINCT UserID,
			(ISNULL((SELECT COUNT(*) FROM [bx_Albums] AS m WITH (NOLOCK) WHERE m.UserID = T.UserID), 0))
		FROM [DELETED] T;
	
	UPDATE [bx_Users]
		SET
			bx_Users.TotalAlbums = T.TotalAlbums
		FROM @tempTable T
		WHERE
			T.UserID = bx_Users.UserID;

	--发出重新填充UserInfo的XCMD命令
	SELECT 'ResetUser' AS XCMD, UserID, TotalAlbums FROM @tempTable;
END
</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_Albums_AfterInsert</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Albums_AfterInsert">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>


CREATE TRIGGER [bx_Albums_AfterInsert]
	ON [bx_Albums]
	AFTER INSERT
AS
BEGIN
	
	SET NOCOUNT ON;

	DECLARE @tempTable table(UserID int, TotalAlbums int);

	INSERT INTO @tempTable 
		SELECT DISTINCT UserID,
			ISNULL((SELECT COUNT(*) FROM [bx_Albums] as m WITH (NOLOCK) WHERE m.UserID = T.UserID), 0)
		FROM [INSERTED] T;
	
	UPDATE [bx_Users]
		SET
			bx_Users.TotalAlbums = T.TotalAlbums
		FROM @tempTable T
		WHERE
			T.UserID = bx_Users.UserID;

	--发出重新填充UserInfo的XCMD命令
	SELECT 'ResetUser' AS XCMD, UserID, TotalAlbums FROM @tempTable;	
END</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_Albums_AfterUpdate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Albums_AfterUpdate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>

CREATE TRIGGER [bx_Albums_AfterUpdate]
	ON [bx_Albums]
	AFTER UPDATE
AS
BEGIN

	SET NOCOUNT ON;
	SELECT 'ResetAlbum' AS XCMD, [INSERTED].* FROM [INSERTED];

END
</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UserShareReverters</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_UserShareReverters">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserShareID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserShareID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SubjectReverter</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SubjectReverter" UserTypeId="231" MaxLength="8000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DescriptionReverter</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DescriptionReverter" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_UserShareReverters</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_UserShareReverters" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserShareID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserShareID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserShareID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_UserShareReverters">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_UserShareReverters</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_UserShareReverters_UserShareID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_UserShareReverters_UserShareID" PrimaryTableName="bx_UserShares" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserShareID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserShareID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Identities_4000</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Identities_4000">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>I</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="I" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Identities_4000</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Identities_4000" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">I</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>I</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="I" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Identities_4000">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Identities_4000</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ThreadRanks</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ThreadRanks">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Rank</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Rank" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ThreadRanks</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ThreadRanks" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_ThreadRanks_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_ThreadRanks_CreateDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CreateDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CreateDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ThreadRanks">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ThreadRanks</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_ThreadRanks_ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_ThreadRanks_ThreadID" PrimaryTableName="bx_Threads" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_ThreadRanks_Rank</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadRanks_Rank">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Rank</ColumnName>
                      <Column Name="Rank" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadRanks_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadRanks_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadRanks_UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadRanks_UpdateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UpdateDate</ColumnName>
                      <Column Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Shares</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Shares">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_SharesView</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ShareID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ShareID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TargetID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TargetID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalComments</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalComments" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Type" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Url</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Url" UserTypeId="231" MaxLength="1024" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Content</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Content" UserTypeId="231" MaxLength="5600" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastCommentDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastCommentDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>('1753-1-1')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AgreeCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AgreeCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>OpposeCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="OpposeCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ShareCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ShareCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AgreeAndOpposeCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AgreeAndOpposeCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Shares</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Shares" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ShareID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ShareID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ShareID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Shares_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Shares_UserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">Type</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>Type</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Type" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Shares_TargetID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Shares_TargetID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">TargetID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>TargetID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TargetID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Shares_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Shares_CreateDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CreateDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CreateDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Shares_AgreeAndOpposeCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Shares_AgreeAndOpposeCount" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">AgreeAndOpposeCount</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>AgreeAndOpposeCount</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="AgreeAndOpposeCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Shares">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Shares</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_ShareReverters</TableName>
                <ForeignKeyName>FK_bx_ShareReverters_ShareID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_UserShares</TableName>
                <ForeignKeyName>FK_bx_UserShares_ShareID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Shares_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Shares_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Shares_TargetID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Shares_TargetID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TargetID</ColumnName>
                      <Column Name="TargetID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Shares_TotalComments</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Shares_TotalComments">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalComments</ColumnName>
                      <Column Name="TotalComments" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Shares_Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Shares_Type">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Type</ColumnName>
                      <Column Name="Type" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Shares_Url</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Shares_Url">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Url</ColumnName>
                      <Column Name="Url" UserTypeId="231" MaxLength="1024" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CS_AS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Shares_Content</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Shares_Content">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Content</ColumnName>
                      <Column Name="Content" UserTypeId="231" MaxLength="5600" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Shares_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Shares_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Shares_LastCommentDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Shares_LastCommentDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastCommentDate</ColumnName>
                      <Column Name="LastCommentDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>('1753-1-1')</DefaultDefinition>
                      </Column>
                      <Definition>('1753-1-1')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Shares_KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Shares_KeywordVersion">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>KeywordVersion</ColumnName>
                      <Column Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Shares_AgreeCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Shares_AgreeCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>AgreeCount</ColumnName>
                      <Column Name="AgreeCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Shares_OpposeCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Shares_OpposeCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>OpposeCount</ColumnName>
                      <Column Name="OpposeCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Shares_ShareCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Shares_ShareCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ShareCount</ColumnName>
                      <Column Name="ShareCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Shares_AgreeAndOpposeCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Shares_AgreeAndOpposeCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>AgreeAndOpposeCount</ColumnName>
                      <Column Name="AgreeAndOpposeCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Shares_SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Shares_SortOrder">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SortOrder</ColumnName>
                      <Column Name="SortOrder" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Identities_8000</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Identities_8000">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>I</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="I" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Identities_8000</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Identities_8000" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">I</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>I</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="I" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Identities_8000">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Identities_8000</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_PointLogTypes</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_PointLogTypes">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>OperateID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="OperateID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>OperateName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="OperateName" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_PointLogTypes</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_PointLogTypes" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">OperateID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>OperateID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="OperateID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_PointLogTypes">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_PointLogTypes</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_PointLogs</TableName>
                <ForeignKeyName>FK_bx_PointLogs_OperateID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ImpressionRecords</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ImpressionRecords">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_ImpressionRecordsWithTypeInfo</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>RecordID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="RecordID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TypeID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TypeID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TargetUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TargetUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ImpressionRecords</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ImpressionRecords" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">RecordID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>RecordID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="RecordID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_ImpressionRecords_TargetUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_ImpressionRecords_TargetUserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">TargetUserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>TargetUserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TargetUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_ImpressionRecords_UserID_TargetUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_ImpressionRecords_UserID_TargetUserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">TargetUserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>TargetUserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TargetUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ImpressionRecords">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ImpressionRecords</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_ImpressionRecords_TypeID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_ImpressionRecords_TypeID" PrimaryTableName="bx_ImpressionTypes" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">TypeID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">TypeID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FK_bx_ImpressionRecords_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_ImpressionRecords_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_ImpressionRecords_TypeID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ImpressionRecords_TypeID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TypeID</ColumnName>
                      <Column Name="TypeID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ImpressionRecords_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ImpressionRecords_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ImpressionRecords_TargetUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ImpressionRecords_TargetUserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TargetUserID</ColumnName>
                      <Column Name="TargetUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ImpressionRecords_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ImpressionRecords_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_ImpressionRecords_AfterDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_ImpressionRecords_AfterDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>

CREATE TRIGGER [bx_ImpressionRecords_AfterDelete]
ON [bx_ImpressionRecords] AFTER DELETE
AS
BEGIN

        UPDATE bx_Impressions SET [Count] = [Count] - 1 FROM [DELETED] WHERE bx_Impressions.UserID = [DELETED].TargetUserID AND bx_Impressions.TypeID = [DELETED].TypeID;
     
		UPDATE bx_ImpressionTypes SET RecordCount = RecordCount - 1 FROM [DELETED] WHERE bx_ImpressionTypes.TypeID = [DELETED].TypeID;
END</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_ImpressionRecords_AfterInsert</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_ImpressionRecords_AfterInsert">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>

CREATE TRIGGER [bx_ImpressionRecords_AfterInsert]
ON [bx_ImpressionRecords] AFTER INSERT
AS
BEGIN

        UPDATE bx_Impressions SET [Count] = [Count] + 1, [UpdateDate] = GETDATE() FROM [INSERTED] WHERE bx_Impressions.UserID = [INSERTED].TargetUserID AND bx_Impressions.TypeID = [INSERTED].TypeID;
        
		UPDATE bx_ImpressionTypes SET RecordCount = RecordCount + 1 FROM [INSERTED] WHERE bx_ImpressionTypes.TypeID = [INSERTED].TypeID;
		
		UPDATE bx_UserVars SET [LastImpressionDate] = GETDATE() FROM [INSERTED] WHERE bx_UserVars.UserID = [INSERTED].TargetUserID;
END</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_PointShows</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_PointShows">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_PointShowUsers</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ShowPoints</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ShowPoints" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Price</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Price" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Content</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Content" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>IX_bx_PointShows_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_PointShows_UserID" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_PointShows_ShowPoints</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_PointShows_ShowPoints" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ShowPoints</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ShowPoints</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ShowPoints" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_PointShows_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_PointShows_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_PointShows_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PointShows_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_PointShows_After_Update</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_PointShows_After_Update">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>

CREATE TRIGGER  bx_PointShows_After_Update  ON [bx_PointShows] 
FOR INSERT, UPDATE 
AS
BEGIN

DECLARE @UserIDs  table(UserID  int)

INSERT @UserIDs SELECT UserID FROM INSERTED;

UPDATE bx_PointShows SET Price = ShowPoints WHERE UserID IN( SELECT UserID FROM @UserIDs ) AND  Price&gt;ShowPoints 

DELETE FROM bx_PointShows WHERE  UserID IN( SELECT UserID FROM @UserIDs ) AND  Price=0;

END
</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ThreadReverters</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ThreadReverters">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SubjectReverter</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SubjectReverter" UserTypeId="231" MaxLength="8000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ThreadReverters</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ThreadReverters" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ThreadReverters">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ThreadReverters</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_ThreadReverters_ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_ThreadReverters_ThreadID" PrimaryTableName="bx_Threads" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Polemizes</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Polemizes">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AgreeViewPoint</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AgreeViewPoint" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AgreeCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AgreeCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AgainstViewPoint</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AgainstViewPoint" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AgainstCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AgainstCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>NeutralCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="NeutralCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExpiresDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ExpiresDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Polemizes</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Polemizes" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Polemizes">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Polemizes</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_Polemizes_ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Polemizes_ThreadID" PrimaryTableName="bx_Threads" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Polemizes_AgreeCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Polemizes_AgreeCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>AgreeCount</ColumnName>
                      <Column Name="AgreeCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Polemizes_AgainstCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Polemizes_AgainstCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>AgainstCount</ColumnName>
                      <Column Name="AgainstCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Polemizes_NeutralCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Polemizes_NeutralCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>NeutralCount</ColumnName>
                      <Column Name="NeutralCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Polemizes_ExpiresDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Polemizes_ExpiresDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ExpiresDate</ColumnName>
                      <Column Name="ExpiresDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Threads</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Threads">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_TopicsWithContents</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ForumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThreadCatalogID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadCatalogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThreadType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IconID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IconID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Subject</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Subject" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SubjectStyle</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SubjectStyle" UserTypeId="231" MaxLength="600" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalReplies</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalReplies" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalViews</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalViews" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalAttachments</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalAttachments" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Price</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Price" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Rank</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Rank" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PostUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PostUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PostNickName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PostNickName" UserTypeId="231" MaxLength="128" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastPostUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastPostUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastPostNickName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastPostNickName" UserTypeId="231" MaxLength="128" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsLocked</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsLocked" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsValued</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsValued" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Perorate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Perorate" UserTypeId="231" MaxLength="64" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThreadStatus</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UpdateSortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UpdateSortOrder" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThreadLog</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadLog" UserTypeId="231" MaxLength="256" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>JudgementID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="JudgementID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ShareCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ShareCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CollectionCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CollectionCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Words</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Words" UserTypeId="231" MaxLength="800" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastPostID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastPostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ContentID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ContentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PostedCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PostedCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExtendData</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ExtendData" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AttachmentType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AttachmentType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Threads</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Threads" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Threads_SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Threads_SortOrder" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">SortOrder</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>SortOrder</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Threads_ThreadStatus</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Threads_ThreadStatus" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadStatus</anyType>
                        <anyType xsi:type="xsd:string">SortOrder</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadStatus</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(1)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>SortOrder</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Threads_Forum</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Threads_Forum" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                        <anyType xsi:type="xsd:string">ThreadStatus</anyType>
                        <anyType xsi:type="xsd:string">SortOrder</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ForumID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ThreadStatus</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(1)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>SortOrder</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Threads_Catalog</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Threads_Catalog" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadCatalogID</anyType>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                        <anyType xsi:type="xsd:string">ThreadStatus</anyType>
                        <anyType xsi:type="xsd:string">SortOrder</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadCatalogID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadCatalogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ForumID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ThreadStatus</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(1)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>SortOrder</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Threads_Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Threads_Type" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadType</anyType>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                        <anyType xsi:type="xsd:string">ThreadStatus</anyType>
                        <anyType xsi:type="xsd:string">SortOrder</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadType</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ForumID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ThreadStatus</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(1)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>SortOrder</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Threads_User</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Threads_User" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">PostUserID</anyType>
                        <anyType xsi:type="xsd:string">ThreadStatus</anyType>
                        <anyType xsi:type="xsd:string">SortOrder</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>PostUserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="PostUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ThreadStatus</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(1)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>SortOrder</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Threads_Valued</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Threads_Valued" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">IsValued</anyType>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                        <anyType xsi:type="xsd:string">ThreadStatus</anyType>
                        <anyType xsi:type="xsd:string">SortOrder</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>IsValued</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="IsValued" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ForumID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ThreadStatus</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(1)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>SortOrder</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Threads_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Threads_CreateDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CreateDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CreateDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Threads_UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Threads_UpdateDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UpdateDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UpdateDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Threads_ForumTotalReplies</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Threads_ForumTotalReplies" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                        <anyType xsi:type="xsd:string">ThreadStatus</anyType>
                        <anyType xsi:type="xsd:string">TotalReplies</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ForumID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ThreadStatus</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(1)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>TotalReplies</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TotalReplies" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Threads_ForumTotalViews</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Threads_ForumTotalViews" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                        <anyType xsi:type="xsd:string">ThreadStatus</anyType>
                        <anyType xsi:type="xsd:string">TotalViews</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ForumID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ThreadStatus</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(1)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>TotalViews</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TotalViews" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Threads_TotalReplies</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Threads_TotalReplies" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadStatus</anyType>
                        <anyType xsi:type="xsd:string">TotalReplies</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadStatus</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(1)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>TotalReplies</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TotalReplies" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Threads_TotalViews</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Threads_TotalViews" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadStatus</anyType>
                        <anyType xsi:type="xsd:string">TotalViews</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadStatus</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(1)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>TotalViews</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TotalViews" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Threads_LastPostID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Threads_LastPostID" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadStatus</anyType>
                        <anyType xsi:type="xsd:string">LastPostID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadStatus</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(1)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>LastPostID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="LastPostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Threads_Catalog2</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Threads_Catalog2" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadCatalogID</anyType>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                        <anyType xsi:type="xsd:string">ThreadStatus</anyType>
                        <anyType xsi:type="xsd:string">LastPostID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadCatalogID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadCatalogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ForumID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ThreadStatus</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(1)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>LastPostID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="LastPostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Threads_Forum2</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Threads_Forum2" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                        <anyType xsi:type="xsd:string">ThreadStatus</anyType>
                        <anyType xsi:type="xsd:string">LastPostID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ForumID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ThreadStatus</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(1)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>LastPostID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="LastPostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Threads_Type2</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Threads_Type2" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadType</anyType>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                        <anyType xsi:type="xsd:string">ThreadStatus</anyType>
                        <anyType xsi:type="xsd:string">LastPostID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadType</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ForumID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ThreadStatus</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(1)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>LastPostID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="LastPostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Threads_User2</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Threads_User2" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">PostUserID</anyType>
                        <anyType xsi:type="xsd:string">ThreadStatus</anyType>
                        <anyType xsi:type="xsd:string">LastPostID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>PostUserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="PostUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ThreadStatus</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(1)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>LastPostID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="LastPostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Threads_Valued2</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Threads_Valued2" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">IsValued</anyType>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                        <anyType xsi:type="xsd:string">ThreadStatus</anyType>
                        <anyType xsi:type="xsd:string">LastPostID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>IsValued</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="IsValued" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ForumID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ThreadStatus</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(1)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>LastPostID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="LastPostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Threads">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Threads</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_Threads_ForumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Threads_ForumID" PrimaryTableName="bx_Forums" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Polemizes</TableName>
                <ForeignKeyName>FK_bx_Polemizes_ThreadID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_PolemizeUsers</TableName>
                <ForeignKeyName>FK_bx_PolemizeUsers_ThreadID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Polls</TableName>
                <ForeignKeyName>FK_bx_Polls_ThreadID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Posts</TableName>
                <ForeignKeyName>FK_bx_Posts_ThreadID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Questions</TableName>
                <ForeignKeyName>FK_bx_Questions_ThreadID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_StickThreads</TableName>
                <ForeignKeyName>FK_bx_StickThreads_ThreadID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_ThreadExchanges</TableName>
                <ForeignKeyName>FK_bx_ThreadExchanges_ThreadID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_ThreadImages</TableName>
                <ForeignKeyName>FK_bx_ThreadImages_ThreadID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_ThreadRanks</TableName>
                <ForeignKeyName>FK_bx_ThreadRanks_ThreadID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_ThreadReverters</TableName>
                <ForeignKeyName>FK_bx_ThreadReverters_ThreadID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_ThreadWords</TableName>
                <ForeignKeyName>FK_bx_ThreadWords_ThreadID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_TopicStatus</TableName>
                <ForeignKeyName>FK_bx_TopicStatus_ThreadID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Threads_ForumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_ForumID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ForumID</ColumnName>
                      <Column Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_ThreadCatalogID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_ThreadCatalogID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ThreadCatalogID</ColumnName>
                      <Column Name="ThreadCatalogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_ThreadType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_ThreadType">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ThreadType</ColumnName>
                      <Column Name="ThreadType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_EmoticonID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_EmoticonID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IconID</ColumnName>
                      <Column Name="IconID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_SubjectStyle</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_SubjectStyle">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SubjectStyle</ColumnName>
                      <Column Name="SubjectStyle" UserTypeId="231" MaxLength="600" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_TotalReplies</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_TotalReplies">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalReplies</ColumnName>
                      <Column Name="TotalReplies" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_TotalViews</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_TotalViews">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalViews</ColumnName>
                      <Column Name="TotalViews" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_TotalAttachments</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_TotalAttachments">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalAttachments</ColumnName>
                      <Column Name="TotalAttachments" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_Price</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_Price">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Price</ColumnName>
                      <Column Name="Price" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_Rank</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_Rank">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Rank</ColumnName>
                      <Column Name="Rank" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_PostUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_PostUserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>PostUserID</ColumnName>
                      <Column Name="PostUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_PostNickName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_PostNickName">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>PostNickName</ColumnName>
                      <Column Name="PostNickName" UserTypeId="231" MaxLength="128" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_LastPostUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_LastPostUserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastPostUserID</ColumnName>
                      <Column Name="LastPostUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_LastPostNickName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_LastPostNickName">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastPostNickName</ColumnName>
                      <Column Name="LastPostNickName" UserTypeId="231" MaxLength="128" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_IsLocked</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_IsLocked">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsLocked</ColumnName>
                      <Column Name="IsLocked" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_IsValued</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_IsValued">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsValued</ColumnName>
                      <Column Name="IsValued" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_Perorate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_Perorate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Perorate</ColumnName>
                      <Column Name="Perorate" UserTypeId="231" MaxLength="64" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_UpdateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UpdateDate</ColumnName>
                      <Column Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Posts_ThreadStatus</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Posts_ThreadStatus">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ThreadStatus</ColumnName>
                      <Column Name="ThreadStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_UpdateSortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_UpdateSortOrder">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UpdateSortOrder</ColumnName>
                      <Column Name="UpdateSortOrder" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_ThreadLog</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_ThreadLog">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ThreadLog</ColumnName>
                      <Column Name="ThreadLog" UserTypeId="231" MaxLength="256" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CS_AS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_JudgementID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_JudgementID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>JudgementID</ColumnName>
                      <Column Name="JudgementID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_ShareCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_ShareCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ShareCount</ColumnName>
                      <Column Name="ShareCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_CollectionCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_CollectionCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CollectionCount</ColumnName>
                      <Column Name="CollectionCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_LastPostID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_LastPostID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastPostID</ColumnName>
                      <Column Name="LastPostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Threads_ContentID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Threads_ContentID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ContentID</ColumnName>
                      <Column Name="ContentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Posts_AttachmentType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Posts_AttachmentType">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>AttachmentType</ColumnName>
                      <Column Name="AttachmentType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_Threads_AfterDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Threads_AfterDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>

CREATE TRIGGER [bx_Threads_AfterDelete]
   ON bx_Threads
   AFTER DELETE--INSTEAD OF DELETE
AS 
BEGIN

SET NOCOUNT ON;

	DECLARE @ForumIDs nvarchar(64)
	EXEC bx_GetDisabledTriggerForumIDs
			@ForumIDs output

	IF(@ForumIDs&lt;&gt;'') BEGIN
		--如果是删除版面，就忽略下面的数据统计，直接结束--
		DECLARE @ForumID int,@ForumIDString nvarchar(64)
		SELECT top 1 @ForumID=ForumID FROM [deleted]
		SET @ForumIDString=Replace(','+STR(@ForumID)+',', ' ', '')
		SET @ForumIDs=','+@ForumIDs+','
		IF(CHARINDEX(@ForumIDString,@ForumIDs)&gt;0) BEGIN
			--DELETE [bx_Posts] WHERE ThreadID in(SELECT ThreadID FROM [deleted])
			--delete [bx_Threads] where ThreadID in(SELECT ThreadID FROM [deleted])
			RETURN;
		END
	END
	DECLARE @tempTable2 TABLE(userID INT,threadCount INT,valuedThreadCount int/*,PostCount int*/)
	insert into @tempTable2(userID,threadCount,valuedThreadCount/*,PostCount*/)
	select distinct PostUserID
						,(SELECT COUNT(1) FROM [deleted] WHERE PostUserID=p.PostUserID AND ThreadStatus&lt;4)
						,(SELECT COUNT(1) FROM [deleted] WHERE PostUserID=p.PostUserID AND ThreadStatus&lt;4 AND IsValued=1)
						--,(SELECT COUNT(1) FROM [bx_Posts] POST WITH (NOLOCK) INNER JOIN [deleted] D  ON POST.ThreadID=D.ThreadID WHERE POST.UserID=P.PostUserID AND POST.SortOrder&lt;4000000000000000) 
			FROM [deleted] p

	UPDATE bx_Users SET
			TotalTopics=TotalTopics-t.threadCount,
			--TotalPosts=TotalPosts-t.PostCount,
			--DeletedPosts=DeletedPosts+t.PostCount,--t.threadCount,
			ValuedTopics=ValuedTopics-t.valuedThreadCount FROM @tempTable2 as t where bx_Users.UserID=t.userID


--------------------------
	--delete [bx_Threads] where ThreadID in(SELECT ThreadID FROM [deleted])

	DECLARE @tempTable TABLE(ForumID INT,ThreadCount INT,/*PostCount INT,*/TodayThreads INT/*,TodayPosts INT*/,LastThreadID INT)
	insert into @tempTable(ForumID,ThreadCount,/*PostCount,*/TodayThreads/*,TodayPosts*/,LastThreadID)
	select distinct T.ForumID,
					(SELECT COUNT(1) FROM [deleted] D WITH (NOLOCK) WHERE D.ForumID = T.ForumID AND  D.ThreadStatus&lt;4)
					--,(SELECT COUNT(1) FROM [bx_Posts] P WITH (NOLOCK) INNER JOIN [deleted] D WITH (NOLOCK) ON P.ThreadID = D.ThreadID WHERE P.ForumID = T.ForumID AND P.SortOrder&lt;4000000000000000)
					,(SELECT COUNT(1) FROM [deleted] D WITH (NOLOCK) WHERE D.ForumID = T.ForumID AND  D.ThreadStatus&lt;4 AND  DATEDIFF(day, D.CreateDate, getdate())=0)--D.ThreadID&gt;(SELECT YestodayLastThreadID FROM bx_Forums F WITH(NOLOCK) WHERE F.ForumID=T.ForumID))
					--,(SELECT COUNT(1) FROM [bx_Posts] P WITH (NOLOCK) INNER JOIN [deleted] D ON P.ThreadID=D.ThreadID WHERE D.ForumID = T.ForumID AND  P.SortOrder&lt;4000000000000000 AND  DATEDIFF(day, P.CreateDate, getdate())=0)--P.PostID&gt;(SELECT YestodayLastPostID FROM bx_Forums F WITH(NOLOCK) WHERE F.ForumID=T.ForumID))
					--,(SELECT ThreadID FROM [bx_Threads] T1 WHERE T1.SortOrder=(SELECT MAX(SortOrder) FROM [bx_Threads] T2  WITH(NOLOCK) WHERE T2.ForumID=T.ForumID AND SortOrder&lt;2000000000000000))
					--,(SELECT ISNULL(ThreadID,0) FROM [bx_Posts] WITH(NOLOCK) WHERE PostID = (SELECT ISNULL(MAX(PostID),0) FROM [bx_Posts] T1 WHERE T1.ForumID = T.ForumID AND T1.ThreadID NOT IN(SELECT ThreadID FROM [deleted] WITH(NOLOCK))))
					,(SELECT ThreadID FROM [bx_Threads] T1 WHERE T1.SortOrder=(SELECT MAX(SortOrder) FROM [bx_Threads] T2  WITH(NOLOCK) WHERE T2.ForumID=T.ForumID AND T2.ThreadStatus = 1))
					FROM [deleted] T;

	UPDATE bx_Forums SET 
					TotalThreads=TotalThreads-t.ThreadCount 
					--,TotalPosts=TotalPosts-t.PostCount 
					,bx_Forums.TodayThreads=bx_Forums.TodayThreads-t.TodayThreads
					--,bx_Forums.TodayPosts=bx_Forums.TodayPosts-t.TodayPosts
					,LastThreadID=ISNULL(t.LastThreadID,0)
					from @tempTable as t WHERE bx_Forums.ForumID=t.ForumID
	
	
	--DELETE [bx_Posts] FROM [deleted] d WHERE [bx_Posts].ThreadID = d.ThreadID
	--DELETE [bx_Posts] WHERE ThreadID in(SELECT ThreadID FROM [deleted])
	--delete [bx_Threads] where ThreadID in(SELECT ThreadID FROM [deleted])
	
	DECLARE @tempCatalogTable TABLE(TempForumID INT,TempCatalogID INT,TempThreadCount INT)
	INSERT INTO @tempCatalogTable(TempForumID,TempCatalogID,TempThreadCount)
	SELECT distinct ForumID,
					ThreadCatalogID,
					(SELECT COUNT(1) FROM [deleted] D1 WHERE D1.ForumID=D2.ForumID AND D1.ThreadCatalogID=D2.ThreadCatalogID AND D1.ThreadStatus&lt;4) 
					FROM [deleted] D2
	
	UPDATE bx_ThreadCatalogsInForums SET TotalThreads=TotalThreads-TempThreadCount FROM @tempCatalogTable WHERE ForumID=TempForumID AND ThreadCatalogID=TempCatalogID
	
	DELETE bx_Denouncings WHERE Type=6 AND TargetID IN (SELECT [ThreadID] FROM [DELETED]);
	
END


</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_Threads_AfterUpdate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Threads_AfterUpdate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>

CREATE TRIGGER [bx_Threads_AfterUpdate] 
   ON  [bx_Threads] 
   AFTER UPDATE
AS 
BEGIN

	SET NOCOUNT ON;
	

	IF UPDATE(ForumID) BEGIN
		--如果是合并版面导致的移动主题，就忽略下面的数据统计，直接结束
		DECLARE @ForumIDs nvarchar(64)
		EXEC bx_GetDisabledTriggerForumIDs
				@ForumIDs output
		IF(@ForumIDs&lt;&gt;'') BEGIN
			DECLARE @ForumID int,@ForumIDString nvarchar(64)
			SELECT top 1 @ForumID=ForumID FROM [deleted]
			SET @ForumIDString=Replace(','+STR(@ForumID)+',', ' ', '')
			SET @ForumIDs=','+@ForumIDs+','
			IF(CHARINDEX(@ForumIDString,@ForumIDs)&gt;0) BEGIN
				RETURN;
			END
		END

		--移动之前的版块
		DECLARE @tempTable3 TABLE(ForumID INT,ThreadCount INT,/*PostCount INT,*/TodayThreadCount INT/*,TodayPostCount INT*/,LastThreadID INT)
		insert into @tempTable3(ForumID,ThreadCount,TodayThreadCount,LastThreadID)
		select distinct T.ForumID,
					(SELECT COUNT(1) FROM [deleted] D WITH(NOLOCK) WHERE D.ForumID = T.ForumID AND D.ThreadStatus&lt;4)
					--,(SELECT COUNT(1) FROM [bx_Posts] P WITH (NOLOCK) INNER JOIN [deleted] D ON P.ThreadID=D.ThreadID WHERE D.ForumID = T.ForumID AND P.IsApproved=1)
					,(SELECT COUNT(1) FROM [deleted] D WITH (NOLOCK) WHERE D.ForumID = T.ForumID AND D.ThreadStatus&lt;4 AND  DATEDIFF(day, D.CreateDate, getdate())=0)--D.ThreadID&gt;(SELECT YestodayLastThreadID FROM bx_Forums F WITH(NOLOCK) WHERE F.ForumID=T.ForumID))
					--,(SELECT COUNT(1) FROM [bx_Posts] P WITH (NOLOCK) INNER JOIN [deleted] D ON P.ThreadID=D.ThreadID WHERE D.ForumID = T.ForumID AND P.IsApproved=1 AND P.PostID&gt;(SELECT YestodayLastPostID FROM bx_Forums F WITH(NOLOCK) WHERE F.ForumID=T.ForumID))
					,(SELECT ThreadID FROM [bx_Threads] T1 WHERE T1.SortOrder=(SELECT MAX(SortOrder) FROM [bx_Threads] T2 WITH(NOLOCK) WHERE T2.ForumID=T.ForumID AND T2.ThreadStatus = 1))
					FROM [deleted] T;
/*
					(SELECT COUNT(1) FROM [bx_Threads] T1 WITH (NOLOCK) WHERE T1.ForumID = T.ForumID),
					(SELECT COUNT(1) FROM [bx_Posts] WITH (NOLOCK) INNER JOIN bx_Threads WITH (NOLOCK) ON bx_Posts.ThreadID = bx_Threads.ThreadID WHERE (bx_Posts.IsApproved=1 AND bx_Threads.ForumID = T.ForumID)),
					(SELECT COUNT(1) FROM [bx_Threads] D WITH (NOLOCK) WHERE D.ForumID = T.ForumID AND D.ThreadID&gt;(SELECT YestodayLastThreadID FROM bx_Forums F WITH(NOLOCK) WHERE F.ForumID=T.ForumID)),
					(SELECT COUNT(1) FROM [bx_Posts] P WITH (NOLOCK) INNER JOIN [bx_Threads] D ON P.ThreadID=D.ThreadID WHERE D.ForumID = T.ForumID AND P.IsApproved=1 AND P.PostID&gt;(SELECT YestodayLastPostID FROM bx_Forums F WITH(NOLOCK) WHERE F.ForumID=T.ForumID)),
					--(SELECT COUNT(1) FROM [deleted] D WITH (NOLOCK) WHERE D.ForumID = T.ForumID AND D.ThreadID&gt;(SELECT YestodayLastThreadID FROM bx_Forums F WITH(NOLOCK) WHERE F.ForumID=T.ForumID)),
					--(SELECT COUNT(1) FROM [bx_Posts] P WITH (NOLOCK) INNER JOIN [deleted] D ON P.ThreadID=D.ThreadID WHERE D.ForumID = T.ForumID AND P.IsApproved=1 AND P.PostID&gt;(SELECT YestodayLastPostID FROM bx_Forums F WITH(NOLOCK) WHERE F.ForumID=T.ForumID)),
					(SELECT ISNULL(ThreadID,0) FROM [bx_Posts] WITH(NOLOCK) WHERE PostID = (SELECT ISNULL(MAX(PostID),0) FROM [bx_Posts] T1 WITH (NOLOCK) INNER JOIN bx_Threads T3 ON T1.ThreadID=T3.ThreadID WHERE T3.ForumID = T.ForumID AND T1.IsApproved=1))
					FROM [deleted] T;
*/

				UPDATE bx_Forums SET 
						TotalThreads=TotalThreads-t.ThreadCount 
						--,TotalPosts=TotalPosts-t.PostCount 
						,TodayThreads=TodayThreads-TodayThreadCount
						--,TodayPosts=TodayPosts-TodayPostCount
						,LastThreadID=ISNULL(t.LastThreadID,0)
						from @tempTable3 as t WHERE bx_Forums.ForumID=t.ForumID

		DECLARE @tempCatalogTable TABLE(TempForumID INT,TempCatalogID INT,TempThreadCount INT)
		INSERT INTO @tempCatalogTable(TempForumID,TempCatalogID,TempThreadCount)
		SELECT distinct ForumID,
						ThreadCatalogID,
						(SELECT COUNT(1) FROM [deleted] D1 WHERE D1.ForumID=D2.ForumID AND D1.ThreadStatus&lt;4 AND D1.ThreadCatalogID=D2.ThreadCatalogID) 
						FROM [deleted] D2
		
		UPDATE bx_ThreadCatalogsInForums SET TotalThreads=TotalThreads-TempThreadCount FROM @tempCatalogTable WHERE ForumID=TempForumID AND ThreadCatalogID=TempCatalogID
		
		

		--移动之后的版块
		DECLARE @tempTable4 TABLE(ForumID INT,ThreadCount INT,TodayThreadCount INT,LastThreadID INT)
		insert into @tempTable4(ForumID,ThreadCount,TodayThreadCount,LastThreadID)
		select distinct T.ForumID,
					(SELECT COUNT(1) FROM [inserted] I WITH(NOLOCK) WHERE I.ForumID = T.ForumID AND I.ThreadStatus&lt;4)
					--,(SELECT COUNT(1) FROM [bx_Posts] P WITH (NOLOCK) INNER JOIN [inserted] I ON P.ThreadID=I.ThreadID WHERE I.ForumID = T.ForumID AND P.IsApproved=1)
					,(SELECT COUNT(1) FROM [inserted] I WITH (NOLOCK) WHERE I.ForumID = T.ForumID AND I.ThreadStatus&lt;4 AND DATEDIFF(day, I.CreateDate, getdate())=0) --I.ThreadID&gt;(SELECT YestodayLastThreadID FROM bx_Forums F WITH(NOLOCK) WHERE F.ForumID=T.ForumID))
					--,(SELECT COUNT(1) FROM [bx_Posts] P WITH (NOLOCK) INNER JOIN [inserted] I ON P.ThreadID=I.ThreadID WHERE I.ForumID = T.ForumID AND P.IsApproved=1 AND P.PostID&gt;(SELECT YestodayLastPostID FROM bx_Forums F WITH(NOLOCK) WHERE F.ForumID=T.ForumID))
					--,(SELECT ISNULL(ThreadID,0) FROM [bx_Posts] WITH(NOLOCK) WHERE PostID = (SELECT ISNULL(MAX(PostID),0) FROM [bx_Posts] T1 WITH (NOLOCK) INNER JOIN bx_Threads T3 ON T1.ThreadID=T3.ThreadID WHERE T3.ForumID = T.ForumID AND T1.IsApproved=1))
					,(SELECT ThreadID FROM [bx_Threads] T1 WHERE T1.SortOrder=(SELECT MAX(SortOrder) FROM [bx_Threads] T2 WITH(NOLOCK) WHERE T2.ForumID=T.ForumID AND T2.ThreadStatus=1))
					FROM [inserted] T;

		UPDATE bx_Forums SET 
						TotalThreads=TotalThreads+t.ThreadCount 
						--,TotalPosts=TotalPosts+t.PostCount 
						,TodayThreads=TodayThreads+TodayThreadCount
						--,TodayPosts=TodayPosts+TodayPostCount
						,LastThreadID=ISNULL(t.LastThreadID,0)
						from @tempTable4 as t WHERE bx_Forums.ForumID=t.ForumID


		DECLARE @tempCatalogTable2 TABLE(TempForumID INT,TempCatalogID INT,TempThreadCount INT)
		INSERT INTO @tempCatalogTable2(TempForumID,TempCatalogID,TempThreadCount)
		SELECT distinct ForumID,
						ThreadCatalogID,
						(SELECT COUNT(1) FROM [inserted] D1 WHERE D1.ForumID=D2.ForumID AND D1.ThreadStatus&lt;4 AND D1.ThreadCatalogID=D2.ThreadCatalogID) 
						FROM [inserted] D2
		
		UPDATE bx_ThreadCatalogsInForums SET TotalThreads=TotalThreads+TempThreadCount FROM @tempCatalogTable2 WHERE ForumID=TempForumID AND ThreadCatalogID=TempCatalogID


		DECLARE @TempForumIDTable Table(TempThreadID INT,TempNewForumID INT)
		INSERT INTO @TempForumIDTable 
		SELECT ThreadID,ForumID  FROM [inserted]
				--,(SELECT N.ForumID FROM [inserted] N WHERE N.ThreadID=D.ThreadID)
				--FROM [deleted] D
		UPDATE bx_Posts SET ForumID=T.TempNewForumID from @TempForumIDTable T WHERE bx_Posts.ThreadID=T.TempThreadID

	END

	IF UPDATE(IsValued) BEGIN
		DECLARE @tempTable5 TABLE(userID INT,ValuedThreadCount INT,ValuedThreadCount2 INT)
		insert into @tempTable5(userID,ValuedThreadCount,ValuedThreadCount2)
		select distinct PostUserID
							--更新前的精华帖子数
							,(SELECT COUNT(1) FROM [deleted] WHERE PostUserID=p.PostUserID AND ThreadStatus&lt;4 AND IsValued=1)
							--更新后的精华帖子数
							,(SELECT COUNT(1) FROM [inserted] WHERE PostUserID=p.PostUserID AND ThreadStatus&lt;4 AND IsValued=1)
				FROM [deleted] p  --WHERE ThreadLocation=0

		UPDATE bx_Users SET
				ValuedTopics=ValuedTopics+(t.ValuedThreadCount2-t.ValuedThreadCount)
			 FROM @tempTable5 as t where bx_Users.UserID=t.userID
	END
	
	IF UPDATE(ThreadCatalogID) BEGIN
		DECLARE @tempCatalogTable3 TABLE(TempForumID INT,TempCatalogID INT,TempThreadCount INT)
		INSERT INTO @tempCatalogTable3(TempForumID,TempCatalogID,TempThreadCount)
		SELECT distinct ForumID,
						ThreadCatalogID,
						(SELECT COUNT(1) FROM [deleted] D1 WHERE D1.ForumID=D2.ForumID AND D1.ThreadStatus&lt;4 AND D1.ThreadCatalogID=D2.ThreadCatalogID) 
						FROM [deleted] D2
		
		UPDATE bx_ThreadCatalogsInForums SET TotalThreads=TotalThreads-TempThreadCount FROM @tempCatalogTable3 WHERE ForumID=TempForumID AND ThreadCatalogID=TempCatalogID
		
		DECLARE @tempCatalogTable4 TABLE(TempForumID INT,TempCatalogID INT,TempThreadCount INT)
		INSERT INTO @tempCatalogTable4(TempForumID,TempCatalogID,TempThreadCount)
		SELECT distinct ForumID,
						ThreadCatalogID,
						(SELECT COUNT(1) FROM [inserted] D1 WHERE D1.ForumID=D2.ForumID AND D1.ThreadStatus&lt;4 AND D1.ThreadCatalogID=D2.ThreadCatalogID) 
						FROM [inserted] D2
		
		UPDATE bx_ThreadCatalogsInForums SET TotalThreads=TotalThreads+TempThreadCount FROM @tempCatalogTable4 WHERE ForumID=TempForumID AND ThreadCatalogID=TempCatalogID
	END
	
	IF UPDATE(ThreadStatus) BEGIN
		DECLARE @OldThreadStatus bigint,@NewThreadStatus bigint
		SELECT top 1 @OldThreadStatus=ThreadStatus FROM [deleted]
		SELECT top 1 @NewThreadStatus=ThreadStatus FROM [inserted]
		IF (@OldThreadStatus&lt;4 AND @NewThreadStatus&gt;=4) or (@OldThreadStatus&gt;=4 AND @NewThreadStatus&lt;4) BEGIN
				 
		    /*
			DECLARE @TempSortOrderTable Table(tempId int IDENTITY(1, 1),TempThreadID INT,TempNewSortOrder BIGINT)
			INSERT INTO @TempSortOrderTable (TempThreadID,TempNewSortOrder)
			SELECT ThreadID,SortOrder  FROM [inserted]
			*/
					--,(SELECT N.SortOrder FROM [inserted] N WHERE N.ThreadID=D.ThreadID)
					--FROM [deleted] D
----------------------------------------------------------------		
			DECLARE @PostTable table(tempPostTableId int IDENTITY(1, 1),TempPostTableThreadID INT,TempPostTablePostID Int,TempPostTableSortOrder BIGINT,Status int)
			INSERT INTO @PostTable(TempPostTableThreadID,TempPostTablePostID,TempPostTableSortOrder)
				SELECT ThreadID,PostID,SortOrder FROM [bx_Posts] WHERE ThreadID in(SELECT ThreadID FROM [inserted])
			
			DECLARE @i int,@Total int;
			/*
			SET @i = 0;
			SELECT @Total = COUNT(*) FROM @TempSortOrderTable;
			
			WHILE(@i&lt;@Total) BEGIN
				SET @i = @i + 1;
				DECLARE @TempOldSortOrder bigint,@TempThreadID int;
			
				SELECT @TempThreadID = TempThreadID, @TempOldSortOrder = TempNewSortOrder FROM @TempSortOrderTable WHERE tempId = @i;
				
				DECLARE @Status int;
				IF @TempOldSortOrder &gt;= 5000000000000000
					SET @Status = 5;
				ELSE IF @TempOldSortOrder&gt;=4000000000000000 AND @TempOldSortOrder&lt;5000000000000000
					SET @Status = 4;
				ELSE
					SET @Status = 1;
				
				UPDATE @PostTable SET Status=@Status WHERE TempPostTableThreadID = @TempThreadID;
				
				
			END
			
			
			SET @i = 0;
			SELECT @Total = COUNT(*) FROM @PostTable;
			WHILE(@i&lt;@Total) BEGIN
				SET @i = @i + 1;
				
				DECLARE @TempOldPostSortOrder bigint,@PostSortOrderStatus int,@TempNewSortOrder bigint;
				SELECT @TempOldPostSortOrder = TempPostTableSortOrder,@PostSortOrderStatus = Status FROM @PostTable WHERE tempPostTableId = @i;
	
				EXEC [bx_UpdateSortOrder] @PostSortOrderStatus, @TempOldPostSortOrder, @TempNewSortOrder OUTPUT;
				
				UPDATE @PostTable SET TempPostTableSortOrder = @TempNewSortOrder WHERE tempPostTableId = @i; 
			END
			*/
			
			SET @i = 0;
			SELECT @Total = COUNT(*) FROM @PostTable;
			WHILE(@i&lt;@Total) BEGIN
				SET @i = @i + 1;
				
				DECLARE @TempOldPostSortOrder bigint,@TempNewSortOrder bigint;
				
				SELECT @TempOldPostSortOrder = TempPostTableSortOrder FROM @PostTable WHERE tempPostTableId = @i;
	
				EXEC [bx_UpdateSortOrder] @NewThreadStatus, @TempOldPostSortOrder, @TempNewSortOrder OUTPUT;
				
				UPDATE @PostTable SET TempPostTableSortOrder = @TempNewSortOrder WHERE tempPostTableId = @i; 
			END
			
			UPDATE bx_Posts SET SortOrder=TempPostTableSortOrder from @PostTable T WHERE bx_Posts.PostID=T.TempPostTablePostID;
			
---------------上面这段 只相当于原来底下这3句 -------------------------------------
			
			--UPDATE bx_Posts SET SortOrder=[dbo].bx_UpdateSortOrder(5,SortOrder) from @TempSortOrderTable T WHERE bx_Posts.ThreadID=T.TempThreadID AND TempNewSortOrder &gt;= 5000000000000000
			
			--UPDATE bx_Posts SET SortOrder=[dbo].bx_UpdateSortOrder(4,SortOrder) from @TempSortOrderTable T WHERE bx_Posts.ThreadID=T.TempThreadID AND TempNewSortOrder&gt;=4000000000000000 AND TempNewSortOrder&lt;5000000000000000
			
			--UPDATE bx_Posts SET SortOrder=[dbo].bx_UpdateSortOrder(1,SortOrder) from @TempSortOrderTable T WHERE bx_Posts.ThreadID=T.TempThreadID AND TempNewSortOrder&lt;4000000000000000
		
				 
			DECLARE @tempForumTable TABLE(ForumID INT,ThreadCount1 INT,TodayThreadCount1 INT,ThreadCount2 INT,TodayThreadCount2 INT,LastThreadID INT)
			insert into @tempForumTable(ForumID,ThreadCount1,TodayThreadCount1,ThreadCount2,TodayThreadCount2,LastThreadID)
			select distinct T.ForumID,
						(SELECT COUNT(1) FROM [deleted] I WITH(NOLOCK) WHERE I.ForumID = T.ForumID AND I.ThreadStatus&lt;4)
						,(SELECT COUNT(1) FROM [deleted] I WITH (NOLOCK) WHERE I.ForumID = T.ForumID AND I.ThreadStatus&lt;4 AND DATEDIFF(day, I.CreateDate, getdate())=0)
						,(SELECT COUNT(1) FROM [inserted] I WITH(NOLOCK) WHERE I.ForumID = T.ForumID AND I.ThreadStatus&lt;4)
						,(SELECT COUNT(1) FROM [inserted] I WITH (NOLOCK) WHERE I.ForumID = T.ForumID AND I.ThreadStatus&lt;4 AND DATEDIFF(day, I.CreateDate, getdate())=0)
						,(SELECT ThreadID FROM [bx_Threads] T1 WHERE T1.SortOrder=(SELECT MAX(SortOrder) FROM [bx_Threads] T2  WITH(NOLOCK) WHERE T2.ForumID=T.ForumID AND T2.ThreadStatus = 1))
						FROM [inserted] T;

			UPDATE bx_Forums SET 
							TotalThreads=TotalThreads+(t.ThreadCount2-t.ThreadCount1)
							,TodayThreads=TodayThreads+(t.TodayThreadCount2-t.TodayThreadCount1)
							,LastThreadID=ISNULL(t.LastThreadID,0)
							from @tempForumTable as t WHERE bx_Forums.ForumID=t.ForumID



			DECLARE @tempTable2 TABLE(userID INT,threadCount INT,valuedThreadCount int,threadCount2 INT,valuedThreadCount2 int)
			insert into @tempTable2(userID,threadCount,valuedThreadCount,threadCount2,valuedThreadCount2)
			select distinct PostUserID
								--更新前的正常的帖子数
								,(SELECT COUNT(1) FROM [deleted]  WHERE PostUserID=p.PostUserID AND ThreadStatus&lt;4)
								,(SELECT COUNT(1) FROM [deleted]  WHERE PostUserID=p.PostUserID AND ThreadStatus&lt;4 AND IsValued=1)
								--,(SELECT COUNT(1) FROM [bx_Posts] POST  INNER JOIN [deleted] D  ON POST.ThreadID=D.ThreadID WHERE POST.UserID=P.PostUserID AND POST.IsApproved=1 AND D.ForumID&gt;0) 
								--更新后的正常的帖子数
								,(SELECT COUNT(1) FROM [inserted]  WHERE PostUserID=p.PostUserID AND ThreadStatus&lt;4)
								,(SELECT COUNT(1) FROM [inserted]  WHERE PostUserID=p.PostUserID AND ThreadStatus&lt;4 AND IsValued=1)
								--,(SELECT COUNT(1) FROM [bx_Posts] POST  INNER JOIN [inserted] I  ON POST.ThreadID=I.ThreadID WHERE POST.UserID=P.PostUserID AND POST.IsApproved=1 AND I.ForumID&gt;0) 
					FROM [deleted] p  

			UPDATE bx_Users SET
					TotalTopics=TotalTopics+(t.threadCount2-t.threadCount),
					--TotalPosts=TotalPosts+(t.PostCount2-t.PostCount),
					--DeletedPosts=DeletedPosts-(t.threadCount2-t.threadCount),
					--DeletedThreads=DeletedThreads-(t.threadCount2-t.threadCount),
					ValuedTopics=ValuedTopics+(t.valuedThreadCount2-t.valuedThreadCount)
				 FROM @tempTable2 as t where bx_Users.UserID=t.userID
				 
				 
				 
			DECLARE @tempCatalogTable9 TABLE(TempForumID INT,TempCatalogID INT,TempThreadCount1 INT,TempThreadCount2 INT)
			INSERT INTO @tempCatalogTable9(TempForumID,TempCatalogID,TempThreadCount1,TempThreadCount2)
			SELECT distinct ForumID,
							ThreadCatalogID,
							(SELECT COUNT(1) FROM [inserted] D1 WHERE D1.ForumID=D2.ForumID AND D1.ThreadStatus&lt;4 AND D1.ThreadCatalogID=D2.ThreadCatalogID) 
							,(SELECT COUNT(1) FROM [deleted] D1 WHERE D1.ForumID=D2.ForumID AND D1.ThreadStatus&lt;4 AND D1.ThreadCatalogID=D2.ThreadCatalogID) 
							FROM [deleted] D2
			
			UPDATE bx_ThreadCatalogsInForums SET TotalThreads=TotalThreads+(TempThreadCount1-TempThreadCount2) FROM @tempCatalogTable9 WHERE ForumID=TempForumID AND ThreadCatalogID=TempCatalogID

	/*	
			DECLARE @tempCatalogTable10 TABLE(TempForumID INT,TempCatalogID INT,TempThreadCount INT)
			INSERT INTO @tempCatalogTable10(TempForumID,TempCatalogID,TempThreadCount)
			SELECT distinct ForumID,
							ThreadCatalogID,
							(SELECT COUNT(1) FROM [inserted] D1 WHERE D1.ForumID=D2.ForumID AND D1.SortOrder&lt;4000000000000000 AND D1.ThreadCatalogID=D2.ThreadCatalogID) 
							FROM [inserted] D2
			
			UPDATE bx_ThreadCatalogsInForums SET TotalThreads=TotalThreads+TempThreadCount FROM @tempCatalogTable10 WHERE ForumID=TempForumID AND ThreadCatalogID=TempCatalogID
	*/		
		END	
		
		
		--原来是正常的  现在变为不正常
		IF (@OldThreadStatus&lt;4 AND @NewThreadStatus&gt;=4) BEGIN
			-- 删除举报
			DELETE bx_Denouncings WHERE Type = 6 AND TargetID in(SELECT ThreadID FROM [deleted]); 
		END
	END
END


</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Impressions</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Impressions">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TypeID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TypeID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Count</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Count" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Impressions</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Impressions" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">TypeID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>TypeID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TypeID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Impressions">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Impressions</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_Impressions_TypeID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Impressions_TypeID" PrimaryTableName="bx_ImpressionTypes" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">TypeID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">TypeID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FK_bx_Impressions_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Impressions_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Impressions_Count</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Impressions_Count">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Count</ColumnName>
                      <Column Name="Count" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Impressions_UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Impressions_UpdateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UpdateDate</ColumnName>
                      <Column Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Announcements</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Announcements">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>AnnouncementID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AnnouncementID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AnnouncementType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AnnouncementType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PostUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PostUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Subject</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Subject" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Content</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Content" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BeginDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="BeginDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Announcement</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Announcement" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">AnnouncementID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>AnnouncementID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="AnnouncementID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Announcement">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Announcement</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Announcement_Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Announcement_Type">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>AnnouncementType</ColumnName>
                      <Column Name="AnnouncementType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Announcement_Subject</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Announcement_Subject">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Subject</ColumnName>
                      <Column Name="Subject" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Announcement_Content</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Announcement_Content">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Content</ColumnName>
                      <Column Name="Content" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Announcement_BeginDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Announcement_BeginDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>BeginDate</ColumnName>
                      <Column Name="BeginDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Announcement_SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Announcement_SortOrder">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SortOrder</ColumnName>
                      <Column Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_PolemizeUsers</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_PolemizeUsers">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ViewPointType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ViewPointType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_PolemizeUsers</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_PolemizeUsers" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_PolemizeUsers">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_PolemizeUsers</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_PolemizeUsers_ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_PolemizeUsers_ThreadID" PrimaryTableName="bx_Threads" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_PolemizeUsers_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PolemizeUsers_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ImpressionTypeReverters</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ImpressionTypeReverters">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>TypeID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TypeID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TextReverter</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TextReverter" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ImpressionTypeRevertersReverters</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ImpressionTypeRevertersReverters" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">TypeID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>TypeID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TypeID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ImpressionTypeRevertersReverters">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ImpressionTypeRevertersReverters</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ImpressionTypes</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ImpressionTypes">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_ImpressionRecordsWithTypeInfo</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>TypeID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TypeID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Text</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Text" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>(N'')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>RecordCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="RecordCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ImpressionTypes</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ImpressionTypes" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">TypeID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>TypeID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TypeID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ImpressionTypes">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ImpressionTypes</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_ImpressionRecords</TableName>
                <ForeignKeyName>FK_bx_ImpressionRecords_TypeID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Impressions</TableName>
                <ForeignKeyName>FK_bx_Impressions_TypeID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_ImpressionTypes_Text</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ImpressionTypes_Text">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Text</ColumnName>
                      <Column Name="Text" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>(N'')</DefaultDefinition>
                      </Column>
                      <Definition>(N'')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ImpressionTypes_RecordCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ImpressionTypes_RecordCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>RecordCount</ColumnName>
                      <Column Name="RecordCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ImpressionTypes_KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ImpressionTypes_KeywordVersion">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>KeywordVersion</ColumnName>
                      <Column Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CommentReverters</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_CommentReverters">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>CommentID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CommentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ContentReverter</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ContentReverter" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_CommentReverters</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_CommentReverters" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CommentID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CommentID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CommentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_CommentReverters">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_CommentReverters</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_CommentReverters_CommentID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_CommentReverters_CommentID" PrimaryTableName="bx_Comments" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">CommentID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">CommentID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_PollItemDetails</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_PollItemDetails">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ItemID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ItemID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>NickName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="NickName" UserTypeId="231" MaxLength="128" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_PollItemDetails</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_PollItemDetails" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ItemID</anyType>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ItemID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ItemID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_PollItemDetails">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_PollItemDetails</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_PollItemDetails_ItemID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_PollItemDetails_ItemID" PrimaryTableName="bx_PollItems" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ItemID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ItemID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_PollItemDetails_NickName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PollItemDetails_NickName">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>NickName</ColumnName>
                      <Column Name="NickName" UserTypeId="231" MaxLength="128" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PollItemDetails_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PollItemDetails_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UserShares</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_UserShares">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_SharesView</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserShareID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserShareID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ShareID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ShareID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PrivacyType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PrivacyType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Subject</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Subject" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Description" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CommentCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CommentCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_UserShares</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_UserShares" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserShareID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserShareID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserShareID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_UserShares_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_UserShares_UserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_UserShares">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_UserShares</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_UserShares_ShareID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_UserShares_ShareID" PrimaryTableName="bx_Shares" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ShareID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ShareID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FK_bx_UserShares_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_UserShares_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_UserShareReverters</TableName>
                <ForeignKeyName>FK_bx_UserShareReverters_UserShareID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_UserShares_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserShares_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserShares_ShareID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserShares_ShareID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ShareID</ColumnName>
                      <Column Name="ShareID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserShares_PrivacyType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserShares_PrivacyType">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>PrivacyType</ColumnName>
                      <Column Name="PrivacyType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserShares_Subject</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserShares_Subject">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Subject</ColumnName>
                      <Column Name="Subject" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserShares_Decription</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserShares_Decription">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Description</ColumnName>
                      <Column Name="Description" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserShares_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserShares_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserShares_CommentCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserShares_CommentCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CommentCount</ColumnName>
                      <Column Name="CommentCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserShares_KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserShares_KeywordVersion">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>KeywordVersion</ColumnName>
                      <Column Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_Shares_AfterDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Shares_AfterDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>


CREATE TRIGGER [bx_Shares_AfterDelete]
	ON [bx_UserShares]
	AFTER DELETE
AS
BEGIN
	
	SET NOCOUNT ON;
			
	DELETE bx_Denouncings WHERE Type=5 AND TargetID IN (SELECT ShareID FROM [DELETED]);
	
	--删除评论
	DELETE [bx_Comments] WHERE [Type] = 5 AND [TargetID] IN (SELECT [ShareID] FROM [DELETED]);
	
	DECLARE @tempTable table(UserID int, ShareCount int,CollectionCount int);

	INSERT INTO @tempTable
		SELECT DISTINCT UserID
			,(SELECT COUNT(*) FROM [bx_UserShares] WITH (NOLOCK) WHERE [PrivacyType] = 2 AND [UserID] = D.UserID)
			,(SELECT COUNT(*) FROM [bx_UserShares] WITH (NOLOCK) WHERE [PrivacyType] &lt; 2 AND [UserID] = D.UserID)
		FROM [DELETED] D
	
	UPDATE [bx_Users]
		SET
			  TotalShares = T.ShareCount
			, TotalCollections = T.CollectionCount
		FROM @tempTable T
		WHERE
			T.UserID = [bx_Users].UserID;
	
	--发出重新填充UserInfo的XCMD命令
	SELECT 'ResetUser' AS XCMD, UserID, ShareCount AS TotalShares ,CollectionCount AS TotalCollections FROM @tempTable;
	
END
</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_Shares_AfterInsert</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Shares_AfterInsert">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>


CREATE TRIGGER [bx_Shares_AfterInsert]
	ON [bx_UserShares]
	AFTER INSERT
AS
BEGIN

	SET NOCOUNT ON;
	
	DECLARE @tempTable table(UserID int, ShareCount int,CollectionCount int);

	INSERT INTO @tempTable 
		SELECT DISTINCT UserID
			,(SELECT COUNT(*) FROM [bx_UserShares] WITH (NOLOCK) WHERE [PrivacyType] = 2 AND [UserID] = T.UserID)
			,(SELECT COUNT(*) FROM [bx_UserShares] WITH (NOLOCK) WHERE [PrivacyType] &lt; 2 AND [UserID] = T.UserID)
		FROM [INSERTED] T;
	
	UPDATE [bx_Users]
		SET
			  TotalShares = T.ShareCount
			, TotalCollections = T.CollectionCount
		FROM @tempTable T
		WHERE
			T.UserID = [bx_Users].UserID;
			
	--发出重新填充UserInfo的XCMD命令
	SELECT 'ResetUser' AS XCMD, UserID, ShareCount AS TotalShares ,CollectionCount AS TotalCollections FROM @tempTable;
END
</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Comments</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Comments">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>CommentID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CommentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Type" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TargetID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TargetID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TargetUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TargetUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastEditUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastEditUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsApproved</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsApproved" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Content</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Content" UserTypeId="231" MaxLength="6000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_Comments</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_Comments" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CommentID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CommentID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CommentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Comments_TargetID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Comments_TargetID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">TargetID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>TargetID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TargetID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_Comments">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_Comments</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_Comments_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Comments_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_CommentReverters</TableName>
                <ForeignKeyName>FK_bx_CommentReverters_CommentID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Comments_Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Comments_Type">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Type</ColumnName>
                      <Column Name="Type" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Comments_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Comments_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Comments_TargetID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Comments_TargetID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TargetID</ColumnName>
                      <Column Name="TargetID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Comments_LastEditUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Comments_LastEditUserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastEditUserID</ColumnName>
                      <Column Name="LastEditUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Comments_IsApproved</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Comments_IsApproved">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsApproved</ColumnName>
                      <Column Name="IsApproved" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Comments_Content</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Comments_Content">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Content</ColumnName>
                      <Column Name="Content" UserTypeId="231" MaxLength="6000" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Comments_CreateIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Comments_CreateIP">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateIP</ColumnName>
                      <Column Name="CreateIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Comments_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Comments_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Comments_ContentVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Comments_ContentVersion">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>KeywordVersion</ColumnName>
                      <Column Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_Comments_AfterDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Comments_AfterDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>


CREATE TRIGGER [bx_Comments_AfterDelete]
	ON [bx_Comments]
	AFTER DELETE
AS
BEGIN

	SET NOCOUNT ON;
	
	DECLARE @tempTable table(Type int,TargetID int,TotalCount int);

	INSERT INTO @tempTable 
		SELECT DISTINCT Type,TargetID,
			(ISNULL((SELECT COUNT(*) FROM [bx_Comments] as m WITH (NOLOCK) WHERE m.TargetID = T.TargetID AND m.IsApproved = 1 AND m.Type = T.Type), 0))
		FROM [DELETED] T;

	IF EXISTS ( SELECT * FROM @tempTable WHERE Type = 1 ) BEGIN

		UPDATE [bx_Users]
			SET
				TotalComments = T.TotalCount
			FROM @tempTable T
			WHERE
				T.TargetID = [bx_Users].UserID AND T.Type = 1;

		--发出重新填充UserInfo的XCMD命令
		SELECT 'ResetUser' AS XCMD, TargetID AS UserID, TotalCount AS TotalComments FROM @tempTable WHERE Type = 1;

	END

	UPDATE [bx_BlogArticles]
		SET
			TotalComments = T.TotalCount
		FROM @tempTable T
		WHERE
			T.TargetID = [bx_BlogArticles].ArticleID AND T.Type = 2;
			
	UPDATE [bx_Doings]
		SET
			TotalComments = T.TotalCount
		FROM @tempTable T
		WHERE
			T.TargetID = [bx_Doings].DoingID AND T.Type = 3;
			
	UPDATE [bx_Photos]
		SET
			TotalComments = T.TotalCount
		FROM @tempTable T
		WHERE
			T.TargetID = [bx_Photos].PhotoID AND T.Type = 4;
			
	--UPDATE [bx_Shares]
		--SET
			--TotalComments = T.TotalCount
		--FROM @tempTable T
		--WHERE
			--T.TargetID = [bx_Shares].ShareID AND T.Type = 5;
			
			
	UPDATE [bx_UserShares]
		SET
			CommentCount = T.TotalCount
			--LastCommentDate = GETDATE()
		FROM @tempTable T
		WHERE
			T.TargetID = [bx_UserShares].UserShareID AND T.Type = 5;
			
			
		-- 动态枚举值 -&gt; 评论类型枚举值
		--Share = 0 -&gt; 5
		------------------UploadPicture = 2 -&gt; 4 不要了
		--UpdateDoing = 5 -&gt; 3
		--WriteArticle = 6 -&gt; 2
		DECLARE @FeedCommentTable table(FType int,FTargetID int,FTotalCount int,Cids varchar(50));
		INSERT INTO @FeedCommentTable SELECT 
			CASE WHEN Type = 5 THEN 0
			--WHEN Type = 4 THEN 2
			WHEN Type = 3 THEN 5
			WHEN Type = 2 THEN 6
			ELSE -1 END
		   ,TargetID
		   ,ISNULL(TotalCount,0)
		   ,(SELECT CAST(ISNULL(MIN(CommentID),0) as varchar(20)) +','+ CAST(ISNULL(MAX(CommentID),0) as varchar(20)) FROM bx_Comments C WHERE C.Type = T.Type AND C.TargetID = T.TargetID AND C.IsApproved = 1)
		   FROM @tempTable T WHERE T.Type in(2,3,5) -- TODO: AND AppID = 内置应用AppID   当有第三方应用动态时 要加上此判断
		
		IF @@ROWCOUNT &gt; 0 BEGIN
			UPDATE bx_Feeds SET CommentInfo = T.Cids + ',' + CAST(T.FTotalCount as varchar(20))	FROM @FeedCommentTable T 
				WHERE CommentTargetID = T.FTargetID AND ActionType = T.FType;  -- TODO: AND AppID = 内置应用AppID   当有第三方应用动态时 要加上此判断
				
			SELECT 'ResetFeedCommentInfo' AS XCMD, ID AS FeedID, CommentInfo FROM bx_Feeds F INNER JOIN @FeedCommentTable T ON F.CommentTargetID = T.FTargetID AND F.ActionType = T.FType;  -- TODO: AND AppID = 内置应用AppID   当有第三方应用动态时 要加上此判断
		END	
END
</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_Comments_AfterInsert</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Comments_AfterInsert">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>


CREATE TRIGGER [bx_Comments_AfterInsert]
	ON [bx_Comments]
	AFTER INSERT
AS
BEGIN

	SET NOCOUNT ON;
	
	DECLARE @tempTable table(Type int,TargetID int,TotalCount int);

	INSERT INTO @tempTable 
		SELECT DISTINCT Type,TargetID,
			(ISNULL((SELECT COUNT(*) FROM [bx_Comments] as m WITH (NOLOCK) WHERE m.TargetID = T.TargetID AND m.IsApproved = 1 AND m.Type = T.Type), 0))
		FROM [INSERTED] T;

	IF EXISTS ( SELECT * FROM @tempTable WHERE Type = 1 ) BEGIN

		UPDATE [bx_Users]
			SET
				TotalComments = T.TotalCount
			FROM @tempTable T
			WHERE
				T.TargetID = [bx_Users].UserID AND T.Type = 1;

   		--发出重新填充UserInfo的XCMD命令
		SELECT 'ResetUser' AS XCMD, TargetID AS UserID, TotalCount AS TotalComments FROM @tempTable WHERE Type = 1;

	END

	UPDATE [bx_BlogArticles]
		SET
			TotalComments = T.TotalCount,
			LastCommentDate = GETDATE()
		FROM @tempTable T
		WHERE
			T.TargetID = [bx_BlogArticles].ArticleID AND T.Type = 2;
			
	UPDATE [bx_Doings]
		SET
			TotalComments = T.TotalCount,
			LastCommentDate = GETDATE()
		FROM @tempTable T
		WHERE
			T.TargetID = [bx_Doings].DoingID AND T.Type = 3;
			
	UPDATE [bx_Photos]
		SET
			TotalComments = T.TotalCount,
			LastCommentDate = GETDATE()
		FROM @tempTable T
		WHERE
			T.TargetID = [bx_Photos].PhotoID AND T.Type = 4;
			
	UPDATE [bx_UserShares]
		SET
			CommentCount = T.TotalCount
			--LastCommentDate = GETDATE()
		FROM @tempTable T
		WHERE
			T.TargetID = [bx_UserShares].UserShareID AND T.Type = 5;
			
			
		-- 动态枚举值 -&gt; 评论类型枚举值
		--Share = 0 -&gt; 5
		------------------UploadPicture = 2 -&gt; 4 不要了
		--UpdateDoing = 5 -&gt; 3
		--WriteArticle = 6 -&gt; 2
		DECLARE @FeedCommentTable table(FType int,FTargetID int,FTotalCount int,Cids varchar(50));
		INSERT INTO @FeedCommentTable SELECT 
			CASE WHEN Type = 5 THEN 0
			--WHEN Type = 4 THEN 2
			WHEN Type = 3 THEN 5
			WHEN Type = 2 THEN 6
			ELSE -1 END
		   ,TargetID
		   ,ISNULL(TotalCount,0)
		   ,(SELECT CAST(ISNULL(MIN(CommentID),0) as varchar(20)) +','+ CAST(ISNULL(MAX(CommentID),0) as varchar(20)) FROM bx_Comments C WHERE C.Type = T.Type AND C.TargetID = T.TargetID AND C.IsApproved = 1)
		   FROM @tempTable T WHERE T.Type in(2,3,5) -- TODO: AND AppID = 内置应用AppID   当有第三方应用动态时 要加上此判断
		
		IF @@ROWCOUNT &gt; 0 BEGIN
			UPDATE bx_Feeds SET CommentInfo = T.Cids + ',' + CAST(T.FTotalCount as varchar(20))	FROM @FeedCommentTable T 
				WHERE CommentTargetID = T.FTargetID AND ActionType = T.FType;  -- TODO: AND AppID = 内置应用AppID   当有第三方应用动态时 要加上此判断
				
			SELECT 'ResetFeedCommentInfo' AS XCMD, ID AS FeedID, CommentInfo FROM bx_Feeds F INNER JOIN @FeedCommentTable T ON F.CommentTargetID = T.FTargetID AND F.ActionType = T.FType;  -- TODO: AND AppID = 内置应用AppID   当有第三方应用动态时 要加上此判断
		END	
END</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_Comments_AfterUpdate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Comments_AfterUpdate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>


CREATE TRIGGER [bx_Comments_AfterUpdate]
	ON [bx_Comments]
	AFTER UPDATE
AS
BEGIN
	
	SET NOCOUNT ON;
	
	IF UPDATE([IsApproved]) BEGIN

		DECLARE @tempTable table(Type int,TargetID int,TotalCount int);

		INSERT INTO @tempTable 
		SELECT DISTINCT Type,TargetID,
				(ISNULL((SELECT COUNT(*) FROM [bx_Comments] as m WITH (NOLOCK) WHERE m.TargetID = T.TargetID AND m.IsApproved = 1), 0))
			FROM [INSERTED] T;


		IF EXISTS ( SELECT * FROM @tempTable WHERE Type = 1 ) BEGIN

			UPDATE [bx_Users]
				SET
					TotalComments = T.TotalCount
				FROM @tempTable T
				WHERE
					T.TargetID = [bx_Users].UserID AND T.Type = 1;

   			--发出重新填充UserInfo的XCMD命令
			SELECT 'ResetUser' AS XCMD, TargetID AS UserID, TotalCount AS TotalComments FROM @tempTable WHERE Type = 1;

		END

		
		UPDATE [bx_BlogArticles]
			SET
				TotalComments = T.TotalCount
			FROM @tempTable T
			WHERE
				T.TargetID = [bx_BlogArticles].ArticleID AND T.Type = 2;
			
			
		UPDATE [bx_Doings]
			SET
				TotalComments = T.TotalCount
			FROM @tempTable T
			WHERE
				T.TargetID = [bx_Doings].DoingID AND T.Type = 3;
			

		UPDATE [bx_Photos]
			SET
				TotalComments = T.TotalCount
			FROM @tempTable T
			WHERE
				T.TargetID = [bx_Photos].PhotoID AND T.Type = 4;

			
			
		--UPDATE [bx_Shares]
			--SET
				--TotalComments = T.TotalCount
			--FROM @tempTable T
			--WHERE
				--T.TargetID = [bx_Shares].ShareID AND T.Type = 5;
				
		UPDATE [bx_UserShares]
		SET
			CommentCount = T.TotalCount
			--LastCommentDate = GETDATE()
		FROM @tempTable T
		WHERE
			T.TargetID = [bx_UserShares].UserShareID AND T.Type = 5;
			


		-- 动态枚举值 -&gt; 评论类型枚举值
		--Share = 0 -&gt; 5
		------------------UploadPicture = 2 -&gt; 4 不要了
		--UpdateDoing = 5 -&gt; 3
		--WriteArticle = 6 -&gt; 2
		DECLARE @FeedCommentTable table(FType int,FTargetID int,FTotalCount int,Cids varchar(50));
		INSERT INTO @FeedCommentTable SELECT 
			CASE WHEN Type = 5 THEN 0
			--WHEN Type = 4 THEN 2
			WHEN Type = 3 THEN 5
			WHEN Type = 2 THEN 6
			ELSE -1 END
		   ,TargetID
		   ,ISNULL(TotalCount,0)
		   ,(SELECT CAST(ISNULL(MIN(CommentID),0) as varchar(20)) +','+ CAST(ISNULL(MAX(CommentID),0) as varchar(20)) FROM bx_Comments C WHERE C.Type = T.Type AND C.TargetID = T.TargetID AND C.IsApproved = 1)
		   FROM @tempTable T WHERE T.Type in(2,3,5) -- TODO: AND AppID = 内置应用AppID   当有第三方应用动态时 要加上此判断
		
		IF @@ROWCOUNT &gt; 0 BEGIN
			UPDATE bx_Feeds SET CommentInfo = T.Cids + ',' + CAST(T.FTotalCount as varchar(20))	FROM @FeedCommentTable T 
				WHERE CommentTargetID = T.FTargetID AND ActionType = T.FType;  -- TODO: AND AppID = 内置应用AppID   当有第三方应用动态时 要加上此判断
				
			SELECT 'ResetFeedCommentInfo' AS XCMD, ID AS FeedID, CommentInfo FROM bx_Feeds F INNER JOIN @FeedCommentTable T ON F.CommentTargetID = T.FTargetID AND F.ActionType = T.FType;  -- TODO: AND AppID = 内置应用AppID   当有第三方应用动态时 要加上此判断
		END	
	END

END
</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_AttachmentExchanges</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_AttachmentExchanges">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>AttachmentID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AttachmentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Price</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Price" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_AttachmentExchanges</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_AttachmentExchanges" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">AttachmentID</anyType>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>AttachmentID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="AttachmentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_AttachmentExchanges">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_AttachmentExchanges</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_AttachmentExchanges_AttachmentID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_AttachmentExchanges_AttachmentID" PrimaryTableName="bx_Attachments" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">AttachmentID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">AttachmentID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_AttachmentExchanges_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_AttachmentExchanges_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_PollItems</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_PollItems">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ItemID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ItemID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ItemName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ItemName" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PollItemCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PollItemCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_PollItems</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_PollItems" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ItemID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ItemID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ItemID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_PollItems_List</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_PollItems_List" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                        <anyType xsi:type="xsd:string">ItemID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ItemID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ItemID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_PollItems">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_PollItems</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_PollItems_ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_PollItems_ThreadID" PrimaryTableName="bx_Polls" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_PollItemDetails</TableName>
                <ForeignKeyName>FK_bx_PollItemDetails_ItemID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_PollItems_PollItemCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PollItems_PollItemCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>PollItemCount</ColumnName>
                      <Column Name="PollItemCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Instructs</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Instructs">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>InstructID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="InstructID" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TargetID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TargetID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ClientID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ClientID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>InstructType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="InstructType" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Datas</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Datas" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Instructs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Instructs" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">InstructID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>InstructID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="InstructID" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Instructs_ClientID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Instructs_ClientID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ClientID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ClientID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ClientID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Instructs">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Instructs</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Instructs_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Instructs_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Instructs_Content</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Instructs_Content">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Datas</ColumnName>
                      <Column Name="Datas" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Attachments</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Attachments">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_AttacmentsWithForumID</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_UsedFileIds</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>AttachmentID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AttachmentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PostID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FileID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FileID" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FileName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FileName" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>(N'')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FileType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FileType" UserTypeId="231" MaxLength="20" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FileSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FileSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalDownloads</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalDownloads" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalDownloadUsers</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalDownloadUsers" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Price</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Price" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FileExtendedInfo</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FileExtendedInfo" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>(N'')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Attachments</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Attachments" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">AttachmentID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>AttachmentID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="AttachmentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Attachments_List</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Attachments_List" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">PostID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>PostID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="PostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Attachments_User</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Attachments_User" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Attachments_FileID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Attachments_FileID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">FileID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>FileID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="FileID" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                                <DefaultDefinition>('')</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Attachments_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Attachments_CreateDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CreateDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CreateDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Attachments">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Attachments</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_Attachments_PostID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Attachments_PostID" PrimaryTableName="bx_Posts" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">PostID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">PostID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_AttachmentExchanges</TableName>
                <ForeignKeyName>FK_bx_AttachmentExchanges_AttachmentID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Attachments_FileID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Attachments_FileID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FileID</ColumnName>
                      <Column Name="FileID" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Attachments_FileName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Attachments_FileName">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FileName</ColumnName>
                      <Column Name="FileName" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>(N'')</DefaultDefinition>
                      </Column>
                      <Definition>(N'')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Attachments_FileType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Attachments_FileType">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FileType</ColumnName>
                      <Column Name="FileType" UserTypeId="231" MaxLength="20" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Attachments_FileSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Attachments_FileSize">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FileSize</ColumnName>
                      <Column Name="FileSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Attachments_TotalDownloads</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Attachments_TotalDownloads">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalDownloads</ColumnName>
                      <Column Name="TotalDownloads" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Attachments_TotalDownloadUsers</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Attachments_TotalDownloadUsers">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalDownloadUsers</ColumnName>
                      <Column Name="TotalDownloadUsers" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Attachments_Price</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Attachments_Price">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Price</ColumnName>
                      <Column Name="Price" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Attachments_FileExtendedInfo</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Attachments_FileExtendedInfo">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FileExtendedInfo</ColumnName>
                      <Column Name="FileExtendedInfo" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>(N'')</DefaultDefinition>
                      </Column>
                      <Definition>(N'')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Attachments_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Attachments_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Attachments_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Attachments_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_Attachments_AfterDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Attachments_AfterDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>
CREATE TRIGGER bx_Attachments_AfterDelete  ON [bx_Attachments] 
AFTER DELETE
AS
BEGIN

	SET NOCOUNT ON;

	DELETE bx_Files
		WHERE FileID IN (SELECT FileID FROM [DELETED])
			AND FileID NOT IN (SELECT FileID FROM [bx_UsedFileIds] WHERE FileID IN (SELECT FileID FROM [DELETED]))

END</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Polls</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Polls">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Multiple</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Multiple" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AlwaysEyeable</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AlwaysEyeable" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExpiresDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ExpiresDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Polls</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Polls" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Polls_ExpiresDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Polls_ExpiresDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ExpiresDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ExpiresDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ExpiresDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Polls">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Polls</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_Polls_ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Polls_ThreadID" PrimaryTableName="bx_Threads" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_PollItems</TableName>
                <ForeignKeyName>FK_bx_PollItems_ThreadID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Polls_IsMultiple</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Polls_IsMultiple">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Multiple</ColumnName>
                      <Column Name="Multiple" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Polls_AlwaysEyeable</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Polls_AlwaysEyeable">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>AlwaysEyeable</ColumnName>
                      <Column Name="AlwaysEyeable" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_InviteSerials</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_InviteSerials">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_SerialCounter</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Serial</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Serial" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(newid())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ToEmail</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ToEmail" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExpiresDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ExpiresDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ToUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ToUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Remark</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Remark" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Status</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Status" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_InviteSerials</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_InviteSerials" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">Serial</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>Serial</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Serial" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(newid())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_InviteSerials_ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_InviteSerials_ID" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_InviteSerials_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_InviteSerials_UserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_InviteSerials_Expires</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_InviteSerials_Expires" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ExpiresDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ExpiresDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ExpiresDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_InviteSerials_Serial</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_InviteSerials_Serial" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">Serial</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>Serial</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Serial" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(newid())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_InviteSerials">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_InviteSerials</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_InviteSerials_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_InviteSerials_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_InviteSerials_Serial</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_InviteSerials_Serial">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Serial</ColumnName>
                      <Column Name="Serial" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(newid())</DefaultDefinition>
                      </Column>
                      <Definition>(newid())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_InviteSerials_BeginDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_InviteSerials_BeginDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_InviteSerials_ToUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_InviteSerials_ToUserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ToUserID</ColumnName>
                      <Column Name="ToUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_InviteSerials_Remark</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_InviteSerials_Remark">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Remark</ColumnName>
                      <Column Name="Remark" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CS_AS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_InviteSerials_Status</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_InviteSerials_Status">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Status</ColumnName>
                      <Column Name="Status" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ShareAgreeOrOpposeLogs</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ShareAgreeOrOpposeLogs">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ShareID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ShareID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsAgree</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsAgree" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ShareAgreeOrOpposeLogs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ShareAgreeOrOpposeLogs" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ShareID</anyType>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ShareID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ShareID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ShareAgreeOrOpposeLogs">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ShareAgreeOrOpposeLogs</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_ShareAgreeOrOpposeLogs_ShareID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ShareAgreeOrOpposeLogs_ShareID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ShareID</ColumnName>
                      <Column Name="ShareID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ShareAgreeOrOpposeLogs_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ShareAgreeOrOpposeLogs_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ShareAgreeOrOpposeLogs_IsAgree</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ShareAgreeOrOpposeLogs_IsAgree">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsAgree</ColumnName>
                      <Column Name="IsAgree" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ShareAgreeOrOpposeLogs_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ShareAgreeOrOpposeLogs_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_PostLoveHates</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_PostLoveHates">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>PostID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LoveCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LoveCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>HateCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="HateCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_PostLoveHates</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_PostLoveHates" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">PostID</anyType>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>PostID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="PostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_PostLoveHates">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_PostLoveHates</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_PostLoveHates_PostID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_PostLoveHates_PostID" PrimaryTableName="bx_Posts" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">PostID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">PostID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FK_bx_PostLoveHates_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_PostLoveHates_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_PostLoveHates_PostID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PostLoveHates_PostID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>PostID</ColumnName>
                      <Column Name="PostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PostLoveHates_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PostLoveHates_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PostLoveHates_LoveCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PostLoveHates_LoveCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LoveCount</ColumnName>
                      <Column Name="LoveCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PostLoveHates_HateCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PostLoveHates_HateCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>HateCount</ColumnName>
                      <Column Name="HateCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UsersInRoles</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_UsersInRoles">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>RoleID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="RoleID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BeginDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="BeginDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_UsersInRoles</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_UsersInRoles" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">RoleID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>RoleID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="RoleID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_UsersInRoles_RoleUsers</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_UsersInRoles_RoleUsers" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">RoleID</anyType>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>RoleID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="RoleID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_UsersInRoles_EndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_UsersInRoles_EndDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">EndDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>EndDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_UsersInRoles">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_UsersInRoles</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_UsersInRoles_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_UsersInRoles_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_UsersInRoles_AfterDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_UsersInRoles_AfterDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>

CREATE TRIGGER [bx_UsersInRoles_AfterDelete] ON [bx_UsersInRoles] AFTER DELETE

AS
BEGIN

	SET NOCOUNT ON;
	
	DECLARE @tempTable table(RoleID int,TotalUser int);
	
	INSERT INTO @tempTable
		SELECT DISTINCT RoleID,
			ISNULL((SELECT COUNT(*) FROM [bx_UsersInRoles] AS r WITH (NOLOCK) WHERE r.RoleID=T.RoleID),0)
		FROM [DELETED] T;
		
	UPDATE [bx_Roles]
		SET
			bx_Roles.UserCount=T.TotalUser
		FROM @tempTable T
		WHERE
			T.RoleID=bx_Roles.RoleID;
			
END
</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_UsersInRoles_AfterInsert</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_UsersInRoles_AfterInsert">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>

CREATE TRIGGER [bx_UsersInRoles_AfterInsert] ON [bx_UsersInRoles] AFTER INSERT

AS
BEGIN

	SET NOCOUNT ON;
	
	DECLARE @tempTable table(RoleID int,TotalUser int)
	
	INSERT INTO @tempTable
		SELECT DISTINCT RoleID,
			ISNULL((SELECT COUNT(*) FROM [bx_UsersInRoles] as r WITH (NOLOCK) WHERE r.RoleID=T.RoleID),0)
		FROM [INSERTED]	T;
		
	UPDATE [bx_Roles]
		SET
			bx_Roles.UserCount=T.TotalUser
		FROM @tempTable	 T
		WHERE
			T.RoleID=bx_Roles.RoleID;
END			</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_UsersInRoles_After_Update</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_UsersInRoles_After_Update">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>

CREATE TRIGGER [bx_UsersInRoles_After_Update]	ON [bx_UsersInRoles] After UPDATE

AS
BEGIN

	SET NOCOUNT ON;
	
	IF UPDATE([RoleID]) BEGIN
	
		DECLARE @tempTable table(RoleID int,TotalUser int);
		
		INSERT INTO @tempTable
			SELECT DISTINCT RoleID,
				ISNULL((SELECT COUNT(*) FROM [bx_UsersInRoles] as r WITH (NOLOCK) WHERE r.RoleID=T.RoleID),0)
			FROM [INSERTED]	T;
			
		INSERT INTO @tempTable
			SELECT DISTINCT RoleID,
				ISNULL((SELECT COUNT(*) FROM [bx_UsersInRoles] AS r WITH (NOLOCK) WHERE r.RoleID=T.RoleID),0)
			FROM [DELETED] T
			WHERE RoleID NOT IN (SELECT RoleID FROM @tempTable);
			
		UPDATE [bx_Roles]
			SET
				bx_Roles.UserCount=T.TotalUser
			FROM @tempTable T
			WHERE
				T.RoleID=bx_Roles.RoleID;
	END
END		</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DayLastThreads</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_DayLastThreads">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>Day</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Day" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_DayLastThreads</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_DayLastThreads" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">Day</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>Day</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Day" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_DayLastThreads">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_DayLastThreads</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UserTempData</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_UserTempData">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_UserTempAvatar</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_UserTempRealname</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DataType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DataType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExpiresDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ExpiresDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Data</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Data" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_UserTempData</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_UserTempData" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">DataType</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>DataType</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="DataType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_UserTempData">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_UserTempData</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_UserTempData_bx_Users</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_UserTempData_bx_Users" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="0">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_UserTempData_CreatDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserTempData_CreatDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DeletingFiles</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_DeletingFiles">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>DeletingFileID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DeletingFileID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ServerFilePath</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ServerFilePath" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_DeletingFiles</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_DeletingFiles" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">DeletingFileID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>DeletingFileID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="DeletingFileID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_DeletingFiles">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_DeletingFiles</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_DeletingFiles_AfterInsert</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_DeletingFiles_AfterInsert">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>
CREATE TRIGGER bx_DeletingFiles_AfterInsert  ON [bx_DeletingFiles]
AFTER INSERT
AS
BEGIN
	SET NOCOUNT ON;

	SELECT TOP 300 'DeleteFile' AS XCMD, DeletingFileID, ServerFilePath FROM INSERTED;
END</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_IPLogs</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_IPLogs">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>LogID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Username</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Username" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>(N'')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>NewIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="NewIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>OldIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="OldIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>VisitUrl</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="VisitUrl" UserTypeId="167" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_IPLogs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_IPLogs" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">LogID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>LogID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="LogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_IPlogs_NewIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_IPlogs_NewIP" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">NewIP</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>NewIP</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="NewIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                                <DefaultDefinition>('')</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_IPLogs">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_IPLogs</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_IPLogs_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_IPLogs_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_IPLogs_Username</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_IPLogs_Username">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Username</ColumnName>
                      <Column Name="Username" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>(N'')</DefaultDefinition>
                      </Column>
                      <Definition>(N'')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_IPLogs_NewIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_IPLogs_NewIP">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>NewIP</ColumnName>
                      <Column Name="NewIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_IPLogs_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_IPLogs_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_IPLogs_OldIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_IPLogs_OldIP">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>OldIP</ColumnName>
                      <Column Name="OldIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_IPLogs_VisitUrl</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_IPLogs_VisitUrl">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>VisitUrl</ColumnName>
                      <Column Name="VisitUrl" UserTypeId="167" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CS_AS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UserVars</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_UserVars">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_AuthUsers</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_FriendsHasImpressions</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Password</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Password" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PasswordFormat</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PasswordFormat" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(3)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UnreadMessages</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UnreadMessages" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastReadSystemNotifyID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastReadSystemNotifyID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UsedAlbumSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UsedAlbumSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AddedAlbumSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AddedAlbumSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TimeZone</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TimeZone" UserTypeId="59" MaxLength="4" Precision="24" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(9999)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EverAvatarChecked</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="EverAvatarChecked" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EnableDisplaySidebar</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="EnableDisplaySidebar" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>OnlineStatus</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="OnlineStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SkinID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SkinID" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalDiskFiles</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalDiskFiles" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UsedDiskSpaceSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UsedDiskSpaceSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastAvatarUpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastAvatarUpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastImpressionDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastImpressionDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>('1980-1-1')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SelectFriendGroupID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SelectFriendGroupID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>((-1))</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ReplyReturnThreadLastPage</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ReplyReturnThreadLastPage" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_UserVars</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_UserVars" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_UserVars_LastImpressionDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_UserVars_LastImpressionDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">LastImpressionDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>LastImpressionDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="LastImpressionDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>('1980-1-1')</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_UserVars">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_UserVars</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_UserVars_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_UserVars_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_UserVars_PasswordFormat</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserVars_PasswordFormat">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>PasswordFormat</ColumnName>
                      <Column Name="PasswordFormat" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(3)</DefaultDefinition>
                      </Column>
                      <Definition>(3)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserVars_UnreadMessages</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserVars_UnreadMessages">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UnreadMessages</ColumnName>
                      <Column Name="UnreadMessages" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserVars_LostReadSystemNotifyID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserVars_LostReadSystemNotifyID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastReadSystemNotifyID</ColumnName>
                      <Column Name="LastReadSystemNotifyID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserVars_UsedAlbumSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserVars_UsedAlbumSize">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UsedAlbumSize</ColumnName>
                      <Column Name="UsedAlbumSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserVars_AddedAlbumSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserVars_AddedAlbumSize">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>AddedAlbumSize</ColumnName>
                      <Column Name="AddedAlbumSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserVars_TimeZone</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserVars_TimeZone">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TimeZone</ColumnName>
                      <Column Name="TimeZone" UserTypeId="59" MaxLength="4" Precision="24" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(9999)</DefaultDefinition>
                      </Column>
                      <Definition>(9999)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserVars_EverAvatarChecked</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserVars_EverAvatarChecked">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>EverAvatarChecked</ColumnName>
                      <Column Name="EverAvatarChecked" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserVars_EnableDisplaySidebar</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserVars_EnableDisplaySidebar">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>EnableDisplaySidebar</ColumnName>
                      <Column Name="EnableDisplaySidebar" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserVars_OnlineStatus</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserVars_OnlineStatus">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>OnlineStatus</ColumnName>
                      <Column Name="OnlineStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserVars_SkinID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserVars_SkinID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SkinID</ColumnName>
                      <Column Name="SkinID" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserVars_TotalDiskFiles</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserVars_TotalDiskFiles">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalDiskFiles</ColumnName>
                      <Column Name="TotalDiskFiles" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserVars_UsedDiskSpaceSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserVars_UsedDiskSpaceSize">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UsedDiskSpaceSize</ColumnName>
                      <Column Name="UsedDiskSpaceSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserVars_LastAvatarUpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserVars_LastAvatarUpdateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastAvatarUpdateDate</ColumnName>
                      <Column Name="LastAvatarUpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF__bx_UserVa__LastI__469D7149</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF__bx_UserVa__LastI__469D7149">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastImpressionDate</ColumnName>
                      <Column Name="LastImpressionDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>('1980-1-1')</DefaultDefinition>
                      </Column>
                      <Definition>('1980-1-1')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserVars_SelectFriendGroupID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserVars_SelectFriendGroupID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SelectFriendGroupID</ColumnName>
                      <Column Name="SelectFriendGroupID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>((-1))</DefaultDefinition>
                      </Column>
                      <Definition>((-1))</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DenouncingContents</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_DenouncingContents">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>DenouncingID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DenouncingID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Content</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Content" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_DenouncingContents</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_DenouncingContents" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">DenouncingID</anyType>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>DenouncingID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="DenouncingID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_DenouncingContents">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_DenouncingContents</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_DenouncingContents_DenouncingID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_DenouncingContents_DenouncingID" PrimaryTableName="bx_Denouncings" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">DenouncingID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">DenouncingID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_DenouncingContents_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_DenouncingContents_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_PostMarks</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_PostMarks">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>PostMarkID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PostMarkID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PostID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Username</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Username" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExtendedPoints_1</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ExtendedPoints_1" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExtendedPoints_2</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ExtendedPoints_2" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExtendedPoints_3</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ExtendedPoints_3" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExtendedPoints_4</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ExtendedPoints_4" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExtendedPoints_5</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ExtendedPoints_5" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExtendedPoints_6</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ExtendedPoints_6" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExtendedPoints_7</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ExtendedPoints_7" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExtendedPoints_8</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ExtendedPoints_8" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Reason</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Reason" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_PostMarks</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_PostMarks" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">PostMarkID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>PostMarkID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="PostMarkID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_PostMarks</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_PostMarks" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">PostID</anyType>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>PostID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="PostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_PostMarks_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_PostMarks_CreateDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CreateDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CreateDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_PostMarks_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_PostMarks_UserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_PostMarks">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_PostMarks</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_PostMarks_PostID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_PostMarks_PostID" PrimaryTableName="bx_Posts" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">PostID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">PostID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_PostMarks_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PostMarks_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PostMarks_ExtendedPoints_1</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PostMarks_ExtendedPoints_1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ExtendedPoints_1</ColumnName>
                      <Column Name="ExtendedPoints_1" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PostMarks_ExtendedPoints_2</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PostMarks_ExtendedPoints_2">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ExtendedPoints_2</ColumnName>
                      <Column Name="ExtendedPoints_2" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PostMarks_ExtendedPoints_3</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PostMarks_ExtendedPoints_3">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ExtendedPoints_3</ColumnName>
                      <Column Name="ExtendedPoints_3" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PostMarks_ExtendedPoints_4</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PostMarks_ExtendedPoints_4">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ExtendedPoints_4</ColumnName>
                      <Column Name="ExtendedPoints_4" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PostMarks_ExtendedPoints_5</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PostMarks_ExtendedPoints_5">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ExtendedPoints_5</ColumnName>
                      <Column Name="ExtendedPoints_5" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PostMarks_ExtendedPoints_6</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PostMarks_ExtendedPoints_6">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ExtendedPoints_6</ColumnName>
                      <Column Name="ExtendedPoints_6" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PostMarks_ExtendedPoints_7</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PostMarks_ExtendedPoints_7">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ExtendedPoints_7</ColumnName>
                      <Column Name="ExtendedPoints_7" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PostMarks_ExtendedPoints_8</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PostMarks_ExtendedPoints_8">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ExtendedPoints_8</ColumnName>
                      <Column Name="ExtendedPoints_8" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_AuthenticUsers</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_AuthenticUsers">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Realname</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Realname" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Gender</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Gender" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Birthday</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Birthday" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IDNumber</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IDNumber" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IDCardFileFace</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IDCardFileFace" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IDCardFileBack</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IDCardFileBack" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Verified</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Verified" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Area</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Area" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Photo</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Photo" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Processed</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Processed" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>OperatorUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="OperatorUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Remark</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Remark" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DetectedState</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DetectedState" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsDetect</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsDetect" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_AuthenticUsers</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_AuthenticUsers" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_AuthenticUsers_IDNumber</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_AuthenticUsers_IDNumber" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">IDNumber</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>IDNumber</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="IDNumber" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CS_AS</Collation>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_AuthenticUsers">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_AuthenticUsers</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_AuthenticUsers_bx_Users</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_AuthenticUsers_bx_Users" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_AuthenticUsers_Verified</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_AuthenticUsers_Verified">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Verified</ColumnName>
                      <Column Name="Verified" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_AuthenticUsers_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_AuthenticUsers_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_AuthenticUsers_Processed</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_AuthenticUsers_Processed">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Processed</ColumnName>
                      <Column Name="Processed" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_AuthenticUsers_IsDetect</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_AuthenticUsers_IsDetect">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsDetect</ColumnName>
                      <Column Name="IsDetect" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SmsCodes</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_SmsCodes">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>SmsCodeID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SmsCodeID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsUsed</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsUsed" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ActionType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ActionType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExpiresDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ExpiresDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MobilePhone</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="MobilePhone" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SmsCode</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SmsCode" UserTypeId="167" MaxLength="10" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ChangedMobilePhone</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ChangedMobilePhone" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ChangedSmsCode</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ChangedSmsCode" UserTypeId="167" MaxLength="10" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_SmsCodes</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_SmsCodes" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">SmsCodeID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>SmsCodeID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="SmsCodeID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_SmsCodes_Key</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_SmsCodes_Key" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_SmsCodes_ExpiresDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_SmsCodes_ExpiresDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ExpiresDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ExpiresDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ExpiresDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_SmsCodes">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_SmsCodes</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_SmsCodes_bx_Users</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_SmsCodes_bx_Users" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="0">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_SmsCodes_IsUsed</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_SmsCodes_IsUsed">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsUsed</ColumnName>
                      <Column Name="IsUsed" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_SmsCodes_CreatDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_SmsCodes_CreatDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_SmsCodes_ChangedMobilePhone</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_SmsCodes_ChangedMobilePhone">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ChangedMobilePhone</ColumnName>
                      <Column Name="ChangedMobilePhone" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_SmsCodes_ChangedSmsCode</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_SmsCodes_ChangedSmsCode">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ChangedSmsCode</ColumnName>
                      <Column Name="ChangedSmsCode" UserTypeId="167" MaxLength="10" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CS_AS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Denouncings</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Denouncings">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>DenouncingID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DenouncingID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TargetID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TargetID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TargetUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TargetUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Type" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsIgnore</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsIgnore" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Denouncings</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Denouncings" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">DenouncingID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>DenouncingID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="DenouncingID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Denouncings_IsIgnore</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Denouncings_IsIgnore" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">IsIgnore</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>IsIgnore</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="IsIgnore" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Denouncings_Type_TargetID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Denouncings_Type_TargetID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">Type</anyType>
                        <anyType xsi:type="xsd:string">TargetID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>Type</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Type" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>TargetID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TargetID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Denouncings">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Denouncings</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_DenouncingContents</TableName>
                <ForeignKeyName>FK_bx_DenouncingContents_DenouncingID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Denouncings_IsIgnore</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Denouncings_IsIgnore">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsIgnore</ColumnName>
                      <Column Name="IsIgnore" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Denouncings_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Denouncings_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_Denouncings_AfterDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Denouncings_AfterDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>
CREATE TRIGGER [bx_Denouncings_AfterDelete]
	ON [bx_Denouncings]
	AFTER DELETE
AS
BEGIN
	
	SET NOCOUNT ON;
	
	SELECT 'ResetDenouncingCount' AS XCMD;
END
</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ThreadWords</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ThreadWords">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Word</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Word" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>IX_bx_ThreadWords_ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_ThreadWords_ThreadID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_ThreadWords_Word</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_ThreadWords_Word" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">Word</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>Word</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Word" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                                <DefaultDefinition>('')</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_ThreadWords_ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_ThreadWords_ThreadID" PrimaryTableName="bx_Threads" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_ThreadWords_ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadWords_ThreadID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ThreadID</ColumnName>
                      <Column Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadWords_Words</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadWords_Words">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Word</ColumnName>
                      <Column Name="Word" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_JobStatus</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_JobStatus">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Type" UserTypeId="167" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastExecuteTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastExecuteTime" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_JobStatus</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_JobStatus" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">Type</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>Type</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Type" UserTypeId="167" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                                <DefaultDefinition>('')</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_JobStatus">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_JobStatus</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_JobStatus_Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_JobStatus_Type">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Type</ColumnName>
                      <Column Name="Type" UserTypeId="167" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_JobStatus_LastExecuteTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_JobStatus_LastExecuteTime">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastExecuteTime</ColumnName>
                      <Column Name="LastExecuteTime" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DiskDirectories</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_DiskDirectories">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>DirectoryID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DirectoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Name" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Password</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Password" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PrivacyType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PrivacyType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(2)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ParentID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ParentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalFiles</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalFiles" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalSubDirectories</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalSubDirectories" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_DiskDirectories</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_DiskDirectories" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">DirectoryID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>DirectoryID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="DirectoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_DiskDirectories_ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_DiskDirectories_ID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">DirectoryID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>DirectoryID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="DirectoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_DiskDirectories_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_DiskDirectories_UserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_DiskDirectories_ParentID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_DiskDirectories_ParentID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ParentID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ParentID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ParentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_DiskDirectories">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_DiskDirectories</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_DiskDirectories_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_DiskDirectories_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_DiskFiles</TableName>
                <ForeignKeyName>FK_bx_DiskFiles_DirectoryID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_DiskDirectory_Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_DiskDirectory_Name">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Name</ColumnName>
                      <Column Name="Name" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_DiskDirectory_Password</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_DiskDirectory_Password">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Password</ColumnName>
                      <Column Name="Password" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_DiskDirectory_PrivacyType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_DiskDirectory_PrivacyType">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>PrivacyType</ColumnName>
                      <Column Name="PrivacyType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(2)</DefaultDefinition>
                      </Column>
                      <Definition>(2)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_DiskDirectory_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_DiskDirectory_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_DiskDirectory_ParentID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_DiskDirectory_ParentID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ParentID</ColumnName>
                      <Column Name="ParentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_DiskDirectory_TotalFiles</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_DiskDirectory_TotalFiles">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalFiles</ColumnName>
                      <Column Name="TotalFiles" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_DiskDirectory_TotalSubDirectories</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_DiskDirectory_TotalSubDirectories">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalSubDirectories</ColumnName>
                      <Column Name="TotalSubDirectories" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_DiskDirectory_TotalSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_DiskDirectory_TotalSize">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalSize</ColumnName>
                      <Column Name="TotalSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_DiskDirectory_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_DiskDirectory_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_DiskDirectory_UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_DiskDirectory_UpdateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UpdateDate</ColumnName>
                      <Column Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_BannedUsers</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_BannedUsers">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ForumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BeginDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="BeginDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>('1753-1-1')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>('9999-12-31 23:59:59')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Cause</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Cause" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_BannedUsers</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_BannedUsers" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ForumID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_BannedUsers">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_BannedUsers</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_BannedUsers_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_BannedUsers_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="0">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_BannedUsers_BeginDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BannedUsers_BeginDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>BeginDate</ColumnName>
                      <Column Name="BeginDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>('1753-1-1')</DefaultDefinition>
                      </Column>
                      <Definition>('1753-1-1')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BannedUsers_EndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BannedUsers_EndDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>EndDate</ColumnName>
                      <Column Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>('9999-12-31 23:59:59')</DefaultDefinition>
                      </Column>
                      <Definition>('9999-12-31 23:59:59')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BannedUsers_Cause</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BannedUsers_Cause">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Cause</ColumnName>
                      <Column Name="Cause" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Stats</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Stats">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>StatType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="StatType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Year</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Year" UserTypeId="52" MaxLength="2" Precision="5" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Month</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Month" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Day</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Day" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Hour</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Hour" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Count</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Count" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Param</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Param" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Stats_StatType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Stats_StatType">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>StatType</ColumnName>
                      <Column Name="StatType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Stats_Param</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Stats_Param">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Param</ColumnName>
                      <Column Name="Param" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_TopicStatus</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_TopicStatus">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Type" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_TopicStatus</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_TopicStatus" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_TopicStatus_ThreadType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_TopicStatus_ThreadType" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                        <anyType xsi:type="xsd:string">Type</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>Type</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Type" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_TopicStatus_EndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_TopicStatus_EndDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">EndDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>EndDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_TopicStatus">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_TopicStatus</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_TopicStatus_ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_TopicStatus_ThreadID" PrimaryTableName="bx_Threads" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_TopicStatus_ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_TopicStatus_ThreadID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ThreadID</ColumnName>
                      <Column Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_TopicStatus_Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_TopicStatus_Type">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Type</ColumnName>
                      <Column Name="Type" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_TopicStatus_EndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_TopicStatus_EndDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>EndDate</ColumnName>
                      <Column Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_StepByStepTasks</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_StepByStepTasks">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>TaskID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TaskID" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Type" UserTypeId="167" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Param</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Param" UserTypeId="231" MaxLength="7000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FinishedCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FinishedCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Offset</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Offset" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Title</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Title" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastExecuteTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastExecuteTime" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>InstanceMode</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="InstanceMode" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_StepByStepTasks</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_StepByStepTasks" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">TaskID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>TaskID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TaskID" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_StepByStepTasks">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_StepByStepTasks</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_StepByStepTasks_Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_StepByStepTasks_Type">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Type</ColumnName>
                      <Column Name="Type" UserTypeId="167" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_StepByStepTasks_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_StepByStepTasks_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_StepByStepTasks_Param</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_StepByStepTasks_Param">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Param</ColumnName>
                      <Column Name="Param" UserTypeId="231" MaxLength="7000" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_StepByStepTasks_TotalCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_StepByStepTasks_TotalCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalCount</ColumnName>
                      <Column Name="TotalCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_StepByStepTasks_FinishedCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_StepByStepTasks_FinishedCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FinishedCount</ColumnName>
                      <Column Name="FinishedCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_StepByStepTasks_Offset</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_StepByStepTasks_Offset">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Offset</ColumnName>
                      <Column Name="Offset" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_StepByStepTasks_Title</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_StepByStepTasks_Title">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Title</ColumnName>
                      <Column Name="Title" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_StepByStepTasks_LastExecuteTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_StepByStepTasks_LastExecuteTime">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastExecuteTime</ColumnName>
                      <Column Name="LastExecuteTime" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Missions</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Missions">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_UserMissionsView</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CycleTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CycleTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalUsers</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalUsers" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsEnable</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsEnable" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Type" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Name" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IconUrl</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IconUrl" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DeductPoint</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DeductPoint" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Prize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Prize" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Description" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ApplyCondition</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ApplyCondition" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FinishCondition</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FinishCondition" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(null)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BeginDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="BeginDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(null)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CategoryID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CategoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(null)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ParentID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ParentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(null)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Missions</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Missions" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Missions">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Missions</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_UserMissions</TableName>
                <ForeignKeyName>FK_bx_UserMissions_MissionID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Missions_CycleTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Missions_CycleTime">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CycleTime</ColumnName>
                      <Column Name="CycleTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Missions_SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Missions_SortOrder">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SortOrder</ColumnName>
                      <Column Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Missions_TotalUsers</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Missions_TotalUsers">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalUsers</ColumnName>
                      <Column Name="TotalUsers" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Missions_IsEnable</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Missions_IsEnable">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsEnable</ColumnName>
                      <Column Name="IsEnable" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Missions_Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Missions_Type">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Type</ColumnName>
                      <Column Name="Type" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Missions_Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Missions_Name">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Name</ColumnName>
                      <Column Name="Name" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Missions_IconUrl</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Missions_IconUrl">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IconUrl</ColumnName>
                      <Column Name="IconUrl" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Missions_DeductPoint</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Missions_DeductPoint">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>DeductPoint</ColumnName>
                      <Column Name="DeductPoint" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Missions_Prize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Missions_Prize">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Prize</ColumnName>
                      <Column Name="Prize" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Missions_Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Missions_Description">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Description</ColumnName>
                      <Column Name="Description" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Missions_ApplyCondition</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Missions_ApplyCondition">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ApplyCondition</ColumnName>
                      <Column Name="ApplyCondition" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Missions_FinishCondition</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Missions_FinishCondition">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FinishCondition</ColumnName>
                      <Column Name="FinishCondition" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Missions_EndTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Missions_EndTime">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>EndDate</ColumnName>
                      <Column Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(null)</DefaultDefinition>
                      </Column>
                      <Definition>(null)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Missions_StartTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Missions_StartTime">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>BeginDate</ColumnName>
                      <Column Name="BeginDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(null)</DefaultDefinition>
                      </Column>
                      <Definition>(null)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Missions_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Missions_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Missions_CategoryID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Missions_CategoryID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CategoryID</ColumnName>
                      <Column Name="CategoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(null)</DefaultDefinition>
                      </Column>
                      <Definition>(null)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Missions_ParentID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Missions_ParentID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ParentID</ColumnName>
                      <Column Name="ParentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(null)</DefaultDefinition>
                      </Column>
                      <Definition>(null)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_PostReverters</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_PostReverters">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>PostID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SubjectReverter</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SubjectReverter" UserTypeId="231" MaxLength="8000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ContentReverter</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ContentReverter" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_PostReverters</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_PostReverters" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">PostID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>PostID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="PostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_PostReverters">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_PostReverters</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_PostReverters_PostID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_PostReverters_PostID" PrimaryTableName="bx_Posts" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">PostID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">PostID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_BanUserLogForumInfos</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_BanUserLogForumInfos">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_BanUserViewLogs</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>LogID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ForumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ForumName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ForumName" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                      <DefaultDefinition>(N'')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_BanUserLogForumInfos_LogID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_BanUserLogForumInfos_LogID" PrimaryTableName="bx_BanUserLogs" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">LogID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">LogID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_BanUserForumInfoLogs_ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BanUserForumInfoLogs_ID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LogID</ColumnName>
                      <Column Name="LogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BanUserForumInfoLogs_ForumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BanUserForumInfoLogs_ForumID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ForumID</ColumnName>
                      <Column Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BanUserForumInfoLogs_ForumName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BanUserForumInfoLogs_ForumName">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ForumName</ColumnName>
                      <Column Name="ForumName" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CS_AS</Collation>
                        <DefaultDefinition>(N'')</DefaultDefinition>
                      </Column>
                      <Definition>(N'')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BanUserForumInfoLogs_EndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BanUserForumInfoLogs_EndDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>EndDate</ColumnName>
                      <Column Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UnreadNotifies</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_UnreadNotifies">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TypeID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TypeID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UnreadCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UnreadCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_UnreadNotifies</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_UnreadNotifies" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">TypeID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>TypeID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TypeID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_UnreadNotifies">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_UnreadNotifies</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_UnreadNotifies_TypeID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_UnreadNotifies_TypeID" PrimaryTableName="bx_NotifyTypes" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">TypeID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">TypeID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FK_bx_UnreadNotifies_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_UnreadNotifies_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_UnreadNotifies_UnreadCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UnreadNotifies_UnreadCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UnreadCount</ColumnName>
                      <Column Name="UnreadCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Posts</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Posts">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_AttacmentsWithForumID</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_TopicsWithContents</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>PostID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ParentID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ParentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ForumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PostType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PostType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IconID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IconID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Subject</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Subject" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Content</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Content" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ContentFormat</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ContentFormat" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(10)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EnableSignature</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="EnableSignature" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EnableReplyNotice</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="EnableReplyNotice" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsShielded</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsShielded" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>NickName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="NickName" UserTypeId="231" MaxLength="128" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastEditorID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastEditorID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastEditor</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastEditor" UserTypeId="231" MaxLength="128" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>(N'')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IPAddress</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IPAddress" UserTypeId="231" MaxLength="128" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('000.000.000.000')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MarkCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="MarkCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LoveCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LoveCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>HateCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="HateCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FloorNumber</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FloorNumber" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>HistoryAttachmentIDs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="HistoryAttachmentIDs" UserTypeId="167" MaxLength="500" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Posts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Posts" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">PostID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>PostID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="PostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Posts_Forum</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Posts_Forum" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                        <anyType xsi:type="xsd:string">SortOrder</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ForumID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>SortOrder</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Posts_SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Posts_SortOrder" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">SortOrder</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>SortOrder</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Posts_User</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Posts_User" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                        <anyType xsi:type="xsd:string">SortOrder</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ThreadID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>SortOrder</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Posts_Thread</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Posts_Thread" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                        <anyType xsi:type="xsd:string">SortOrder</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>SortOrder</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Posts_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Posts_CreateDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CreateDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CreateDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Posts">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Posts</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_Posts_ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Posts_ThreadID" PrimaryTableName="bx_Threads" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Attachments</TableName>
                <ForeignKeyName>FK_bx_Attachments_PostID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_PostLoveHates</TableName>
                <ForeignKeyName>FK_bx_PostLoveHates_PostID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_PostMarks</TableName>
                <ForeignKeyName>FK_bx_PostMarks_PostID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_PostReverters</TableName>
                <ForeignKeyName>FK_bx_PostReverters_PostID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Posts_PostType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Posts_PostType">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>PostType</ColumnName>
                      <Column Name="PostType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Posts_IconID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Posts_IconID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IconID</ColumnName>
                      <Column Name="IconID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Posts_ContentFormat</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Posts_ContentFormat">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ContentFormat</ColumnName>
                      <Column Name="ContentFormat" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(10)</DefaultDefinition>
                      </Column>
                      <Definition>(10)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Posts_EnableSignature</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Posts_EnableSignature">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>EnableSignature</ColumnName>
                      <Column Name="EnableSignature" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Posts_EnableReplyNotice</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Posts_EnableReplyNotice">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>EnableReplyNotice</ColumnName>
                      <Column Name="EnableReplyNotice" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Posts_IsShielded</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Posts_IsShielded">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsShielded</ColumnName>
                      <Column Name="IsShielded" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Posts_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Posts_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Posts_LastEditorID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Posts_LastEditorID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastEditorID</ColumnName>
                      <Column Name="LastEditorID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Posts_LastEditor</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Posts_LastEditor">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastEditor</ColumnName>
                      <Column Name="LastEditor" UserTypeId="231" MaxLength="128" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>(N'')</DefaultDefinition>
                      </Column>
                      <Definition>(N'')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Posts_IPAddress</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Posts_IPAddress">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IPAddress</ColumnName>
                      <Column Name="IPAddress" UserTypeId="231" MaxLength="128" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('000.000.000.000')</DefaultDefinition>
                      </Column>
                      <Definition>('000.000.000.000')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Posts_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Posts_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Posts_UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Posts_UpdateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UpdateDate</ColumnName>
                      <Column Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_Posts_AfterDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Posts_AfterDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>

CREATE TRIGGER [bx_Posts_AfterDelete] 
   ON  [bx_Posts] 
   AFTER DELETE
AS 
BEGIN
	SET NOCOUNT ON;
	DECLARE @tempTable TABLE(ForumID INT,PostCount INT,ReduceTodayPosts INT)--,LastThreadID INT)

	DECLARE @Today DateTime,@Monday DateTime;
	SET @Today = CONVERT(varchar(12) , getdate(), 102);
	
	DECLARE @m int;
	SELECT @m = DATEPART(weekday, @Today);
	IF @m = 1
		SELECT @m = 8;
	SELECT @Monday = DATEADD(day, 2-@m, @Today);

	--IF NOT EXISTS (SELECT TOP 1 * FROM bx_Posts WHERE ThreadID IN (SELECT DISTINCT ThreadID FROM deleted))
		--RETURN;

	insert into @tempTable(ForumID,PostCount,ReduceTodayPosts)--,LastThreadID)
	select distinct D.ForumID,
				(SELECT COUNT(1) FROM [deleted] D1 WHERE D1.ForumID=D.ForumID AND D1.SortOrder&lt;4000000000000000)
				,(SELECT COUNT(1) FROM [deleted] D1 WHERE D1.ForumID=D.ForumID AND D1.SortOrder&lt;4000000000000000 AND D1.PostID&gt;(SELECT YestodayLastPostID FROM bx_Forums F WITH(NOLOCK) WHERE F.ForumID=D.ForumID))
				--,(SELECT ThreadID FROM [bx_Threads] T1 WHERE T1.SortOrder=(SELECT MAX(SortOrder) FROM [bx_Threads] T2  WITH(NOLOCK) WHERE T2.ForumID=D.ForumID AND SortOrder&lt;2000000000000000))
				--,(SELECT ISNULL(ThreadID,0) FROM [bx_Posts] WITH(NOLOCK) WHERE PostID = (SELECT ISNULL(MAX(PostID),0) FROM [bx_Posts] T1 WITH (NOLOCK) WHERE T1.ForumID = D.ForumID))
				FROM [deleted] D --Inner join [bx_Threads] T on D.ThreadID=T.ThreadID WHERE D.IsApproved=1

	----如果没有，说明这是对直接删除整个主题，可以直接终止 
	--IF NOT EXISTS (SELECT * FROM @tempTable)
			--RETURN;

	UPDATE bx_Forums SET 
					TotalPosts=TotalPosts-t.PostCount
					,TodayPosts=TodayPosts-t.ReduceTodayPosts
					--,LastThreadID=ISNULL(t.LastThreadID,0)
					from @tempTable as t WHERE bx_Forums.ForumID=t.ForumID


	
	 
	SELECT 'RecodeTodayPosts' AS XCMD, 'delete' as AC, T.ForumID AS ForumID,T.ReduceTodayPosts AS ReducePosts,F.TodayPosts,F.CodeName FROM @tempTable AS T INNER JOIN bx_Forums as F on T.ForumID = F.ForumID WHERE T.ReduceTodayPosts&gt;0;



	DECLARE @tempTable2 TABLE(ThreadID INT,PostCount INT,LastPostUserID INT,LastPostUserNickName nvarchar(64))
	insert into @tempTable2(ThreadID,PostCount,LastPostUserID,LastPostUserNickName)
	select distinct D.ThreadID,
				--(SELECT COUNT(1) FROM [deleted] D1  Inner join [bx_Threads] T1 on D1.ThreadID=T1.ThreadID WHERE D1.IsApproved=1 AND T1.ThreadID=T.ThreadID)
				(SELECT COUNT(1) FROM [bx_Posts] P WITH(NOLOCK) WHERE P.ThreadID=D.ThreadID AND P.SortOrder&lt;4000000000000000)
				,(SELECT top 1 UserID FROM [bx_Posts] where ThreadID=D.ThreadID  AND SortOrder&lt;4000000000000000 Order by SortOrder desc)
				,(SELECT top 1 NickName FROM [bx_Posts] where ThreadID=D.ThreadID AND SortOrder&lt;4000000000000000 Order by SortOrder desc)
				FROM [deleted] D --WHERE D.ForumID&gt;0-- Inner join [bx_Threads] T on D.ThreadID=T.ThreadID

	UPDATE bx_Threads SET 
					TotalReplies=t.PostCount-1,--TotalReplies-t.PostCount,
					LastPostUserID=ISNULL(t.LastPostUserID,0),
					LastPostNickName=ISNULL(t.LastPostUserNickName,'') 
					from @tempTable2 as t WHERE bx_Threads.ThreadID=t.ThreadID


	DECLARE @FirstPostSortOrder TABLE(SortOrder BIGINT)
	INSERT INTO @FirstPostSortOrder(SortOrder)
	SELECT MIN(P.SortOrder) FROM [deleted] I INNER JOIN [bx_Posts] P ON I.ThreadID=P.ThreadID  GROUP BY I.ThreadID 

	IF EXISTS(SELECT * FROM [deleted] WHERE SortOrder IN(SELECT SortOrder FROM @FirstPostSortOrder)) BEGIN
		--这表示是删除主题时触发的，这时候只要重新统计主题用户的DeletedPosts，其他用户不重新统计--
		
		DECLARE @tempTable3 TABLE(userID INT,postCount INT,weekPostCount INT,dayPostCount INT, monthPostCount INT)
		insert into @tempTable3(userID,postCount,weekPostCount,dayPostCount,monthPostCount)
		select distinct UserID
						,(SELECT COUNT(*) FROM [deleted] POST /* INNER JOIN [bx_Threads] THREAD ON POST.ThreadID=THREAD.ThreadID */ WHERE  POST.SortOrder&lt;4000000000000000 AND POST.UserID=p.UserID)
						,(SELECT COUNT(*) FROM [deleted] POST WHERE  POST.SortOrder&lt;4000000000000000 AND POST.UserID=p.UserID AND CreateDate&gt;=@Monday)
						,(SELECT COUNT(*) FROM [deleted] POST WHERE  POST.SortOrder&lt;4000000000000000 AND POST.UserID=p.UserID AND CreateDate&gt;=@Today)
						,(SELECT COUNT(*) FROM [deleted] POST WHERE  POST.SortOrder&lt;4000000000000000 AND POST.UserID=p.UserID AND DATEPART(year, GETDATE()) = DATEPART(year,CreateDate) AND DATEPART(month, GETDATE()) = DATEPART(month,CreateDate))
				FROM [deleted] p /* inner join [bx_Threads] t on p.ThreadID=t.ThreadID */

		UPDATE bx_Users SET
				TotalPosts=TotalPosts-t.postCount
				,WeekPosts = WeekPosts - t.weekPostCount
				,DayPosts = DayPosts - t.dayPostCount
				,MonthPosts = MonthPosts - t.monthPostCount
			FROM @tempTable3 as t where bx_Users.UserID = t.userID
		
		UPDATE bx_Users SET
				DeletedReplies=DeletedReplies+t.postCount
			FROM @tempTable3 as t where bx_Users.UserID = t.userID AND t.userID IN(SELECT DISTINCT UserID FROM [deleted] WHERE SortOrder IN(SELECT SortOrder FROM @FirstPostSortOrder))
	END 
	ELSE BEGIN
		--这表示是删除回复时触发的--
		DECLARE @tempTable4 TABLE(userID INT,postCount INT,weekPostCount INT,dayPostCount INT, monthPostCount INT)
		insert into @tempTable4(userID,postCount,weekPostCount,dayPostCount,monthPostCount)
		select distinct UserID
						,(SELECT COUNT(*) FROM [deleted] POST /* INNER JOIN [bx_Threads] THREAD ON POST.ThreadID=THREAD.ThreadID */ WHERE  POST.SortOrder&lt;4000000000000000 AND POST.UserID=p.UserID)
						,(SELECT COUNT(*) FROM [deleted] POST WHERE  POST.SortOrder&lt;4000000000000000 AND POST.UserID=p.UserID AND CreateDate&gt;=@Monday)
						,(SELECT COUNT(*) FROM [deleted] POST WHERE  POST.SortOrder&lt;4000000000000000 AND POST.UserID=p.UserID AND CreateDate&gt;=@Today)
						,(SELECT COUNT(*) FROM [deleted] POST WHERE  POST.SortOrder&lt;4000000000000000 AND POST.UserID=p.UserID AND DATEPART(year, GETDATE()) = DATEPART(year,CreateDate) AND DATEPART(month, GETDATE()) = DATEPART(month,CreateDate))
				FROM [deleted] p /* inner join [bx_Threads] t on p.ThreadID=t.ThreadID */

		UPDATE bx_Users SET
				TotalPosts=TotalPosts-t.postCount
				,DeletedReplies=DeletedReplies+t.postCount
				,WeekPosts = WeekPosts - t.weekPostCount
				,DayPosts = DayPosts - t.dayPostCount
				,MonthPosts = MonthPosts - t.monthPostCount
			FROM @tempTable4 as t where bx_Users.UserID = t.userID
	END
	
	DELETE bx_Denouncings WHERE Type=7 AND TargetID IN (SELECT PostID FROM [DELETED]);
	
END



</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_Posts_AfterUpdate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Posts_AfterUpdate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>

CREATE TRIGGER [bx_Posts_AfterUpdate] 
   ON  [bx_Posts] 
   AFTER UPDATE
AS 
BEGIN

	SET NOCOUNT ON;
	IF UPDATE(ForumID) BEGIN
			--如果是合并版面导致的移动主题，就忽略下面的数据统计，直接结束
		DECLARE @ForumIDs nvarchar(64)
		EXEC bx_GetDisabledTriggerForumIDs
				@ForumIDs output
		IF(@ForumIDs&lt;&gt;'') BEGIN
			DECLARE @ForumID int,@ForumIDString nvarchar(64)
			SELECT top 1 @ForumID=ForumID FROM [deleted]
			SET @ForumIDString=Replace(','+STR(@ForumID)+',', ' ', '')
			SET @ForumIDs=','+@ForumIDs+','
			IF(CHARINDEX(@ForumIDString,@ForumIDs)&gt;0) BEGIN
				RETURN;
			END
		END
		--DECLARE @tempForumID1 int,@tempForumID2 int
		--SELECT @tempForumID1 = TOP 1 ForumID FROM [deleted]
		--SELECT @tempForumID2 = TOP 1 ForumID FROM [inserted]
		--IF @tempForumID1 &lt;&gt; -2 AND @tempForumID2&lt;&gt;-2 --说明不是审核相关 退出
			--RETURN
			
		--更新之前的版快
		DECLARE @tempTable TABLE(ForumID INT,PostCount1 INT,PostCount2 INT,TodayPosts1 INT,TodayPosts2 INT)--,LastThreadID INT)--,PostCount2 INT)
		insert into @tempTable(ForumID,PostCount1,PostCount2,TodayPosts1,TodayPosts2)--,LastThreadID)--,PostCount2)
		select distinct ForumID,
			(SELECT COUNT(1) FROM [deleted] D1 WHERE D1.ForumID=D.ForumID AND D1.SortOrder&lt;4000000000000000)
			,(SELECT COUNT(1) FROM [inserted] D1 WHERE D1.ForumID=D.ForumID AND D1.SortOrder&lt;4000000000000000)
			,(SELECT COUNT(1) FROM [deleted] D1 WHERE  D1.ForumID=D.ForumID AND D1.SortOrder&lt;4000000000000000 AND DATEDIFF(day, D1.CreateDate, getdate())=0)
			,(SELECT COUNT(1) FROM [inserted] D1 WHERE D1.ForumID=D.ForumID AND D1.SortOrder&lt;4000000000000000 AND DATEDIFF(day, D1.CreateDate, getdate())=0)
			--,(SELECT ThreadID FROM [bx_Threads] T WHERE T.SortOrder=(SELECT MAX(SortOrder) FROM [bx_Threads] T2 WITH(NOLOCK) WHERE T2.ForumID=D.ForumID AND SortOrder&lt;2000000000000000))
			FROM [deleted] D --Inner join [bx_Threads] T  on D.ThreadID=T.ThreadID 

		UPDATE bx_Forums SET 
					TotalPosts=TotalPosts+(t.PostCount2-t.PostCount1)
					,TodayPosts=TodayPosts+(t.TodayPosts2-t.TodayPosts1)
					--,LastThreadID=ISNULL(t.LastThreadID,0)
					from @tempTable as t WHERE bx_Forums.ForumID=t.ForumID

		


		---
		DECLARE @tempTable0 TABLE(ForumID INT,PostCount1 INT,PostCount2 INT,TodayPosts1 INT,TodayPosts2 INT)--,LastThreadID INT)--,PostCount2 INT)
		insert into @tempTable0(ForumID,PostCount1,PostCount2,TodayPosts1,TodayPosts2)--,LastThreadID)--,PostCount2)
		select distinct ForumID,
			(SELECT COUNT(1) FROM [deleted] D1 WHERE D1.ForumID=D.ForumID AND D1.SortOrder&lt;4000000000000000)
			,(SELECT COUNT(1) FROM [inserted] D1 WHERE D1.ForumID=D.ForumID AND D1.SortOrder&lt;4000000000000000)
			,(SELECT COUNT(1) FROM [deleted] D1 WHERE  D1.ForumID=D.ForumID AND D1.SortOrder&lt;4000000000000000 AND DATEDIFF(day, D1.CreateDate, getdate())=0)
			,(SELECT COUNT(1) FROM [inserted] D1 WHERE  D1.ForumID=D.ForumID AND D1.SortOrder&lt;4000000000000000 AND  DATEDIFF(day, D1.CreateDate, getdate())=0)
			--,(SELECT ThreadID FROM [bx_Threads] T WHERE T.SortOrder=(SELECT MAX(SortOrder) FROM [bx_Threads] T2  WITH(NOLOCK) WHERE T2.ForumID=D.ForumID AND SortOrder&lt;2000000000000000))
			FROM [inserted] D 
			
		UPDATE bx_Forums SET 
					TotalPosts=TotalPosts+(t.PostCount2-t.PostCount1)
					,TodayPosts=TodayPosts+(t.TodayPosts2-t.TodayPosts1)
					--,LastThreadID=ISNULL(t.LastThreadID,0)
					from @tempTable0 as t WHERE bx_Forums.ForumID=t.ForumID	
			
		
		
		SELECT 'RecodeTodayPosts' AS XCMD,'updateForumID' as AC,T.ForumID as ForumID,(T.TodayPosts1-T.TodayPosts2) as ReducePosts,F.TodayPosts,F.CodeName FROM @tempTable AS T inner join bx_Forums as F on T.ForumID = F.ForumID WHERE T.TodayPosts1&gt;T.TodayPosts2
		UNION ALL 
		SELECT 'RecodeTodayPosts' AS XCMD,'updateForumID' as AC,T.ForumID as ForumID,(T.TodayPosts1-T.TodayPosts2) as ReducePosts,F.TodayPosts,F.CodeName FROM @tempTable0 AS T inner join bx_Forums as F on T.ForumID = F.ForumID WHERE T.TodayPosts1&gt;T.TodayPosts2
		;

	END
	
	IF UPDATE(SortOrder) BEGIN
	
	
		DECLARE @tempTable4 TABLE(ForumID INT,PostCount1 INT,PostCount2 INT,TodayPosts1 INT,TodayPosts2 INT)--,LastThreadID INT)--,PostCount2 INT)
		insert into @tempTable4(ForumID,PostCount1,PostCount2,TodayPosts1,TodayPosts2)--,LastThreadID)--,PostCount2)
		select distinct ForumID,
			(SELECT COUNT(1) FROM [deleted] D1 WHERE D1.ForumID=D.ForumID AND D1.SortOrder&lt;4000000000000000)
			,(SELECT COUNT(1) FROM [inserted] D1 WHERE D1.ForumID=D.ForumID AND D1.SortOrder&lt;4000000000000000)
			,(SELECT COUNT(1) FROM [deleted] D1 WHERE  D1.ForumID=D.ForumID AND D1.SortOrder&lt;4000000000000000 AND DATEDIFF(day, D1.CreateDate, getdate())=0)
			,(SELECT COUNT(1) FROM [inserted] D1 WHERE  D1.ForumID=D.ForumID AND D1.SortOrder&lt;4000000000000000 AND  DATEDIFF(day, D1.CreateDate, getdate())=0)
			--,(SELECT ThreadID FROM [bx_Threads] T WHERE T.SortOrder=(SELECT MAX(SortOrder) FROM [bx_Threads] T2  WITH(NOLOCK) WHERE T2.ForumID=D.ForumID AND SortOrder&lt;2000000000000000))-- 更新最后回复的主题（此处用[bx_Threads]不准确（忽略），只是用于当主题被回收被还原等操作时更新）
			FROM [inserted] D 
			
		UPDATE bx_Forums SET 
					TotalPosts=TotalPosts+(t.PostCount2-t.PostCount1)
					,TodayPosts=TodayPosts+(t.TodayPosts2-t.TodayPosts1)
					--,LastThreadID=ISNULL(t.LastThreadID,0)
					from @tempTable4 as t WHERE bx_Forums.ForumID=t.ForumID	
	
	
		SELECT 'RecodeTodayPosts' AS XCMD,'updateSortOrder' as AC,T.ForumID as ForumID,(T.TodayPosts1-T.TodayPosts2) as ReducePosts,F.TodayPosts,F.CodeName FROM @tempTable4 AS T inner join bx_Forums as F on T.ForumID = F.ForumID WHERE T.TodayPosts1&gt;T.TodayPosts2


	
		DECLARE @FirstPostSortOrder TABLE(SortOrder BIGINT)
		INSERT INTO @FirstPostSortOrder(SortOrder)
		SELECT MIN(P.SortOrder) FROM [inserted] I INNER JOIN [bx_Posts] P ON I.ThreadID=P.ThreadID  GROUP BY I.ThreadID 
		
	
	
		DECLARE @tempTable2 TABLE(ThreadID INT,PostCount INT,LastPostUserID INT,LastPostUserNickName nvarchar(64))
		insert into @tempTable2(ThreadID,PostCount,LastPostUserID,LastPostUserNickName)
		select distinct D.ThreadID,
					(SELECT COUNT(1) FROM [bx_Posts] t1 where /*t1.ForumID = D.ForumID AND*/ t1.ThreadID=D.ThreadID AND t1.SortOrder&lt;5000000000000000) --(此处用5000000000000000是因为回收站的里的主题也统计回复数，而回收站里的主题的回复的SortOrder是大于4000000000000000，而正常的主题回复的SortOrder是不可能有大于4000000000000000小于5000000000000000的）
					--(SELECT COUNT(1) FROM [bx_Posts] p1 inner join [bx_Threads] t1 on p1.ThreadID=t1.ThreadID where t1.ThreadID=T.ThreadID AND p1.IsApproved=1) 
--					(SELECT COUNT(1) FROM [deleted] D1  Inner join [bx_Threads] T1  on D1.ThreadID=T1.ThreadID WHERE T1.ThreadID=T.ThreadID AND ThreadLocation=0 AND IsApproved=1)
--					,(SELECT COUNT(1) FROM [inserted] D1  Inner join [bx_Threads] T1  on D1.ThreadID=T1.ThreadID WHERE T1.ThreadID=T.ThreadID AND ThreadLocation=0 AND IsApproved=1)
					,(SELECT top 1 UserID FROM [bx_Posts]  where /*ForumID = D.ForumID AND*/ ThreadID=D.ThreadID AND SortOrder&lt;5000000000000000 Order by SortOrder desc)
					,(SELECT top 1 NickName FROM [bx_Posts]  where /*ForumID = D.ForumID AND*/ ThreadID=D.ThreadID AND SortOrder&lt;5000000000000000 Order by SortOrder desc)
					FROM [inserted] D WHERE D.ThreadID NOT IN(SELECT ThreadID FROM [inserted] WHERE SortOrder IN(SELECT SortOrder FROM @FirstPostSortOrder)) --Inner join [bx_Threads] T  on D.ThreadID=T.ThreadID --AND D.IsApproved=1
											--WHERE后面 表示如果是主题被回收，还原，等操作则不修改主题的相关信息--
		UPDATE bx_Threads SET 
						TotalReplies=t.PostCount-1,
						LastPostUserID=ISNULL(t.LastPostUserID,0),
						LastPostNickName=ISNULL(t.LastPostUserNickName,'') 
						from @tempTable2 as t WHERE bx_Threads.ThreadID=t.ThreadID 


		--IF EXISTS(SELECT * FROM [deleted] WHERE SortOrder IN(SELECT SortOrder FROM @FirstPostSortOrder)) BEGIN
			--这表示是回收主题时触发的，这时候只要重新统计主题用户的DeletedPosts，其他用户不重新统计--
			
			DECLARE @Today DateTime,@Monday DateTime;
			SET @Today = CONVERT(varchar(12) , getdate(), 102);
			
			DECLARE @m int;
			SELECT @m = DATEPART(weekday, @Today);
			IF @m = 1
				SELECT @m = 8;
			SELECT @Monday = DATEADD(day, 2-@m, @Today);
			
			-- 回收主题，还原主题，审核主题 审核回复 --
			DECLARE @tempTable3 TABLE(userID INT,postCount INT,postCount2 INT,weekPostCount INT,weekPostCount2 INT,dayPostCount INT,dayPostCount2 INT,monthPostCount INT,monthPostCount2 INT,TempLastPostDate DateTime)
			insert into @tempTable3(userID,postCount,postCount2,weekPostCount,weekPostCount2,dayPostCount,dayPostCount2,monthPostCount,monthPostCount2,TempLastPostDate)
			select distinct UserID
								,(SELECT COUNT(*) FROM [deleted] POST /*INNER JOIN [bx_Threads] THREAD ON POST.ThreadID=THREAD.ThreadID */WHERE POST.UserID=p.UserID AND POST.SortOrder&lt;4000000000000000) 
								,(SELECT COUNT(*) FROM [inserted] POST /*INNER JOIN [bx_Threads] THREAD ON POST.ThreadID=THREAD.ThreadID */WHERE POST.UserID=p.UserID AND POST.SortOrder&lt;4000000000000000) 
								
								,(SELECT COUNT(*) FROM [deleted] POST WHERE POST.UserID=p.UserID AND POST.SortOrder&lt;4000000000000000 AND CreateDate&gt;=@Monday) 
								,(SELECT COUNT(*) FROM [inserted] POST WHERE POST.UserID=p.UserID AND POST.SortOrder&lt;4000000000000000 AND CreateDate&gt;=@Monday) 
								
								,(SELECT COUNT(*) FROM [deleted] POST WHERE POST.UserID=p.UserID AND POST.SortOrder&lt;4000000000000000 AND CreateDate&gt;=@Today) 
								,(SELECT COUNT(*) FROM [inserted] POST WHERE POST.UserID=p.UserID AND POST.SortOrder&lt;4000000000000000 AND CreateDate&gt;=@Today) 
								
								,(SELECT COUNT(*) FROM [deleted] POST WHERE POST.UserID=p.UserID AND POST.SortOrder&lt;4000000000000000 AND DATEPART(year, GETDATE()) = DATEPART(year,CreateDate) AND DATEPART(month, GETDATE()) = DATEPART(month,CreateDate)) 
								,(SELECT COUNT(*) FROM [inserted] POST WHERE POST.UserID=p.UserID AND POST.SortOrder&lt;4000000000000000 AND DATEPART(year, GETDATE()) = DATEPART(year,CreateDate) AND DATEPART(month, GETDATE()) = DATEPART(month,CreateDate)) 

								,(SELECT MAX(CreateDate) FROM [inserted] POST WHERE POST.UserID=p.UserID AND POST.SortOrder&lt;4000000000000000) 
					FROM [deleted] p  

			UPDATE bx_Users SET
					 TotalPosts=TotalPosts+(t.postCount2-t.postCount)
					,WeekPosts=WeekPosts+(t.weekPostCount2-t.weekPostCount)
					,DayPosts=DayPosts+(t.dayPostCount2-t.dayPostCount)
					,MonthPosts = MonthPosts +(t.monthPostCount2 - t.monthPostCount)
					FROM @tempTable3 as t where bx_Users.UserID=t.userID
			
			UPDATE bx_Users SET
					 LastPostDate = TempLastPostDate
					 FROM @tempTable3 as t WHERE bx_Users.UserID=t.userID AND TempLastPostDate IS NOT NULL AND bx_Users.LastPostDate&lt;TempLastPostDate; 

			UPDATE bx_Users SET
					DeletedReplies=DeletedReplies+t.postCount
					FROM @tempTable3 as t where bx_Users.UserID=t.userID  AND t.userID IN(SELECT DISTINCT UserID FROM [deleted] WHERE SortOrder IN(SELECT SortOrder FROM @FirstPostSortOrder))
		--END 
		--ELSE BEGIN
			----这表示是回收回复时触发的--
			--DECLARE @tempTable5 TABLE(userID INT,postCount INT,postCount2 INT) 
			--insert into @tempTable5(userID,postCount,postCount2)
			--select distinct UserID
								--,(SELECT COUNT(1) FROM [deleted] POST /*INNER JOIN [bx_Threads] THREAD ON POST.ThreadID=THREAD.ThreadID */WHERE Post.UserID=p.UserID AND POST.SortOrder&lt;4000000000000000) 
								--,(SELECT COUNT(1) FROM [inserted] POST /*INNER JOIN [bx_Threads] THREAD ON POST.ThreadID=THREAD.ThreadID */WHERE Post.UserID=p.UserID AND POST.SortOrder&lt;4000000000000000) 
					--FROM [deleted] p  

			--UPDATE bx_Users SET
					--TotalPosts=TotalPosts+(t.PostCount2-t.PostCount),
					--DeletedPosts=DeletedPosts+t.PostCount
					--FROM @tempTable5 as t where bx_Users.UserID=t.userID
		--END
	END
END
</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UserExtendedValues</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_UserExtendedValues">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExtendedFieldID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ExtendedFieldID" UserTypeId="167" MaxLength="36" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Value</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Value" UserTypeId="231" MaxLength="7900" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PrivacyType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PrivacyType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_UserExtendedValues</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_UserExtendedValues" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">ExtendedFieldID</anyType>
                        <anyType xsi:type="xsd:string">PrivacyType</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ExtendedFieldID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ExtendedFieldID" UserTypeId="167" MaxLength="36" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>PrivacyType</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="PrivacyType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_UserExtendedValues</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_UserExtendedValues" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ExtendedFieldID</anyType>
                        <anyType xsi:type="xsd:string">PrivacyType</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ExtendedFieldID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ExtendedFieldID" UserTypeId="167" MaxLength="36" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>PrivacyType</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="PrivacyType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_UserExtendedValues">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_UserExtendedValues</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_UserExtendedValues_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_UserExtendedValues_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_PrivacyType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PrivacyType">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>PrivacyType</ColumnName>
                      <Column Name="PrivacyType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_UserExtendedValues_AfterDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_UserExtendedValues_AfterDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>


CREATE TRIGGER [bx_UserExtendedValues_AfterDelete]
	ON [bx_UserExtendedValues]
	AFTER DELETE
AS
BEGIN

	SET NOCOUNT ON;

	IF (OBJECT_ID('tempdb..#bx_tmp_usrext') IS NULL) BEGIN
		CREATE TABLE #bx_tmp_usrext ( UserID int, Data ntext DEFAULT('') );
	END
	ELSE BEGIN
		TRUNCATE TABLE #bx_tmp_usrext;
	END

	INSERT INTO #bx_tmp_usrext (UserID) SELECT DISTINCT UserID FROM [DELETED];

	DECLARE @UserID int;
	DECLARE @i int;
	DECLARE @ptr binary(16);

	--以下是处理用户扩展字段的冗余内容

	DECLARE @TotalRoles int;

	DECLARE @userRoles table( ID int IDENTITY(1,1), UserID int, RoleID uniqueidentifier, BeginDate datetime, EndDate datetime );
	INSERT INTO @userRoles SELECT UserID, RoleID, BeginDate, EndDate FROM bx_UserRoles WITH (NOLOCK) WHERE UserID IN (SELECT UserID FROM [DELETED]);

	SET @TotalRoles = @@ROWCOUNT;

	DECLARE
		@RoleIDString varchar(50),
		@BeginDateString varchar(30),
		@EndDateString varchar(30),
		@UserRoleString varchar(100);
	SET @i = 1;
	WHILE (@i &lt;= @TotalRoles) BEGIN
		SELECT @UserID = UserID, @RoleIDString = CONVERT(varchar(50), RoleID), @BeginDateString = CONVERT(varchar(30), BeginDate, 25), @EndDateString = CONVERT(varchar(30), EndDate, 25) FROM @userRoles WHERE ID = @i;
		
		SET @UserRoleString = 'R' + CAST(LEN(@RoleIDString) AS varchar(10))
								+ ',' + CAST(LEN(@BeginDateString) AS varchar(10))
								+ ',' + CAST(LEN(@EndDateString) AS varchar(10))
								+ ':' + @RoleIDString
								+ @BeginDateString
								+ @EndDateString;
		
		SELECT @ptr = textptr(Data) FROM #bx_tmp_usrext WHERE UserID = @UserID;
		UPDATETEXT #bx_tmp_usrext.Data @ptr NULL NULL @UserRoleString;

		SET @i = @i + 1;
	END

	--以下是处理用户扩展字段的冗余内容

	DECLARE @TotalValues int;

	DECLARE @userValues table( ID int IDENTITY(1,1), UserID int, FieldID varchar(36), Value nvarchar(3950),PrivacyType tinyint);
	INSERT INTO @userValues SELECT UserID, ExtendedFieldID AS FieldID, RTRIM(LTRIM(Value)),PrivacyType FROM bx_UserExtendedValues WITH (NOLOCK) WHERE UserID IN (SELECT UserID FROM [DELETED]);

	SET @TotalValues = @@ROWCOUNT;

	DECLARE
		@FieldIDString varchar(36),
		@ValueString nvarchar(3950),
		@PrivacyType varchar(10),
		@UserValueString varchar(4000);
	SET @i = 1;
	WHILE (@i &lt;= @TotalValues) BEGIN
		SELECT @UserID = UserID, @FieldIDString = FieldID, @ValueString = Value ,@PrivacyType = PrivacyType  FROM @userValues WHERE ID = @i;
		
		SET @UserValueString = 'F' + CAST(LEN(@FieldIDString) AS varchar(10))
								+ ',' + CAST(LEN(@ValueString) AS varchar(10))
								+ ',' + CAST(LEN(@PrivacyType) AS varchar(10))
								+ ':' + @FieldIDString
								+ @ValueString
								+ @PrivacyType;

		SELECT @ptr = textptr(Data) FROM #bx_tmp_usrext WHERE UserID = @UserID;
		UPDATETEXT #bx_tmp_usrext.Data @ptr NULL NULL @UserValueString;

		SET @i = @i + 1;
	END

	--以下是处理用户勋章

	DECLARE @TotalMedals int;

	DECLARE @userMedals table( ID int IDENTITY(1,1), UserID int, MedalID int, MedalLevelID int, EndDate datetime, CreateDate datetime, Url nvarchar(200));
	INSERT INTO @userMedals SELECT UserID, MedalID, MedalLevelID, EndDate, CreateDate, ISNULL(Url,'') FROM bx_UserMedals WITH (NOLOCK) WHERE UserID IN (SELECT UserID FROM [DELETED]);

	SET @TotalMedals = @@ROWCOUNT;

	DECLARE
		@MedalIDString varchar(50),
		@MedalLevelIDString varchar(50),
		@CreateDateString varchar(30),
		@Url nvarchar(200),
		@UserMedalString nvarchar(500);
	SET @i = 1;
	WHILE (@i &lt;= @TotalMedals) BEGIN
		SELECT @UserID = UserID, @MedalIDString = CONVERT(varchar(50), MedalID), @MedalLevelIDString = CONVERT(varchar(50), MedalLevelID), @EndDateString = CONVERT(varchar(30), EndDate, 25), @CreateDateString = CONVERT(varchar(30), CreateDate, 25),@Url = Url FROM @userMedals WHERE ID = @i;
		
		SET @UserMedalString = 'M' + CAST(LEN(@MedalIDString) AS varchar(10))
								+ ',' + CAST(LEN(@MedalLevelIDString) AS varchar(10))
								+ ',' + CAST(LEN(@EndDateString) AS varchar(10))
								+ ',' + CAST(LEN(@CreateDateString) AS varchar(10))
								+','  + CAST(LEN(@Url) AS varchar(10))
								+ ':' + @MedalIDString
								+ @MedalLevelIDString
								+ @EndDateString
								+ @CreateDateString
								+ @Url;
		
		SELECT @ptr = textptr(Data) FROM #bx_tmp_usrext WHERE UserID = @UserID;
		UPDATETEXT #bx_tmp_usrext.Data @ptr NULL NULL @UserMedalString;

		SET @i = @i + 1;
	END




	UPDATE bx_Users
	   SET ExtendedData = T.Data
	   FROM #bx_tmp_usrext T
	   WHERE T.UserID = bx_Users.UserID;

END</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_UserExtendedValues_AfterUpdate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_UserExtendedValues_AfterUpdate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>


CREATE TRIGGER [bx_UserExtendedValues_AfterUpdate]
	ON [bx_UserExtendedValues]
	AFTER INSERT, UPDATE
AS
BEGIN

	SET NOCOUNT ON;

	IF (OBJECT_ID('tempdb..#bx_tmp_usrext') IS NULL) BEGIN
		CREATE TABLE #bx_tmp_usrext ( UserID int, Data ntext DEFAULT('') );
	END
	ELSE BEGIN
		TRUNCATE TABLE #bx_tmp_usrext;
	END

	INSERT INTO #bx_tmp_usrext (UserID) SELECT DISTINCT UserID FROM [INSERTED];

	DECLARE @UserID int;
	DECLARE @i int;
	DECLARE @ptr binary(16);

	--以下是处理用户扩展字段的冗余内容

	DECLARE @TotalRoles int;

	DECLARE @userRoles table( ID int IDENTITY(1,1), UserID int, RoleID uniqueidentifier, BeginDate datetime, EndDate datetime );
	INSERT INTO @userRoles SELECT UserID, RoleID, BeginDate, EndDate FROM bx_UserRoles WITH (NOLOCK) WHERE UserID IN (SELECT UserID FROM [INSERTED]);

	SET @TotalRoles = @@ROWCOUNT;

	DECLARE
		@RoleIDString varchar(50),
		@BeginDateString varchar(30),
		@EndDateString varchar(30),
		@UserRoleString varchar(100);
	SET @i = 1;
	WHILE (@i &lt;= @TotalRoles) BEGIN
		SELECT @UserID = UserID, @RoleIDString = CONVERT(varchar(50), RoleID), @BeginDateString = CONVERT(varchar(30), BeginDate, 25), @EndDateString = CONVERT(varchar(30), EndDate, 25) FROM @userRoles WHERE ID = @i;
		
		SET @UserRoleString = 'R' + CAST(LEN(@RoleIDString) AS varchar(10))
								+ ',' + CAST(LEN(@BeginDateString) AS varchar(10))
								+ ',' + CAST(LEN(@EndDateString) AS varchar(10))
								+ ':' + @RoleIDString
								+ @BeginDateString
								+ @EndDateString;
		
		SELECT @ptr = textptr(Data) FROM #bx_tmp_usrext WHERE UserID = @UserID;
		UPDATETEXT #bx_tmp_usrext.Data @ptr NULL NULL @UserRoleString;

		SET @i = @i + 1;
	END

	--以下是处理用户扩展字段的冗余内容

	DECLARE @TotalValues int;

	DECLARE @userValues table( ID int IDENTITY(1,1), UserID int, FieldID varchar(36), Value nvarchar(3950),PrivacyType tinyint);
	INSERT INTO @userValues SELECT UserID, ExtendedFieldID AS FieldID, RTRIM(LTRIM(Value)),PrivacyType FROM bx_UserExtendedValues WITH (NOLOCK) WHERE UserID IN (SELECT UserID FROM [INSERTED]);

	SET @TotalValues = @@ROWCOUNT;

	DECLARE
		@FieldIDString varchar(36),
		@ValueString nvarchar(3950),
		@PrivacyType varchar(10),
		@UserValueString varchar(4000);
	SET @i = 1;
	WHILE (@i &lt;= @TotalValues) BEGIN
		SELECT @UserID = UserID, @FieldIDString = FieldID, @ValueString = Value ,@PrivacyType = PrivacyType  FROM @userValues WHERE ID = @i;
		
		SET @UserValueString = 'F' + CAST(LEN(@FieldIDString) AS varchar(10))
								+ ',' + CAST(LEN(@ValueString) AS varchar(10))
								+ ',' + CAST(LEN(@PrivacyType) AS varchar(10))
								+ ':' + @FieldIDString
								+ @ValueString
								+ @PrivacyType;

		SELECT @ptr = textptr(Data) FROM #bx_tmp_usrext WHERE UserID = @UserID;
		UPDATETEXT #bx_tmp_usrext.Data @ptr NULL NULL @UserValueString;

		SET @i = @i + 1;
	END

	--以下是处理用户勋章

	DECLARE @TotalMedals int;

	DECLARE @userMedals table( ID int IDENTITY(1,1), UserID int, MedalID int, MedalLevelID int, EndDate datetime, CreateDate datetime, Url nvarchar(200));
	INSERT INTO @userMedals SELECT UserID, MedalID, MedalLevelID, EndDate, CreateDate, ISNULL(Url,'') FROM bx_UserMedals WITH (NOLOCK) WHERE UserID IN (SELECT UserID FROM [INSERTED]);

	SET @TotalMedals = @@ROWCOUNT;

	DECLARE
		@MedalIDString varchar(50),
		@MedalLevelIDString varchar(50),
		@CreateDateString varchar(30),
		@Url nvarchar(200),
		@UserMedalString nvarchar(500);
	SET @i = 1;
	WHILE (@i &lt;= @TotalMedals) BEGIN
		SELECT @UserID = UserID, @MedalIDString = CONVERT(varchar(50), MedalID), @MedalLevelIDString = CONVERT(varchar(50), MedalLevelID), @EndDateString = CONVERT(varchar(30), EndDate, 25), @CreateDateString = CONVERT(varchar(30), CreateDate, 25),@Url = Url FROM @userMedals WHERE ID = @i;
		
		SET @UserMedalString = 'M' + CAST(LEN(@MedalIDString) AS varchar(10))
								+ ',' + CAST(LEN(@MedalLevelIDString) AS varchar(10))
								+ ',' + CAST(LEN(@EndDateString) AS varchar(10))
								+ ',' + CAST(LEN(@CreateDateString) AS varchar(10))
								+','  + CAST(LEN(@Url) AS varchar(10))
								+ ':' + @MedalIDString
								+ @MedalLevelIDString
								+ @EndDateString
								+ @CreateDateString
								+ @Url;
		
		SELECT @ptr = textptr(Data) FROM #bx_tmp_usrext WHERE UserID = @UserID;
		UPDATETEXT #bx_tmp_usrext.Data @ptr NULL NULL @UserMedalString;

		SET @i = @i + 1;
	END




	UPDATE bx_Users
	   SET ExtendedData = T.Data
	   FROM #bx_tmp_usrext T
	   WHERE T.UserID = bx_Users.UserID;

END</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ValidateCodeActionRecords</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ValidateCodeActionRecords">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Action</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Action" UserTypeId="167" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ValidateCodeActionRecords</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ValidateCodeActionRecords" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_ValidateCodeActionRecords</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_ValidateCodeActionRecords" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">IP</anyType>
                        <anyType xsi:type="xsd:string">Action</anyType>
                        <anyType xsi:type="xsd:string">CreateDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>IP</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="IP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                                <DefaultDefinition>('')</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>Action</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Action" UserTypeId="167" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                                <DefaultDefinition>('')</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>CreateDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ValidateCodeActionRecords">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ValidateCodeActionRecords</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_ValidateCodeActionRecords_IP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ValidateCodeActionRecords_IP">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IP</ColumnName>
                      <Column Name="IP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ValidateCodeActionRecords_Action</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ValidateCodeActionRecords_Action">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Action</ColumnName>
                      <Column Name="Action" UserTypeId="167" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ValidateCodeActionRecords_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ValidateCodeActionRecords_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_BanUserLogs</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_BanUserLogs">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_BanUserViewLogs</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>LogID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>OperationType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="OperationType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>OperationTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="OperationTime" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>OperatorName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="OperatorName" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                      <DefaultDefinition>(N'')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Cause</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Cause" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                      <DefaultDefinition>(N'')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Username</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Username" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                      <DefaultDefinition>(N'')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AllBanEndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AllBanEndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_BanUserLogs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_BanUserLogs" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">LogID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>LogID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="LogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_BanUserLogs_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_BanUserLogs_UserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_BanUserLogs">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_BanUserLogs</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_BanUserLogForumInfos</TableName>
                <ForeignKeyName>FK_bx_BanUserLogForumInfos_LogID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_BanUserLogs_OperationType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BanUserLogs_OperationType">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>OperationType</ColumnName>
                      <Column Name="OperationType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BanUserLogs_OperationTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BanUserLogs_OperationTime">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>OperationTime</ColumnName>
                      <Column Name="OperationTime" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BanUserLogs_OperationName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BanUserLogs_OperationName">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>OperatorName</ColumnName>
                      <Column Name="OperatorName" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CS_AS</Collation>
                        <DefaultDefinition>(N'')</DefaultDefinition>
                      </Column>
                      <Definition>(N'')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BanUserLogs_Cause</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BanUserLogs_Cause">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Cause</ColumnName>
                      <Column Name="Cause" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CS_AS</Collation>
                        <DefaultDefinition>(N'')</DefaultDefinition>
                      </Column>
                      <Definition>(N'')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BanUserLogs_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BanUserLogs_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BanUserLogs_Username</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BanUserLogs_Username">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Username</ColumnName>
                      <Column Name="Username" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CS_AS</Collation>
                        <DefaultDefinition>(N'')</DefaultDefinition>
                      </Column>
                      <Definition>(N'')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BanUserLogs_UserIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BanUserLogs_UserIP">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserIP</ColumnName>
                      <Column Name="UserIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CS_AS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DiskFiles</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_DiskFiles">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_UsedFileIds</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>DiskFileID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DiskFileID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FileID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FileID" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FileName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FileName" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>(N'')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Extension</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Extension" UserTypeId="231" MaxLength="20" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>(N'')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThumbPath</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThumbPath" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>(N'')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FileSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FileSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DirectoryID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DirectoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalDownloads</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalDownloads" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExtensionInfo</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ExtensionInfo" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_DiskFiles</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_DiskFiles" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">DiskFileID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>DiskFileID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="DiskFileID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_DiskFiles_FileName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_DiskFiles_FileName" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">FileName</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>FileName</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="FileName" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                                <DefaultDefinition>(N'')</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_DiskFiles_DirectoryID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_DiskFiles_DirectoryID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">DirectoryID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>DirectoryID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="DirectoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_DiskFiles_FileID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_DiskFiles_FileID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">FileID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>FileID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="FileID" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                                <DefaultDefinition>('')</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_DiskFiles_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_DiskFiles_UserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_DiskFiles">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_DiskFiles</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_DiskFiles_DirectoryID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_DiskFiles_DirectoryID" PrimaryTableName="bx_DiskDirectories" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">DirectoryID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">DirectoryID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_DiskFiles_FileID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_DiskFiles_FileID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FileID</ColumnName>
                      <Column Name="FileID" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_DiskFiles_Filename</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_DiskFiles_Filename">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FileName</ColumnName>
                      <Column Name="FileName" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>(N'')</DefaultDefinition>
                      </Column>
                      <Definition>(N'')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_DiskFiles_Extension</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_DiskFiles_Extension">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Extension</ColumnName>
                      <Column Name="Extension" UserTypeId="231" MaxLength="20" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>(N'')</DefaultDefinition>
                      </Column>
                      <Definition>(N'')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_DiskFiles_ThumbPath</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_DiskFiles_ThumbPath">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ThumbPath</ColumnName>
                      <Column Name="ThumbPath" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>(N'')</DefaultDefinition>
                      </Column>
                      <Definition>(N'')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_DiskFiles_FileSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_DiskFiles_FileSize">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FileSize</ColumnName>
                      <Column Name="FileSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_DiskFiles_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_DiskFiles_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_DiskFiles_DirectoryID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_DiskFiles_DirectoryID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>DirectoryID</ColumnName>
                      <Column Name="DirectoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_DiskFiles_TotalDownloads</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_DiskFiles_TotalDownloads">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalDownloads</ColumnName>
                      <Column Name="TotalDownloads" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_DiskFiles_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_DiskFiles_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_DiskFiles_UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_DiskFiles_UpdateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UpdateDate</ColumnName>
                      <Column Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_DiskFiles_AfterDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_DiskFiles_AfterDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>
CREATE TRIGGER bx_DiskFiles_AfterDelete  ON [bx_DiskFiles] 
AFTER DELETE
AS
BEGIN

	SET NOCOUNT ON;

	DELETE bx_Files
		WHERE FileID IN (SELECT FileID FROM [DELETED])
			AND FileID NOT IN (SELECT FileID FROM [bx_UsedFileIds] WHERE FileID IN (SELECT FileID FROM [DELETED]))

-------------------

	DECLARE @tempTable table(DirectoryID int ,TotalSize bigint, TotalFiles int);

	INSERT INTO @tempTable 
		SELECT DISTINCT DirectoryID,
			(ISNULL((SELECT SUM(FileSize) FROM [bx_DiskFiles] f WITH (NOLOCK) WHERE f.DirectoryID = T.DirectoryID), 0))
			,(ISNULL((SELECT COUNT(*) FROM [bx_DiskFiles] f WITH (NOLOCK) WHERE f.DirectoryID = T.DirectoryID), 0))
		FROM [DELETED] T;

	UPDATE [bx_DiskDirectories] SET bx_DiskDirectories.TotalSize = t.TotalSize , TotalFiles = t.TotalFiles FROM @tempTable t WHERE [bx_DiskDirectories].DirectoryID = t.DirectoryID;

-------------------

	DECLARE @tempTable2 table(UserID int, TotalSize bigint, TotalDiskFiles int);

	INSERT INTO @tempTable2
		SELECT DISTINCT UserID,
			(ISNULL((SELECT SUM(TotalSize) FROM [bx_DiskDirectories] d WITH (NOLOCK) WHERE d.UserID = T.UserID), 0)),
			(ISNULL((SELECT SUM(TotalFiles) FROM [bx_DiskDirectories] d WITH (NOLOCK) WHERE d.UserID = T.UserID), 0))
		FROM [DELETED] T;

	UPDATE [bx_UserVars]
		SET
			bx_UserVars.UsedDiskSpaceSize = t.TotalSize,
			bx_UserVars.TotalDiskFiles = t.TotalDiskFiles
		FROM @tempTable2 t
		WHERE
			t.UserID = bx_UserVars.UserID;

-------------------

	SELECT 'ResetAuthUser' AS XCMD, UserID,  TotalSize AS UsedDiskSpaceSize, TotalDiskFiles FROM @tempTable2;

END</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_DiskFiles_AfterInsert</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_DiskFiles_AfterInsert">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>
CREATE TRIGGER bx_DiskFiles_AfterInsert  ON [bx_DiskFiles] 
FOR INSERT
AS
BEGIN
	SET NOCOUNT ON;

-------------------

	DECLARE @tempTable table(DirectoryID int ,TotalSize bigint, TotalFiles int);

	INSERT INTO @tempTable 
		SELECT DISTINCT DirectoryID,
			(ISNULL((SELECT SUM(FileSize) FROM [bx_DiskFiles] f WITH (NOLOCK) WHERE f.DirectoryID = T.DirectoryID), 0))
			,(ISNULL((SELECT COUNT(*) FROM [bx_DiskFiles] f WITH (NOLOCK) WHERE f.DirectoryID = T.DirectoryID), 0))
		FROM [INSERTED] T;

	UPDATE [bx_DiskDirectories] SET bx_DiskDirectories.TotalSize = t.TotalSize , TotalFiles = t.TotalFiles FROM @tempTable t WHERE [bx_DiskDirectories].DirectoryID = t.DirectoryID;

-------------------

	DECLARE @tempTable2 table(UserID int, TotalSize bigint, TotalDiskFiles int);

	INSERT INTO @tempTable2
		SELECT DISTINCT UserID,
			(ISNULL((SELECT SUM(TotalSize) FROM [bx_DiskDirectories] d WITH (NOLOCK) WHERE d.UserID = T.UserID), 0)),
			(ISNULL((SELECT SUM(TotalFiles) FROM [bx_DiskDirectories] d WITH (NOLOCK) WHERE d.UserID = T.UserID), 0))
		FROM [INSERTED] T;

	UPDATE [bx_UserVars]
		SET
			bx_UserVars.UsedDiskSpaceSize = t.TotalSize,
			bx_UserVars.TotalDiskFiles = t.TotalDiskFiles
		FROM @tempTable2 t
		WHERE
			t.UserID = bx_UserVars.UserID;

-------------------

	SELECT 'ResetAuthUser' AS XCMD, UserID,  TotalSize AS UsedDiskSpaceSize, TotalDiskFiles FROM @tempTable2;

END</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_DiskFiles_AfterUpdate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_DiskFiles_AfterUpdate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>
CREATE TRIGGER bx_DiskFiles_AfterUpdate ON [bx_DiskFiles] 
FOR  UPDATE
AS
BEGIN

	SET NOCOUNT ON;

	IF (UPDATE(DirectoryID)) BEGIN
	
		DECLARE @DirectoryIDTable table(DirectoryID int);
		
		INSERT @DirectoryIDTable SELECT DISTINCT DirectoryID FROM INSERTED;
		INSERT @DirectoryIDTable SELECT DISTINCT DirectoryID FROM DELETED;

		DECLARE @tempTable table(DirectoryID int, TotalSize bigint, TotalFiles int);
	
		INSERT INTO @tempTable 
			SELECT DISTINCT DirectoryID,
				(ISNULL((SELECT SUM(FileSize) FROM [bx_DiskFiles] f WITH (NOLOCK) WHERE f.DirectoryID = T.DirectoryID), 0))
				,(ISNULL((SELECT COUNT(*) FROM [bx_DiskFiles] f WITH (NOLOCK) WHERE f.DirectoryID = T.DirectoryID), 0))
			FROM @DirectoryIDTable T;
	
		UPDATE [bx_DiskDirectories] SET bx_DiskDirectories.TotalSize = t.TotalSize , TotalFiles = t.TotalFiles FROM @tempTable t WHERE [bx_DiskDirectories].DirectoryID = t.DirectoryID;
	END
END</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UserFeeds</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_UserFeeds">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FeedID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FeedID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Realname</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Realname" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_UserFeeds</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_UserFeeds" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">FeedID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>FeedID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="FeedID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_UserFeeds_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_UserFeeds_CreateDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CreateDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CreateDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_UserFeeds_ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_UserFeeds_ID" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_UserFeeds_FeedID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_UserFeeds_FeedID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">FeedID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>FeedID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="FeedID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_UserFeeds">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_UserFeeds</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_UserFeeds_FeedID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_UserFeeds_FeedID" PrimaryTableName="bx_Feeds" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">FeedID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_UserFeeds_Username</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserFeeds_Username">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Realname</ColumnName>
                      <Column Name="Realname" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserFeeds_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserFeeds_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_StickThreads</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_StickThreads">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ForumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_StickThreads</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_StickThreads" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_StickThreads_ForumThread</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_StickThreads_ForumThread" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ForumID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_StickThreads_ForumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_StickThreads_ForumID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ForumID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_StickThreads">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_StickThreads</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_StickThreads_ForumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_StickThreads_ForumID" PrimaryTableName="bx_Forums" DeleteReferentialActionId="0" UpdateReferentialActionId="0">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FK_bx_StickThreads_ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_StickThreads_ThreadID" PrimaryTableName="bx_Threads" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_StickThreads_ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_StickThreads_ThreadID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ThreadID</ColumnName>
                      <Column Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_StickThreads_ForumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_StickThreads_ForumID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ForumID</ColumnName>
                      <Column Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Vars</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Vars">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MaxPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="MaxPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>NewUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="NewUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalUsers</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalUsers" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>YestodayPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="YestodayPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>YestodayTopics</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="YestodayTopics" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MaxOnlineCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="MaxOnlineCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MaxPostDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="MaxPostDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MaxOnlineDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="MaxOnlineDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastResetDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastResetDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>NewUsername</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="NewUsername" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Vars</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Vars" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Vars">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Vars</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Vars_MaxPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Vars_MaxPosts">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>MaxPosts</ColumnName>
                      <Column Name="MaxPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Vars_NewUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Vars_NewUserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>NewUserID</ColumnName>
                      <Column Name="NewUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Vars_TotalUsers</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Vars_TotalUsers">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalUsers</ColumnName>
                      <Column Name="TotalUsers" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Vars_YestodayPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Vars_YestodayPosts">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>YestodayPosts</ColumnName>
                      <Column Name="YestodayPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Vars_YestodayTopics</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Vars_YestodayTopics">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>YestodayTopics</ColumnName>
                      <Column Name="YestodayTopics" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Vars_MaxOnlineCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Vars_MaxOnlineCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>MaxOnlineCount</ColumnName>
                      <Column Name="MaxOnlineCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Vars_MaxPostDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Vars_MaxPostDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>MaxPostDate</ColumnName>
                      <Column Name="MaxPostDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Vars_MaxOnlineDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Vars_MaxOnlineDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>MaxOnlineDate</ColumnName>
                      <Column Name="MaxOnlineDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Vars_LastResetDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Vars_LastResetDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastResetDate</ColumnName>
                      <Column Name="LastResetDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Vars_NewUsername</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Vars_NewUsername">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>NewUsername</ColumnName>
                      <Column Name="NewUsername" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UserGetPropLogs</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_UserGetPropLogs">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>LogID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Username</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Username" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>GetPropType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="GetPropType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PropID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PropID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PropName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PropName" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PropCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PropCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_UserGetPropLogs_LogID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_UserGetPropLogs_LogID" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">LogID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>LogID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="LogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_UserGetPropLogs_LogID">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_UserGetPropLogs_LogID</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_UserGetPropLogs_PropCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserGetPropLogs_PropCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>PropCount</ColumnName>
                      <Column Name="PropCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserGetPropLogs_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserGetPropLogs_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SystemNotifies</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_SystemNotifies">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>NotifyID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="NotifyID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BeginDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="BeginDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Subject</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Subject" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>(N'')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>('2099-1-1')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ReceiveRoles</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ReceiveRoles" UserTypeId="35" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ReceiveUserIDs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ReceiveUserIDs" UserTypeId="167" MaxLength="2000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Content</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Content" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>(N'')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DispatcherID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DispatcherID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DispatcherIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DispatcherIP" UserTypeId="167" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ReadUserIDs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ReadUserIDs" UserTypeId="35" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>(',')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_SystemNotifies</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_SystemNotifies" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">NotifyID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>NotifyID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="NotifyID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_SystemNotifies">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_SystemNotifies</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_SystemNotifies_BeginDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_SystemNotifies_BeginDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>BeginDate</ColumnName>
                      <Column Name="BeginDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_SystemNotifies_Subject</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_SystemNotifies_Subject">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Subject</ColumnName>
                      <Column Name="Subject" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>(N'')</DefaultDefinition>
                      </Column>
                      <Definition>(N'')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_SystemNotifies_EndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_SystemNotifies_EndDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>EndDate</ColumnName>
                      <Column Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>('2099-1-1')</DefaultDefinition>
                      </Column>
                      <Definition>('2099-1-1')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_SystemNotifies_ReceiveRoles</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_SystemNotifies_ReceiveRoles">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ReceiveRoles</ColumnName>
                      <Column Name="ReceiveRoles" UserTypeId="35" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_SystemNotifies_ReceiveUserIDs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_SystemNotifies_ReceiveUserIDs">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ReceiveUserIDs</ColumnName>
                      <Column Name="ReceiveUserIDs" UserTypeId="167" MaxLength="2000" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_SystemNotifies_Content</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_SystemNotifies_Content">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Content</ColumnName>
                      <Column Name="Content" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>(N'')</DefaultDefinition>
                      </Column>
                      <Definition>(N'')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_SystemNotifies_DispatcherID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_SystemNotifies_DispatcherID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>DispatcherID</ColumnName>
                      <Column Name="DispatcherID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_SystemNotifies_DispatcherIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_SystemNotifies_DispatcherIP">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>DispatcherIP</ColumnName>
                      <Column Name="DispatcherIP" UserTypeId="167" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_SystemNotifies_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_SystemNotifies_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_SystemNotifies_ReadUserIDs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_SystemNotifies_ReadUserIDs">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ReadUserIDs</ColumnName>
                      <Column Name="ReadUserIDs" UserTypeId="35" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>(',')</DefaultDefinition>
                      </Column>
                      <Definition>(',')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_BlogArchives</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_BlogArchives">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>Year</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Year" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Month</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Month" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalBlogs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalBlogs" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_BlogArchives</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_BlogArchives" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">Year</anyType>
                        <anyType xsi:type="xsd:string">Month</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>Year</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Year" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>Month</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Month" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_BlogArchives">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_BlogArchives</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_BlogArchives_TotalBlogs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogArchives_TotalBlogs">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalBlogs</ColumnName>
                      <Column Name="TotalBlogs" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UserInfos</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_UserInfos">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_Members</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>InviterID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="InviterID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalFriends</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalFriends" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Birthday</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Birthday" UserTypeId="52" MaxLength="2" Precision="5" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BirthYear</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="BirthYear" UserTypeId="52" MaxLength="2" Precision="5" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BlogPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="BlogPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FeedPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FeedPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BoardPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="BoardPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DoingPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DoingPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AlbumPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AlbumPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SpacePrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SpacePrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SharePrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SharePrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FriendListPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FriendListPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>InformationPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="InformationPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>NotifySetting</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="NotifySetting" UserTypeId="167" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_UserInfos</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_UserInfos" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_UserInfos_TotalFriends</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_UserInfos_TotalFriends" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">TotalFriends</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>TotalFriends</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TotalFriends" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_UserInfos_BirthYear</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_UserInfos_BirthYear" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">BirthYear</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>BirthYear</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="BirthYear" UserTypeId="52" MaxLength="2" Precision="5" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_UserInfos_Birthday</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_UserInfos_Birthday" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">Birthday</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>Birthday</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Birthday" UserTypeId="52" MaxLength="2" Precision="5" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_UserInfos_InviterID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_UserInfos_InviterID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">InviterID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>InviterID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="InviterID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_UserInfos">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_UserInfos</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_UserInfos_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_UserInfos_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_UserInfos_InviterID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserInfos_InviterID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>InviterID</ColumnName>
                      <Column Name="InviterID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserInfos_TotalFriends</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserInfos_TotalFriends">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalFriends</ColumnName>
                      <Column Name="TotalFriends" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserInfos_Birthday</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserInfos_Birthday">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Birthday</ColumnName>
                      <Column Name="Birthday" UserTypeId="52" MaxLength="2" Precision="5" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserInfos_BirthYear</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserInfos_BirthYear">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>BirthYear</ColumnName>
                      <Column Name="BirthYear" UserTypeId="52" MaxLength="2" Precision="5" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserInfos_BlogPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserInfos_BlogPrivacy">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>BlogPrivacy</ColumnName>
                      <Column Name="BlogPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserInfos_FeedPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserInfos_FeedPrivacy">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FeedPrivacy</ColumnName>
                      <Column Name="FeedPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserInfos_BoardPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserInfos_BoardPrivacy">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>BoardPrivacy</ColumnName>
                      <Column Name="BoardPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserInfos_DoingPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserInfos_DoingPrivacy">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>DoingPrivacy</ColumnName>
                      <Column Name="DoingPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserInfos_AlbumPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserInfos_AlbumPrivacy">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>AlbumPrivacy</ColumnName>
                      <Column Name="AlbumPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserInfos_SpacePrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserInfos_SpacePrivacy">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SpacePrivacy</ColumnName>
                      <Column Name="SpacePrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserInfos_SharePrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserInfos_SharePrivacy">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SharePrivacy</ColumnName>
                      <Column Name="SharePrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserInfos_FriendListPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserInfos_FriendListPrivacy">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FriendListPrivacy</ColumnName>
                      <Column Name="FriendListPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserInfos_InformationPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserInfos_InformationPrivacy">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>InformationPrivacy</ColumnName>
                      <Column Name="InformationPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserInfos_NotifySetting</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserInfos_NotifySetting">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>NotifySetting</ColumnName>
                      <Column Name="NotifySetting" UserTypeId="167" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_UserInfos_AfterUpdate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_UserInfos_AfterUpdate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>

CREATE TRIGGER [bx_UserInfos_AfterUpdate]
	ON [bx_UserInfos]
	AFTER INSERT, UPDATE
AS
BEGIN


	SET NOCOUNT ON;

	UPDATE bx_Users
	   SET UserInfo = (
						CAST(T.[InviterID] AS varchar(10)) + '|'			--0
						
						+ CAST(T.[TotalFriends] AS varchar(10)) + '|'		--1
						
						+ CAST(T.[Birthday] AS varchar(4)) + '|'			--2
						+ CAST(T.[BirthYear] AS varchar(4)) + '|'			--3
						
						+ CAST(T.[BlogPrivacy] AS varchar(10)) + '|'		--4
						+ CAST(T.[FeedPrivacy] AS varchar(10)) + '|'		--5
						+ CAST(T.[BoardPrivacy] AS varchar(10)) + '|'		--6
						+ CAST(T.[DoingPrivacy] AS varchar(10)) + '|'		--7
						+ CAST(T.[AlbumPrivacy] AS varchar(10)) + '|'		--8
						+ CAST(T.[SpacePrivacy] AS varchar(10)) + '|'		--9
						+ CAST(T.[SharePrivacy] AS varchar(10)) + '|'		--10
						
						+ CAST(T.[FriendListPrivacy] AS varchar(10)) + '|'	--11
						+ CAST(T.[InformationPrivacy] AS varchar(10)) + '|'	--12
						
						+ CAST(T.[NotifySetting] AS varchar(4000))			--13
						)
	  FROM [INSERTED] T WHERE T.UserID = bx_Users.UserID;
	  
	  SELECT 'ResetUser' AS XCMD, * FROM [INSERTED];
END

</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_PropLogs</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_PropLogs">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>PropLogID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PropLogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Type" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Log</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Log" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_PropLogs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_PropLogs" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">PropLogID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>PropLogID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="PropLogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_PropLogs_UserID_Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_PropLogs_UserID_Type" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">Type</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>Type</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Type" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_PropLogs">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_PropLogs</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_PropLogs_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_PropLogs_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_PropLogs_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PropLogs_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PropLogs_Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PropLogs_Type">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Type</ColumnName>
                      <Column Name="Type" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PropLogs_Log</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PropLogs_Log">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Log</ColumnName>
                      <Column Name="Log" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PropLogs_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PropLogs_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_BlogArticles</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_BlogArticles">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ArticleID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ArticleID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CategoryID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CategoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalViews</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalViews" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalComments</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalComments" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastEditUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastEditUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsApproved</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsApproved" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EnableComment</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="EnableComment" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PrivacyType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PrivacyType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Thumb</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Thumb" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Subject</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Subject" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Content</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Content" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Password</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Password" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastCommentDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastCommentDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>('1753-1-1')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_BlogArticles</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_BlogArticles" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ArticleID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ArticleID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ArticleID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_BlogArticles_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_BlogArticles_UserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_BlogArticles_PrivacyType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_BlogArticles_PrivacyType" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">PrivacyType</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>PrivacyType</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="PrivacyType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_BlogArticles_CategoryID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_BlogArticles_CategoryID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CategoryID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CategoryID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CategoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_BlogArticles">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_BlogArticles</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_BlogArticles_CategoryID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_BlogArticles_CategoryID" PrimaryTableName="bx_BlogCategories" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">CategoryID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">CategoryID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_BlogArticleReverters</TableName>
                <ForeignKeyName>FK_bx_BlogArticleReverters_ArticleID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_BlogArticleVisitors</TableName>
                <ForeignKeyName>FK_bx_BlogArticleVisitors_BlogArticleID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_BlogArticles_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogArticles_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BlogArticles_CategoryID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogArticles_CategoryID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CategoryID</ColumnName>
                      <Column Name="CategoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BlogArticles_TotalViews</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogArticles_TotalViews">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalViews</ColumnName>
                      <Column Name="TotalViews" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BlogArticles_TotalComments</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogArticles_TotalComments">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalComments</ColumnName>
                      <Column Name="TotalComments" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BlogArticles_LastEditUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogArticles_LastEditUserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastEditUserID</ColumnName>
                      <Column Name="LastEditUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BlogArticles_IsApproved</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogArticles_IsApproved">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsApproved</ColumnName>
                      <Column Name="IsApproved" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BlogArticles_EnableComment</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogArticles_EnableComment">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>EnableComment</ColumnName>
                      <Column Name="EnableComment" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BlogArticles_PrivacyType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogArticles_PrivacyType">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>PrivacyType</ColumnName>
                      <Column Name="PrivacyType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BlogArticles_CreateIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogArticles_CreateIP">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateIP</ColumnName>
                      <Column Name="CreateIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BlogArticles_Thumb</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogArticles_Thumb">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Thumb</ColumnName>
                      <Column Name="Thumb" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BlogArticles_Subject</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogArticles_Subject">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Subject</ColumnName>
                      <Column Name="Subject" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BlogArticles_Content</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogArticles_Content">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Content</ColumnName>
                      <Column Name="Content" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BlogArticles_Password</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogArticles_Password">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Password</ColumnName>
                      <Column Name="Password" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BlogArticles_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogArticles_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BlogArticles_UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogArticles_UpdateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UpdateDate</ColumnName>
                      <Column Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BlogArticles_LastCommentDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogArticles_LastCommentDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastCommentDate</ColumnName>
                      <Column Name="LastCommentDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>('1753-1-1')</DefaultDefinition>
                      </Column>
                      <Definition>('1753-1-1')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BlogArticles_KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogArticles_KeywordVersion">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>KeywordVersion</ColumnName>
                      <Column Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_BlogArticles_AfterDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_BlogArticles_AfterDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>


CREATE TRIGGER [bx_BlogArticles_AfterDelete]
	ON [bx_BlogArticles]
	AFTER DELETE
AS
BEGIN
	
	SET NOCOUNT ON;
	
	DELETE bx_Denouncings WHERE Type=3 AND TargetID IN (SELECT ArticleID FROM [DELETED]);
	
	DECLARE @tempTable table(CategoryID int, TotalArticles int);

	INSERT INTO @tempTable 
		SELECT DISTINCT CategoryID,
				(ISNULL((SELECT COUNT(*) FROM [bx_BlogArticles] as m WITH (NOLOCK) WHERE m.CategoryID = T.CategoryID), 0))
		FROM [DELETED] T;
	
	UPDATE [bx_BlogCategories]
		SET
			bx_BlogCategories.TotalArticles = T.TotalArticles
		FROM @tempTable T
		WHERE
			T.CategoryID = bx_BlogCategories.CategoryID;


	DECLARE @tempTable2 table(UserID int, TotalBlogArticles int);

	INSERT INTO @tempTable2 
		SELECT DISTINCT UserID,
			(ISNULL((SELECT COUNT(*) FROM [bx_BlogArticles] as m WITH (NOLOCK) WHERE m.UserID = T.UserID), 0))
		FROM [DELETED] T;

	UPDATE [bx_Users]
		SET
			bx_Users.TotalBlogArticles = T.TotalBlogArticles
		FROM @tempTable2 T
		WHERE
			T.UserID = [bx_Users].UserID;
	
	--发出重新填充UserInfo的XCMD命令
	SELECT 'ResetUser' AS XCMD, UserID, TotalBlogArticles FROM @tempTable2;
	
END
</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_BlogArticles_AfterInsert</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_BlogArticles_AfterInsert">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>


CREATE TRIGGER [bx_BlogArticles_AfterInsert]
	ON [bx_BlogArticles]
	AFTER INSERT
AS
BEGIN
	
	SET NOCOUNT ON;
	
	DECLARE @tempTable table(CategoryID int, TotalArticles int);

	INSERT INTO @tempTable 
		SELECT DISTINCT CategoryID,
			(ISNULL((SELECT COUNT(*) FROM [bx_BlogArticles] as m WITH (NOLOCK) WHERE m.CategoryID = T.CategoryID), 0))
		FROM [INSERTED] T;
	
	UPDATE [bx_BlogCategories]
		SET
			bx_BlogCategories.TotalArticles = T.TotalArticles
		FROM @tempTable T
		WHERE
			T.CategoryID = bx_BlogCategories.CategoryID;

	
	DECLARE @tempTable2 table(UserID int, TotalBlogArticles int);

	INSERT INTO @tempTable2 
		SELECT DISTINCT UserID,
			(ISNULL((SELECT COUNT(*) FROM [bx_BlogArticles] as m WITH (NOLOCK) WHERE m.UserID = T.UserID), 0))
		FROM [INSERTED] T;
	
	UPDATE [bx_Users]
		SET
			bx_Users.TotalBlogArticles = T.TotalBlogArticles
		FROM @tempTable2 T
		WHERE
			T.UserID = [bx_Users].UserID;
	
	--发出重新填充UserInfo的XCMD命令
	SELECT 'ResetUser' AS XCMD, UserID, TotalBlogArticles FROM @tempTable2;
	
END
</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_BlogArticles_AfterUpdate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_BlogArticles_AfterUpdate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>


CREATE TRIGGER [bx_BlogArticles_AfterUpdate]
	ON [bx_BlogArticles]
	AFTER UPDATE
AS
BEGIN
	
	SET NOCOUNT ON;

	--如果CategoryID字段被更改，需要重新统计受影响的日志分类的TotalArticles值
	IF UPDATE([CategoryID]) BEGIN

		DECLARE @tempTable table(CategoryID int, TotalArticles int);

		INSERT INTO @tempTable 
			SELECT DISTINCT CategoryID,
				(ISNULL((SELECT COUNT(*) FROM [bx_BlogArticles] as m WITH (NOLOCK) WHERE m.CategoryID = T.CategoryID), 0))
			FROM [INSERTED] T;

		INSERT INTO @tempTable 
			SELECT DISTINCT CategoryID,
				(ISNULL((SELECT COUNT(*) FROM [bx_BlogArticles] as m WITH (NOLOCK) WHERE m.CategoryID = T.CategoryID), 0))
			FROM [DELETED] T
			WHERE CategoryID NOT IN (SELECT CategoryID FROM @tempTable);
		
		UPDATE [bx_BlogCategories]
			SET
				bx_BlogCategories.TotalArticles = T.TotalArticles
			FROM @tempTable T
			WHERE
				T.CategoryID = bx_BlogCategories.CategoryID;

	END

	--如果UserID字段被更改，需要重新统计受影响的用户的TotalBlogArticles值
	IF UPDATE([UserID]) BEGIN
		
		DECLARE @tempTable2 table(UserID int, TotalBlogArticles int);

		INSERT INTO @tempTable2 
			SELECT DISTINCT UserID,
				(ISNULL((SELECT COUNT(*) FROM [bx_BlogArticles] as m WITH (NOLOCK) WHERE m.UserID = T.UserID), 0))
			FROM [INSERTED] T;

		INSERT INTO @tempTable2 
			SELECT DISTINCT UserID,
				(ISNULL((SELECT COUNT(*) FROM [bx_BlogArticles] as m WITH (NOLOCK) WHERE m.UserID = T.UserID), 0))
			FROM [DELETED] T
			WHERE UserID NOT IN (SELECT UserID FROM @tempTable2);

		UPDATE [bx_Users]
			SET
				bx_Users.TotalBlogArticles = T.TotalBlogArticles
			FROM @tempTable2 T
			WHERE
				T.UserID = [bx_Users].UserID;
		
		--发出重新填充UserInfo的XCMD命令
		SELECT 'ResetUser' AS XCMD, UserID, TotalBlogArticles FROM @tempTable2;

	END
	
END
</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_MissionCategories</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_MissionCategories">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Name" UserTypeId="231" MaxLength="40" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_MissionCategories</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_MissionCategories" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_MissionCategories">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_MissionCategories</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF__bx_Mission__Name__56B3DD81</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF__bx_Mission__Name__56B3DD81">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Name</ColumnName>
                      <Column Name="Name" UserTypeId="231" MaxLength="40" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DoingReverters</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_DoingReverters">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>DoingID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DoingID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ContentReverter</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ContentReverter" UserTypeId="231" MaxLength="8000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_DoingReverters</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_DoingReverters" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">DoingID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>DoingID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="DoingID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_DoingReverters">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_DoingReverters</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_DoingReverters_DoingID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_DoingReverters_DoingID" PrimaryTableName="bx_Doings" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">DoingID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">DoingID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Moderators</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Moderators">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ForumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BeginDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="BeginDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>('1753-1-1')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>('9999-12-31 23:59:59')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ModeratorType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ModeratorType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AppointorID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AppointorID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Moderators</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Moderators" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ForumID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Moderators">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Moderators</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_Moderators_bx_Forums</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Moderators_bx_Forums" PrimaryTableName="bx_Forums" DeleteReferentialActionId="1" UpdateReferentialActionId="0">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FK_bx_Moderators_bx_Users</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Moderators_bx_Users" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="0">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Moderators_BeginDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Moderators_BeginDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>BeginDate</ColumnName>
                      <Column Name="BeginDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>('1753-1-1')</DefaultDefinition>
                      </Column>
                      <Definition>('1753-1-1')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Moderators_EndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Moderators_EndDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>EndDate</ColumnName>
                      <Column Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>('9999-12-31 23:59:59')</DefaultDefinition>
                      </Column>
                      <Definition>('9999-12-31 23:59:59')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Doings</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Doings">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>DoingID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DoingID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalComments</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalComments" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Content</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Content" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastCommentDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastCommentDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>('1753-1-1')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Doings</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Doings" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">DoingID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>DoingID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="DoingID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Doings_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Doings_UserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Doings">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Doings</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_Doings_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Doings_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_DoingReverters</TableName>
                <ForeignKeyName>FK_bx_DoingReverters_DoingID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Doings_TotalComments</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Doings_TotalComments">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalComments</ColumnName>
                      <Column Name="TotalComments" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Doings_CreateIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Doings_CreateIP">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateIP</ColumnName>
                      <Column Name="CreateIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Doings_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Doings_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Doings_LastCommentDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Doings_LastCommentDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastCommentDate</ColumnName>
                      <Column Name="LastCommentDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>('1753-1-1')</DefaultDefinition>
                      </Column>
                      <Definition>('1753-1-1')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Doings_ContentVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Doings_ContentVersion">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>KeywordVersion</ColumnName>
                      <Column Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_Doings_AfterDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Doings_AfterDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>


CREATE TRIGGER [bx_Doings_AfterDelete]
	ON [bx_Doings]
	AFTER DELETE
AS
BEGIN

	SET NOCOUNT ON;

	DECLARE @tempTable table(UserID int,TotalDoings int);

	DELETE [bx_Comments] WHERE TargetID IN (SELECT DoingID FROM [DELETED]) AND Type = 3;

	INSERT INTO @tempTable 
		SELECT DISTINCT T.UserID,
			(ISNULL((SELECT COUNT(*) FROM [bx_Doings] as m WITH (NOLOCK) WHERE m.UserID = T.UserID), 0))
		FROM [DELETED] T;

	UPDATE [bx_Users]
		SET
			bx_Users.TotalDoings = T.TotalDoings
		FROM @tempTable T
		WHERE
			T.UserID = bx_Users.UserID;

	--发出重新填充UserInfo的XCMD命令
	SELECT 'ResetUser' AS XCMD, UserID, TotalDoings FROM @tempTable;

END</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_Doings_AfterInsert</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Doings_AfterInsert">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>
--添加记录触发器
CREATE TRIGGER [bx_Doings_AfterInsert]
	ON [bx_Doings]
	AFTER INSERT
AS
BEGIN

	SET NOCOUNT ON;

	DECLARE @tempTable table(UserID int,TotalDoings int);

	INSERT INTO @tempTable 
		SELECT DISTINCT T.UserID,
			(ISNULL((SELECT COUNT(*) FROM [bx_Doings] as m WITH (NOLOCK) WHERE m.UserID = T.UserID), 0))
		FROM [INSERTED] T;

	UPDATE [bx_Users]
		SET
			bx_Users.TotalDoings = T.TotalDoings
		FROM @tempTable T
		WHERE
			T.UserID = [bx_Users].UserID;

	--发出重新填充UserInfo的XCMD命令
	SELECT 'ResetUser' AS XCMD, UserID, TotalDoings FROM @tempTable;

END</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Props</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Props">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_SellingProps</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_UserPropsView</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>PropID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PropID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Icon</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Icon" UserTypeId="231" MaxLength="510" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Name" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Price</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Price" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PriceType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PriceType" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PropType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PropType" UserTypeId="231" MaxLength="1024" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PropParam</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PropParam" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Description" UserTypeId="231" MaxLength="510" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PackageSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PackageSize" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalNumber</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalNumber" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SaledNumber</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SaledNumber" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AllowExchange</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AllowExchange" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AutoReplenish</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AutoReplenish" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ReplenishNumber</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ReplenishNumber" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ReplenishTimeSpan</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ReplenishTimeSpan" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastReplenishTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastReplenishTime" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BuyCondition</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="BuyCondition" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Enable</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Enable" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ReplenishLimit</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ReplenishLimit" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Props</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Props" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">PropID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>PropID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="PropID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Props">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Props</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_UserProps</TableName>
                <ForeignKeyName>FK_bx_UserProps_PropID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Props_Icon</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Props_Icon">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Icon</ColumnName>
                      <Column Name="Icon" UserTypeId="231" MaxLength="510" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Props_Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Props_Name">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Name</ColumnName>
                      <Column Name="Name" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Props_Price</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Props_Price">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Price</ColumnName>
                      <Column Name="Price" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Props_PriceType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Props_PriceType">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>PriceType</ColumnName>
                      <Column Name="PriceType" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Props_PropType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Props_PropType">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>PropType</ColumnName>
                      <Column Name="PropType" UserTypeId="231" MaxLength="1024" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Props_PropParam</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Props_PropParam">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>PropParam</ColumnName>
                      <Column Name="PropParam" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Props_Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Props_Description">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Description</ColumnName>
                      <Column Name="Description" UserTypeId="231" MaxLength="510" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Props_PackageSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Props_PackageSize">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>PackageSize</ColumnName>
                      <Column Name="PackageSize" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Props_TotalNumber</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Props_TotalNumber">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalNumber</ColumnName>
                      <Column Name="TotalNumber" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Props_SaledNumber</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Props_SaledNumber">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SaledNumber</ColumnName>
                      <Column Name="SaledNumber" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Props_AllowExchange</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Props_AllowExchange">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>AllowExchange</ColumnName>
                      <Column Name="AllowExchange" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Props_AutoReplenish</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Props_AutoReplenish">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>AutoReplenish</ColumnName>
                      <Column Name="AutoReplenish" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Props_ReplenishNumber</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Props_ReplenishNumber">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ReplenishNumber</ColumnName>
                      <Column Name="ReplenishNumber" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Props_ReplenishTimeSpan</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Props_ReplenishTimeSpan">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ReplenishTimeSpan</ColumnName>
                      <Column Name="ReplenishTimeSpan" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Props_LastReplenishTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Props_LastReplenishTime">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastReplenishTime</ColumnName>
                      <Column Name="LastReplenishTime" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Props_BuyCondition</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Props_BuyCondition">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>BuyCondition</ColumnName>
                      <Column Name="BuyCondition" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Props_Enable</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Props_Enable">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Enable</ColumnName>
                      <Column Name="Enable" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Props_ReplenishLimit</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Props_ReplenishLimit">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ReplenishLimit</ColumnName>
                      <Column Name="ReplenishLimit" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Props_SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Props_SortOrder">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SortOrder</ColumnName>
                      <Column Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Visitors</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Visitors">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>VisitorUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="VisitorUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Visitors</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Visitors" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Visitors_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Visitors_UserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">CreateDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>CreateDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Visitors_VisitorID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Visitors_VisitorID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">VisitorUserID</anyType>
                        <anyType xsi:type="xsd:string">CreateDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>VisitorUserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="VisitorUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>CreateDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Visitors_Key</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Visitors_Key" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">VisitorUserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>VisitorUserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="VisitorUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Visitors">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Visitors</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_Visitors_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Visitors_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FK_bx_Visitors_VisitorUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Visitors_VisitorUserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="0" UpdateReferentialActionId="0">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">VisitorUserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Visitors_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Visitors_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_TagRelation</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_TagRelation">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>TagID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TagID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Type" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TargetID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TargetID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>IX_bx_TagRelation_TargetID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_TagRelation_TargetID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">TargetID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>TargetID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TargetID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_TagRelation_Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_TagRelation_Type" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">Type</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>Type</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Type" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_TagRelation_TagID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_TagRelation_TagID" PrimaryTableName="bx_Tags" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">TagID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_TagRelation_TagID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_TagRelation_TagID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TagID</ColumnName>
                      <Column Name="TagID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_TagRelation_Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_TagRelation_Type">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Type</ColumnName>
                      <Column Name="Type" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_TagRelation_TargetID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_TagRelation_TargetID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TargetID</ColumnName>
                      <Column Name="TargetID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_TagRelation_AfterInsert</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_TagRelation_AfterInsert">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>

CREATE TRIGGER [bx_TagRelation_AfterInsert]
	ON [bx_TagRelation]
	AFTER INSERT
AS
BEGIN

	SET NOCOUNT ON;
	
	DECLARE @C        int;
	DECLARE @TagID    nvarchar(50);
	DECLARE @Type     tinyint;
	
	SET @TagID = (SELECT TOP 1 [TagID] FROM [INSERTED]);
	SET @Type = (SELECT TOP 1 [Type] FROM [INSERTED]);
	
	IF @Type = 1 BEGIN
		SET @C = (SELECT COUNT(*) FROM [bx_TagRelation] WITH (NOLOCK) WHERE [TagID] = @TagID AND [TargetID] IN (SELECT [ArticleID] FROM [bx_BlogArticles] WHERE [PrivacyType] IN (0,3)));
	  END
	ELSE BEGIN
		SET @C = (SELECT COUNT(*) FROM [bx_TagRelation] WITH (NOLOCK) WHERE [TagID] = @TagID);
	  END
	
	UPDATE [bx_Tags] SET [TotalElements] = @C WHERE [ID] = @TagID;

END</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_TagRelation_AfterDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_TagRelation_AfterDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>

CREATE TRIGGER [bx_TagRelation_AfterDelete]
	ON [bx_TagRelation]
	AFTER DELETE
AS
BEGIN

	SET NOCOUNT ON;
	
	DECLARE @C        int;
	DECLARE @TagID    nvarchar(50);
	DECLARE @Type     tinyint;
	
	SET @TagID = (SELECT TOP 1 [TagID] FROM [DELETED]);
	SET @Type = (SELECT TOP 1 [Type] FROM [INSERTED]);
	
	IF @Type = 1 BEGIN
		SET @C = (SELECT COUNT(*) FROM [bx_TagRelation] WITH (NOLOCK) WHERE [TagID] = @TagID AND [TargetID] IN (SELECT [ArticleID] FROM [bx_BlogArticles] WHERE [PrivacyType] IN (0,3)));
	  END
	ELSE BEGIN
		SET @C = (SELECT COUNT(*) FROM [bx_TagRelation] WITH (NOLOCK) WHERE [TagID] = @TagID);
	  END
	
	UPDATE [bx_Tags] SET [TotalElements] = @C WHERE [ID] = @TagID;

END</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Notify</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Notify">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>NotifyID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="NotifyID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Content</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Content" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsRead</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsRead" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TypeID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TypeID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Keyword</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Keyword" UserTypeId="167" MaxLength="200" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>NotifyDatas</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="NotifyDatas" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ClientID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ClientID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Actions</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Actions" UserTypeId="231" MaxLength="4000" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Notify</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Notify" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">NotifyID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>NotifyID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="NotifyID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Notify_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Notify_UserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Notify_Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Notify_Type" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">TypeID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>TypeID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TypeID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Notify_UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Notify_UpdateDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UpdateDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UpdateDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Notify_Keyword</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Notify_Keyword" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">Keyword</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>Keyword</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Keyword" UserTypeId="167" MaxLength="200" Precision="0" Scale="0" IsNullable="true">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CS_AS</Collation>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Notify">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Notify</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_Notify_Client</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Notify_Client" PrimaryTableName="bx_PassportClients" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ClientID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ClientID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FK_bx_Notify_TypeID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Notify_TypeID" PrimaryTableName="bx_NotifyTypes" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">TypeID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">TypeID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FK_bx_Notify_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Notify_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Notify_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Notify_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Notify_IsRead</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Notify_IsRead">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsRead</ColumnName>
                      <Column Name="IsRead" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Notify_TypeID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Notify_TypeID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TypeID</ColumnName>
                      <Column Name="TypeID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Notify_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Notify_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Notify_UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Notify_UpdateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UpdateDate</ColumnName>
                      <Column Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Notify_ClientID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Notify_ClientID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ClientID</ColumnName>
                      <Column Name="ClientID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_Notify_After_Delete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Notify_After_Delete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>
CREATE TRIGGER bx_Notify_After_Delete ON [bx_Notify] 
FOR DELETE 
AS
BEGIN


DECLARE @UserID int;
DECLARE @TypeID int;
DECLARE @Count int;
DECLARE @RowCount int;
DECLARE @i int;

SET @i=0;
DECLARE @temp TABLE( RowID int  IDENTITY(1,1),  UserID int,TypeID int);

INSERT @temp( UserID , TypeID )  SELECT DISTINCT UserID , TypeID FROM DELETED;

SET @RowCount = @@ROWCOUNT;

WHILE  @i&lt;@RowCount
BEGIN

SELECT @UserID = UserID ,@TypeID = TypeID FROM @temp WHERE RowID = @i + 1;

SET @Count = ( SELECT COUNT(*) FROM bx_Notify WHERE UserID = @UserID AND TypeID = @TypeID  AND IsRead = 0 );

UPDATE bx_UnreadNotifies SET UnreadCount = @Count WHERE UserID = @UserID AND TypeID = @TypeID;

IF @@ROWCOUNT =0 AND  @Count&gt;0  BEGIN
	INSERT INTO bx_UnreadNotifies( UserID , TypeID , UnreadCount ) VALUES(@UserID , @TypeID , @Count);
END 

SET @i = @i + 1;
END
END</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_Notify_After_Insert</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Notify_After_Insert">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>
CREATE TRIGGER bx_Notify_After_Insert  ON [bx_Notify] 
FOR INSERT 
AS
BEGIN


DECLARE @UserID int;
DECLARE @TypeID int;
DECLARE @Count int;

SELECT @UserID = UserID ,@TypeID = TypeID FROM INSERTED;

SET @Count = ( SELECT COUNT(*) FROM bx_Notify WHERE UserID = @UserID AND TypeID = @TypeID AND IsRead = 0 );

UPDATE bx_UnreadNotifies SET UnreadCount = @Count WHERE UserID = @UserID AND TypeID = @TypeID;

IF @@ROWCOUNT =0 BEGIN
	INSERT INTO bx_UnreadNotifies( UserID , TypeID , UnreadCount ) VALUES(@UserID , @TypeID , @Count);
END 

END
</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_Notify_After_Update</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Notify_After_Update">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>
CREATE TRIGGER bx_Notify_After_Update ON [bx_Notify] 
FOR UPDATE 
AS
BEGIN

IF UPDATE(IsRead) BEGIN
	DECLARE @UserID int;
	DECLARE @TypeID int;
	DECLARE @Count int;
	DECLARE @RowCount int;
	DECLARE @i int;

	SET @i=0;
	DECLARE @temp TABLE( RowID int  IDENTITY(1,1),  UserID int,TypeID int);

	INSERT @temp( UserID , TypeID )  SELECT DISTINCT UserID , TypeID FROM DELETED;

	SET @RowCount = @@ROWCOUNT;

	WHILE  @i&lt;@RowCount
	BEGIN

	SELECT @UserID = UserID ,@TypeID = TypeID FROM @temp WHERE RowID = @i + 1;

	SET @Count = ( SELECT COUNT(*) FROM bx_Notify WHERE UserID = @UserID AND TypeID = @TypeID  AND IsRead = 0 );

	UPDATE bx_UnreadNotifies SET UnreadCount = @Count WHERE UserID = @UserID AND TypeID = @TypeID;

	IF @@ROWCOUNT =0 BEGIN
		INSERT INTO bx_UnreadNotifies( UserID , TypeID , UnreadCount ) VALUES(@UserID , @TypeID , @Count);
	END 

	SET @i = @i + 1;
	END
END
END</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_EmoticonGroups</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_EmoticonGroups">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_UserEmoticonInfo</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>GroupID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="GroupID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>GroupName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="GroupName" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalEmoticons</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalEmoticons" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalSizes</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalSizes" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_EmoticonGroups</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_EmoticonGroups" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">GroupID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>GroupID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="GroupID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_EmoticonGroups_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_EmoticonGroups_UserID" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">GroupName</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>GroupName</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="GroupName" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_EmoticonGroups">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_EmoticonGroups</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_EmoticonGroup_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_EmoticonGroup_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="0">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Emoticons</TableName>
                <ForeignKeyName>FK_bx_Emoticons_GroupID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_EmoticonGroups_TotalEmoticons</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_EmoticonGroups_TotalEmoticons">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalEmoticons</ColumnName>
                      <Column Name="TotalEmoticons" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_EmoticonGroups_TotalSizes</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_EmoticonGroups_TotalSizes">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalSizes</ColumnName>
                      <Column Name="TotalSizes" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Tags</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Tags">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsLock</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsLock" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Name" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalElements</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalElements" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Tags</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Tags" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Tags_Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Tags_Name" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">Name</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>Name</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Name" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                                <DefaultDefinition>('')</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Tags">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Tags</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_TagRelation</TableName>
                <ForeignKeyName>FK_bx_TagRelation_TagID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Tags_IsLock</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Tags_IsLock">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsLock</ColumnName>
                      <Column Name="IsLock" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Tags_Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Tags_Name">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Name</ColumnName>
                      <Column Name="Name" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Tags_TotalElements</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Tags_TotalElements">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalElements</ColumnName>
                      <Column Name="TotalElements" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UserMedals</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_UserMedals">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MedalID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="MedalID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MedalLevelID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="MedalLevelID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Url</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Url" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_UserMedals</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_UserMedals" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">MedalID</anyType>
                        <anyType xsi:type="xsd:string">MedalLevelID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>MedalID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="MedalID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>MedalLevelID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="MedalLevelID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_UserMedals_EndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_UserMedals_EndDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">EndDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>EndDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_UserMedals">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_UserMedals</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_UserMedals_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_UserMedals_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_UserMedals_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserMedals_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_UserMedals_AfterDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_UserMedals_AfterDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>


CREATE TRIGGER [bx_UserMedals_AfterDelete]
	ON [bx_UserMedals]
	AFTER DELETE
AS
BEGIN

	SET NOCOUNT ON;

	IF (OBJECT_ID('tempdb..#bx_tmp_usrext') IS NULL) BEGIN
		CREATE TABLE #bx_tmp_usrext ( UserID int, Data ntext DEFAULT('') );
	END
	ELSE BEGIN
		TRUNCATE TABLE #bx_tmp_usrext;
	END

	INSERT INTO #bx_tmp_usrext (UserID) SELECT DISTINCT UserID FROM [DELETED];

	DECLARE @UserID int;
	DECLARE @i int;
	DECLARE @ptr binary(16);

	--以下是处理用户扩展字段的冗余内容

	DECLARE @TotalRoles int;

	DECLARE @userRoles table( ID int IDENTITY(1,1), UserID int, RoleID uniqueidentifier, BeginDate datetime, EndDate datetime );
	INSERT INTO @userRoles SELECT UserID, RoleID, BeginDate, EndDate FROM bx_UserRoles WITH (NOLOCK) WHERE UserID IN (SELECT UserID FROM [DELETED]);

	SET @TotalRoles = @@ROWCOUNT;

	DECLARE
		@RoleIDString varchar(50),
		@BeginDateString varchar(30),
		@EndDateString varchar(30),
		@UserRoleString varchar(100);
	SET @i = 1;
	WHILE (@i &lt;= @TotalRoles) BEGIN
		SELECT @UserID = UserID, @RoleIDString = CONVERT(varchar(50), RoleID), @BeginDateString = CONVERT(varchar(30), BeginDate, 25), @EndDateString = CONVERT(varchar(30), EndDate, 25) FROM @userRoles WHERE ID = @i;
		
		SET @UserRoleString = 'R' + CAST(LEN(@RoleIDString) AS varchar(10))
								+ ',' + CAST(LEN(@BeginDateString) AS varchar(10))
								+ ',' + CAST(LEN(@EndDateString) AS varchar(10))
								+ ':' + @RoleIDString
								+ @BeginDateString
								+ @EndDateString;
		
		SELECT @ptr = textptr(Data) FROM #bx_tmp_usrext WHERE UserID = @UserID;
		UPDATETEXT #bx_tmp_usrext.Data @ptr NULL NULL @UserRoleString;

		SET @i = @i + 1;
	END

	--以下是处理用户扩展字段的冗余内容

	DECLARE @TotalValues int;

	DECLARE @userValues table( ID int IDENTITY(1,1), UserID int, FieldID varchar(36), Value nvarchar(3950),PrivacyType tinyint);
	INSERT INTO @userValues SELECT UserID, ExtendedFieldID AS FieldID, RTRIM(LTRIM(Value)),PrivacyType FROM bx_UserExtendedValues WITH (NOLOCK) WHERE UserID IN (SELECT UserID FROM [DELETED]);

	SET @TotalValues = @@ROWCOUNT;

	DECLARE
		@FieldIDString varchar(36),
		@ValueString nvarchar(3950),
		@PrivacyType varchar(10),
		@UserValueString varchar(4000);
	SET @i = 1;
	WHILE (@i &lt;= @TotalValues) BEGIN
		SELECT @UserID = UserID, @FieldIDString = FieldID, @ValueString = Value ,@PrivacyType = PrivacyType  FROM @userValues WHERE ID = @i;
		
		SET @UserValueString = 'F' + CAST(LEN(@FieldIDString) AS varchar(10))
								+ ',' + CAST(LEN(@ValueString) AS varchar(10))
								+ ',' + CAST(LEN(@PrivacyType) AS varchar(10))
								+ ':' + @FieldIDString
								+ @ValueString
								+ @PrivacyType;

		SELECT @ptr = textptr(Data) FROM #bx_tmp_usrext WHERE UserID = @UserID;
		UPDATETEXT #bx_tmp_usrext.Data @ptr NULL NULL @UserValueString;

		SET @i = @i + 1;
	END

	--以下是处理用户勋章

	DECLARE @TotalMedals int;

	DECLARE @userMedals table( ID int IDENTITY(1,1), UserID int, MedalID int, MedalLevelID int, EndDate datetime, CreateDate datetime, Url nvarchar(200));
	INSERT INTO @userMedals SELECT UserID, MedalID, MedalLevelID, EndDate, CreateDate, ISNULL(Url,'') FROM bx_UserMedals WITH (NOLOCK) WHERE UserID IN (SELECT UserID FROM [DELETED]);

	SET @TotalMedals = @@ROWCOUNT;

	DECLARE
		@MedalIDString varchar(50),
		@MedalLevelIDString varchar(50),
		@CreateDateString varchar(30),
		@Url nvarchar(200),
		@UserMedalString nvarchar(500);
	SET @i = 1;
	WHILE (@i &lt;= @TotalMedals) BEGIN
		SELECT @UserID = UserID, @MedalIDString = CONVERT(varchar(50), MedalID), @MedalLevelIDString = CONVERT(varchar(50), MedalLevelID), @EndDateString = CONVERT(varchar(30), EndDate, 25), @CreateDateString = CONVERT(varchar(30), CreateDate, 25),@Url = Url FROM @userMedals WHERE ID = @i;
		
		SET @UserMedalString = 'M' + CAST(LEN(@MedalIDString) AS varchar(10))
								+ ',' + CAST(LEN(@MedalLevelIDString) AS varchar(10))
								+ ',' + CAST(LEN(@EndDateString) AS varchar(10))
								+ ',' + CAST(LEN(@CreateDateString) AS varchar(10))
								+','  + CAST(LEN(@Url) AS varchar(10))
								+ ':' + @MedalIDString
								+ @MedalLevelIDString
								+ @EndDateString
								+ @CreateDateString
								+ @Url;
		
		SELECT @ptr = textptr(Data) FROM #bx_tmp_usrext WHERE UserID = @UserID;
		UPDATETEXT #bx_tmp_usrext.Data @ptr NULL NULL @UserMedalString;

		SET @i = @i + 1;
	END




	UPDATE bx_Users
	   SET ExtendedData = T.Data
	   FROM #bx_tmp_usrext T
	   WHERE T.UserID = bx_Users.UserID;

END</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_UserMedals_AfterUpdate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_UserMedals_AfterUpdate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>


CREATE TRIGGER [bx_UserMedals_AfterUpdate]
	ON [bx_UserMedals]
	AFTER INSERT, UPDATE
AS
BEGIN

	SET NOCOUNT ON;

	IF (OBJECT_ID('tempdb..#bx_tmp_usrext') IS NULL) BEGIN
		CREATE TABLE #bx_tmp_usrext ( UserID int, Data ntext DEFAULT('') );
	END
	ELSE BEGIN
		TRUNCATE TABLE #bx_tmp_usrext;
	END

	INSERT INTO #bx_tmp_usrext (UserID) SELECT DISTINCT UserID FROM [INSERTED];

	DECLARE @UserID int;
	DECLARE @i int;
	DECLARE @ptr binary(16);

	--以下是处理用户扩展字段的冗余内容

	DECLARE @TotalRoles int;

	DECLARE @userRoles table( ID int IDENTITY(1,1), UserID int, RoleID uniqueidentifier, BeginDate datetime, EndDate datetime );
	INSERT INTO @userRoles SELECT UserID, RoleID, BeginDate, EndDate FROM bx_UserRoles WITH (NOLOCK) WHERE UserID IN (SELECT UserID FROM [INSERTED]);

	SET @TotalRoles = @@ROWCOUNT;

	DECLARE
		@RoleIDString varchar(50),
		@BeginDateString varchar(30),
		@EndDateString varchar(30),
		@UserRoleString varchar(100);
	SET @i = 1;
	WHILE (@i &lt;= @TotalRoles) BEGIN
		SELECT @UserID = UserID, @RoleIDString = CONVERT(varchar(50), RoleID), @BeginDateString = CONVERT(varchar(30), BeginDate, 25), @EndDateString = CONVERT(varchar(30), EndDate, 25) FROM @userRoles WHERE ID = @i;
		
		SET @UserRoleString = 'R' + CAST(LEN(@RoleIDString) AS varchar(10))
								+ ',' + CAST(LEN(@BeginDateString) AS varchar(10))
								+ ',' + CAST(LEN(@EndDateString) AS varchar(10))
								+ ':' + @RoleIDString
								+ @BeginDateString
								+ @EndDateString;
		
		SELECT @ptr = textptr(Data) FROM #bx_tmp_usrext WHERE UserID = @UserID;
		UPDATETEXT #bx_tmp_usrext.Data @ptr NULL NULL @UserRoleString;

		SET @i = @i + 1;
	END

	--以下是处理用户扩展字段的冗余内容

	DECLARE @TotalValues int;

	DECLARE @userValues table( ID int IDENTITY(1,1), UserID int, FieldID varchar(36), Value nvarchar(3950),PrivacyType tinyint);
	INSERT INTO @userValues SELECT UserID, ExtendedFieldID AS FieldID, RTRIM(LTRIM(Value)),PrivacyType FROM bx_UserExtendedValues WITH (NOLOCK) WHERE UserID IN (SELECT UserID FROM [INSERTED]);

	SET @TotalValues = @@ROWCOUNT;

	DECLARE
		@FieldIDString varchar(36),
		@ValueString nvarchar(3950),
		@PrivacyType varchar(10),
		@UserValueString varchar(4000);
	SET @i = 1;
	WHILE (@i &lt;= @TotalValues) BEGIN
		SELECT @UserID = UserID, @FieldIDString = FieldID, @ValueString = Value ,@PrivacyType = PrivacyType  FROM @userValues WHERE ID = @i;
		
		SET @UserValueString = 'F' + CAST(LEN(@FieldIDString) AS varchar(10))
								+ ',' + CAST(LEN(@ValueString) AS varchar(10))
								+ ',' + CAST(LEN(@PrivacyType) AS varchar(10))
								+ ':' + @FieldIDString
								+ @ValueString
								+ @PrivacyType;

		SELECT @ptr = textptr(Data) FROM #bx_tmp_usrext WHERE UserID = @UserID;
		UPDATETEXT #bx_tmp_usrext.Data @ptr NULL NULL @UserValueString;

		SET @i = @i + 1;
	END

	--以下是处理用户勋章

	DECLARE @TotalMedals int;

	DECLARE @userMedals table( ID int IDENTITY(1,1), UserID int, MedalID int, MedalLevelID int, EndDate datetime, CreateDate datetime, Url nvarchar(200));
	INSERT INTO @userMedals SELECT UserID, MedalID, MedalLevelID, EndDate, CreateDate, ISNULL(Url,'') FROM bx_UserMedals WITH (NOLOCK) WHERE UserID IN (SELECT UserID FROM [INSERTED]);

	SET @TotalMedals = @@ROWCOUNT;

	DECLARE
		@MedalIDString varchar(50),
		@MedalLevelIDString varchar(50),
		@CreateDateString varchar(30),
		@Url nvarchar(200),
		@UserMedalString nvarchar(500);
	SET @i = 1;
	WHILE (@i &lt;= @TotalMedals) BEGIN
		SELECT @UserID = UserID, @MedalIDString = CONVERT(varchar(50), MedalID), @MedalLevelIDString = CONVERT(varchar(50), MedalLevelID), @EndDateString = CONVERT(varchar(30), EndDate, 25), @CreateDateString = CONVERT(varchar(30), CreateDate, 25),@Url = Url FROM @userMedals WHERE ID = @i;
		
		SET @UserMedalString = 'M' + CAST(LEN(@MedalIDString) AS varchar(10))
								+ ',' + CAST(LEN(@MedalLevelIDString) AS varchar(10))
								+ ',' + CAST(LEN(@EndDateString) AS varchar(10))
								+ ',' + CAST(LEN(@CreateDateString) AS varchar(10))
								+','  + CAST(LEN(@Url) AS varchar(10))
								+ ':' + @MedalIDString
								+ @MedalLevelIDString
								+ @EndDateString
								+ @CreateDateString
								+ @Url;
		
		SELECT @ptr = textptr(Data) FROM #bx_tmp_usrext WHERE UserID = @UserID;
		UPDATETEXT #bx_tmp_usrext.Data @ptr NULL NULL @UserMedalString;

		SET @i = @i + 1;
	END




	UPDATE bx_Users
	   SET ExtendedData = T.Data
	   FROM #bx_tmp_usrext T
	   WHERE T.UserID = bx_Users.UserID;

END</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Emoticons</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Emoticons">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>EmoticonID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="EmoticonID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>GroupID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="GroupID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Shortcut</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Shortcut" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ImageSrc</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ImageSrc" UserTypeId="167" MaxLength="255" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FileSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FileSize" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MD5</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="MD5" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Emoticons</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Emoticons" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">EmoticonID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>EmoticonID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="EmoticonID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Emoticons_List</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Emoticons_List" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">ImageSrc</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ImageSrc</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ImageSrc" UserTypeId="167" MaxLength="255" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Emoticons_GroupID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Emoticons_GroupID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">GroupID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>GroupID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="GroupID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Emoticons">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Emoticons</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_Emoticons_GroupID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Emoticons_GroupID" PrimaryTableName="bx_EmoticonGroups" DeleteReferentialActionId="1" UpdateReferentialActionId="0">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">GroupID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">GroupID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Emoticons_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Emoticons_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Emoticons_GroupID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Emoticons_GroupID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>GroupID</ColumnName>
                      <Column Name="GroupID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Emoticons_Shortcut</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Emoticons_Shortcut">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Shortcut</ColumnName>
                      <Column Name="Shortcut" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Emoticons_FileSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Emoticons_FileSize">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FileSize</ColumnName>
                      <Column Name="FileSize" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Emoticons_SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Emoticons_SortOrder">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SortOrder</ColumnName>
                      <Column Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_Emoticons_After_Delete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Emoticons_After_Delete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>
CREATE TRIGGER [bx_Emoticons_After_Delete] ON  [bx_Emoticons] 
FOR DELETE
AS
BEGIN

	SET NOCOUNT ON;

	DECLARE @temp Table(GroupID int, TotalSize int, TotalEmoticons int);

	INSERT @temp 
		SELECT DISTINCT GroupID
		,ISNULL((SELECT SUM(FileSize) FROM bx_Emoticons WITH (NOLOCK) WHERE bx_Emoticons.GroupID = t.GroupID), 0)
		,ISNULL((SELECT COUNT(*) FROM bx_Emoticons WITH (NOLOCK) WHERE bx_Emoticons.GroupID = t.GroupID), 0)
	FROM DELETED t;

	UPDATE bx_EmoticonGroups SET TotalSizes = t.TotalSize, TotalEmoticons = t.TotalEmoticons FROM @temp t WHERE bx_EmoticonGroups.GroupID = t.GroupID;

END</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_Emoticons_After_Insert</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Emoticons_After_Insert">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>
CREATE TRIGGER [bx_Emoticons_After_Insert] ON  [bx_Emoticons] 
FOR INSERT 
AS
BEGIN

	SET NOCOUNT ON;

	DECLARE @temp Table(GroupID int, TotalSize int, TotalEmoticons int);

	INSERT @temp 
		SELECT DISTINCT GroupID
		,ISNULL((SELECT SUM(FileSize) FROM bx_Emoticons WITH (NOLOCK) WHERE bx_Emoticons.GroupID = t.GroupID), 0)
		,ISNULL((SELECT COUNT(*) FROM bx_Emoticons WITH (NOLOCK) WHERE bx_Emoticons.GroupID = t.GroupID), 0)
	FROM INSERTED t;

	UPDATE bx_EmoticonGroups SET TotalSizes = t.TotalSize, TotalEmoticons = t.TotalEmoticons FROM @temp t WHERE bx_EmoticonGroups.GroupID = t.GroupID;

END</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_Emoticons_After_Update</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Emoticons_After_Update">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>
--计算分组总大小和分组表情数
CREATE TRIGGER [bx_Emoticons_After_Update] ON  [bx_Emoticons] 
FOR  UPDATE 
AS
BEGIN

	SET NOCOUNT ON;

	IF UPDATE(GroupID) BEGIN

		DECLARE @GroupTable table(GroupID  int);

		INSERT @GroupTable SELECT DISTINCT GroupID FROM INSERTED;
		INSERT @GroupTable SELECT DISTINCT GroupID FROM DELETED;

		DECLARE @temp Table(GroupID int, TotalSize int, TotalEmoticons int);
		
		INSERT @temp 
		SELECT DISTINCT GroupID
			,ISNULL((SELECT SUM(FileSize) FROM bx_Emoticons WITH (NOLOCK) WHERE bx_Emoticons.GroupID = t.GroupID), 0)
			,ISNULL((SELECT COUNT(*) FROM bx_Emoticons WITH (NOLOCK) WHERE bx_Emoticons.GroupID = t.GroupID), 0)
		FROM @GroupTable  t;

		UPDATE bx_EmoticonGroups SET TotalSizes = t.TotalSize, TotalEmoticons = t.TotalEmoticons FROM @temp t WHERE bx_EmoticonGroups.GroupID = t.GroupID;

	END

END</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_NotifyTypes</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_NotifyTypes">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>TypeID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TypeID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TypeName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TypeName" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Keep</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Keep" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Description" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_NotifyTypes</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_NotifyTypes" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">TypeID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>TypeID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TypeID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_NotifyTypes">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_NotifyTypes</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Notify</TableName>
                <ForeignKeyName>FK_bx_Notify_TypeID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_UnreadNotifies</TableName>
                <ForeignKeyName>FK_bx_UnreadNotifies_TypeID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_NotifyTypes_Keep</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_NotifyTypes_Keep">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Keep</ColumnName>
                      <Column Name="Keep" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_TempUploadFiles</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_TempUploadFiles">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>TempUploadFileID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TempUploadFileID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UploadAction</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UploadAction" UserTypeId="167" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SearchInfo</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SearchInfo" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>(N'')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CustomParams</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CustomParams" UserTypeId="231" MaxLength="6000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>(N'')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FileName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FileName" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>(N'')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ServerFileName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ServerFileName" UserTypeId="167" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MD5</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="MD5" UserTypeId="175" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FileSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FileSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FileID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FileID" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_TempUploadFiles</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_TempUploadFiles" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">TempUploadFileID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>TempUploadFileID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TempUploadFileID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_TempUploadFiles_Search</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_TempUploadFiles_Search" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">UploadAction</anyType>
                        <anyType xsi:type="xsd:string">SearchInfo</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>UploadAction</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UploadAction" UserTypeId="167" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                                <DefaultDefinition>('')</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>SearchInfo</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="SearchInfo" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                                <DefaultDefinition>(N'')</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_TempUploadFiles_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_TempUploadFiles_CreateDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CreateDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CreateDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_TempUploadFiles">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_TempUploadFiles</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_TempUploadFiles_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_TempUploadFiles_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_TempUploadFiles_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_TempUploadFiles_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_TempUploadFiles_UploadAction</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_TempUploadFiles_UploadAction">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UploadAction</ColumnName>
                      <Column Name="UploadAction" UserTypeId="167" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_TempUploadFiles_SearchInfo</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_TempUploadFiles_SearchInfo">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SearchInfo</ColumnName>
                      <Column Name="SearchInfo" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>(N'')</DefaultDefinition>
                      </Column>
                      <Definition>(N'')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_TempUploadFiles_CustomParams</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_TempUploadFiles_CustomParams">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CustomParams</ColumnName>
                      <Column Name="CustomParams" UserTypeId="231" MaxLength="6000" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>(N'')</DefaultDefinition>
                      </Column>
                      <Definition>(N'')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_TempUploadFiles_FileName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_TempUploadFiles_FileName">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FileName</ColumnName>
                      <Column Name="FileName" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>(N'')</DefaultDefinition>
                      </Column>
                      <Definition>(N'')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_TempUploadFiles_ServerFileName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_TempUploadFiles_ServerFileName">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ServerFileName</ColumnName>
                      <Column Name="ServerFileName" UserTypeId="167" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_TempUploadFiles_MD5</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_TempUploadFiles_MD5">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>MD5</ColumnName>
                      <Column Name="MD5" UserTypeId="175" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_TempUploadFiles_FileSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_TempUploadFiles_FileSize">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FileSize</ColumnName>
                      <Column Name="FileSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_TempUploadFiles_FileID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_TempUploadFiles_FileID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FileID</ColumnName>
                      <Column Name="FileID" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_TempUploadFiles_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_TempUploadFiles_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UserMissions</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_UserMissions">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_UserMissionsView</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MissionID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="MissionID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FinishPercent</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FinishPercent" UserTypeId="62" MaxLength="8" Precision="53" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Status</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Status" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsPrized</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsPrized" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FinishDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FinishDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_UserMissions</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_UserMissions" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">MissionID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>MissionID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="MissionID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_UserMissions_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_UserMissions_CreateDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CreateDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CreateDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_UserMissions_ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_UserMissions_ID" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_UserMissions">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_UserMissions</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_UserMissions_MissionID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_UserMissions_MissionID" PrimaryTableName="bx_Missions" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">MissionID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FK_bx_UserMissions_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_UserMissions_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_UserMissions_FinishPercent</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserMissions_FinishPercent">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FinishPercent</ColumnName>
                      <Column Name="FinishPercent" UserTypeId="62" MaxLength="8" Precision="53" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserMissions_Status</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserMissions_Status">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Status</ColumnName>
                      <Column Name="Status" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserMissions_IsPrized</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserMissions_IsPrized">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsPrized</ColumnName>
                      <Column Name="IsPrized" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserMissions_FinishDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserMissions_FinishDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FinishDate</ColumnName>
                      <Column Name="FinishDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserMissions_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserMissions_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_OperationLogs</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_OperationLogs">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>LogID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>OperatorID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="OperatorID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TargetID_1</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TargetID_1" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TargetID_2</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TargetID_2" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TargetID_3</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TargetID_3" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>OperatorIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="OperatorIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>OperationType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="OperationType" UserTypeId="167" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Message</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Message" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateTime" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_OperationLogs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_OperationLogs" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">LogID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>LogID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="LogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_OperationLogs_OperatorID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_OperationLogs_OperatorID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">OperatorID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>OperatorID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="OperatorID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_OperationLogs_OperatorIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_OperationLogs_OperatorIP" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">OperatorIP</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>OperatorIP</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="OperatorIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_OperationLogs_OperationType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_OperationLogs_OperationType" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">OperationType</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>OperationType</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="OperationType" UserTypeId="167" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_OperationLogs_CreateTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_OperationLogs_CreateTime" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CreateTime</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CreateTime</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CreateTime" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_OperationLogs">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_OperationLogs</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_OperationLogs_TargetID_1</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_OperationLogs_TargetID_1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TargetID_1</ColumnName>
                      <Column Name="TargetID_1" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_OperationLogs_TargetID_2</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_OperationLogs_TargetID_2">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TargetID_2</ColumnName>
                      <Column Name="TargetID_2" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_OperationLogs_TargetID_3</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_OperationLogs_TargetID_3">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TargetID_3</ColumnName>
                      <Column Name="TargetID_3" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_BlogArticleReverters</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_BlogArticleReverters">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ArticleID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ArticleID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SubjectReverter</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SubjectReverter" UserTypeId="231" MaxLength="8000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ContentReverter</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ContentReverter" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_BlogArticleReverters</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_BlogArticleReverters" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ArticleID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ArticleID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ArticleID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_BlogArticleReverters">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_BlogArticleReverters</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_BlogArticleReverters_ArticleID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_BlogArticleReverters_ArticleID" PrimaryTableName="bx_BlogArticles" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ArticleID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ArticleID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_BlogArticleVisitors</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_BlogArticleVisitors">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BlogArticleID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="BlogArticleID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ViewDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ViewDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_BlogArticleVisitors</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_BlogArticleVisitors" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_BlogArticleVisitors">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_BlogArticleVisitors</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_BlogArticleVisitors_BlogArticleID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_BlogArticleVisitors_BlogArticleID" PrimaryTableName="bx_BlogArticles" DeleteReferentialActionId="1" UpdateReferentialActionId="0">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">BlogArticleID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ArticleID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FK_bx_BlogArticleVisitors_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_BlogArticleVisitors_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="0" UpdateReferentialActionId="0">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_bx_BlogArticleVisitors_ViewDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_bx_BlogArticleVisitors_ViewDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ViewDate</ColumnName>
                      <Column Name="ViewDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_FeedFilters</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_FeedFilters">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FriendUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FriendUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AppID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AppID" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ActionType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ActionType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_FeedFilters</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_FeedFilters" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_FeedFilters_UserFriend</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_FeedFilters_UserFriend" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">FriendUserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>FriendUserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="FriendUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_FeedFilters_Action</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_FeedFilters_Action" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">AppID</anyType>
                        <anyType xsi:type="xsd:string">ActionType</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>AppID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="AppID" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ActionType</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ActionType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="true">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_FeedFilters">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_FeedFilters</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_FeedFilters_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_FeedFilters_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_PassportClients</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_PassportClients">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ClientID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ClientID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ClientName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ClientName" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AccessKey</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AccessKey" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Url</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Url" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>APIFilePath</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="APIFilePath" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Deleted</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Deleted" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>InstructTypes</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="InstructTypes" UserTypeId="35" MaxLength="16" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_PassportClients</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_PassportClients" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ClientID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ClientID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ClientID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_PassportClients">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_PassportClients</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Notify</TableName>
                <ForeignKeyName>FK_bx_Notify_Client</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_PassportClients_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PassportClients_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_PassportClients_Deleted</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_PassportClients_Deleted">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Deleted</ColumnName>
                      <Column Name="Deleted" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Feeds</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Feeds">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TargetID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TargetID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TargetUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TargetUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CommentTargetID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CommentTargetID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ActionType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ActionType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PrivacyType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PrivacyType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AppID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AppID" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Title</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Title" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Description" UserTypeId="231" MaxLength="5000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TargetNickname</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TargetNickname" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>VisibleUserIDs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="VisibleUserIDs" UserTypeId="167" MaxLength="800" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CommentInfo</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CommentInfo" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Feeds</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Feeds" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Feeds_TargetUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Feeds_TargetUserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">TargetUserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>TargetUserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TargetUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Feeds_Action</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Feeds_Action" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">AppID</anyType>
                        <anyType xsi:type="xsd:string">ActionType</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>AppID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="AppID" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ActionType</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ActionType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Feeds_TargetID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Feeds_TargetID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">TargetID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>TargetID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TargetID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Feeds_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Feeds_CreateDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CreateDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CreateDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Feeds">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Feeds</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_UserFeeds</TableName>
                <ForeignKeyName>FK_bx_UserFeeds_FeedID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Feeds_CommentTargetID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Feeds_CommentTargetID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CommentTargetID</ColumnName>
                      <Column Name="CommentTargetID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Feeds_Title</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Feeds_Title">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Title</ColumnName>
                      <Column Name="Title" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Feeds_Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Feeds_Description">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Description</ColumnName>
                      <Column Name="Description" UserTypeId="231" MaxLength="5000" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Feeds_TargetNickname</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Feeds_TargetNickname">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TargetNickname</ColumnName>
                      <Column Name="TargetNickname" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Feeds_VisibleUserIDs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Feeds_VisibleUserIDs">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>VisibleUserIDs</ColumnName>
                      <Column Name="VisibleUserIDs" UserTypeId="167" MaxLength="800" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Feeds_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Feeds_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UserMobileOperationLogs</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_UserMobileOperationLogs">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>LogID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Username</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Username" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MobilePhone</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="MobilePhone" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>OperationType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="OperationType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>OperationDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="OperationDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_UserMobileOperationLogs_LogID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_UserMobileOperationLogs_LogID" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">LogID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>LogID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="LogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_UserMobileOperationLogs_LogID">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_UserMobileOperationLogs_LogID</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_UserMobileOperationLogs_MobilePhone</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserMobileOperationLogs_MobilePhone">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>MobilePhone</ColumnName>
                      <Column Name="MobilePhone" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserMobileOperationLogs_OperationType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserMobileOperationLogs_OperationType">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>OperationType</ColumnName>
                      <Column Name="OperationType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserMobileOperationLogs_OperationDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserMobileOperationLogs_OperationDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>OperationDate</ColumnName>
                      <Column Name="OperationDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_BlogCategories</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_BlogCategories">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>CategoryID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CategoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalArticles</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalArticles" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Name" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_BlogCategories</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_BlogCategories" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CategoryID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CategoryID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CategoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_BlogCategories_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_BlogCategories_UserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_BlogCategories">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_BlogCategories</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_BlogCategories_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_BlogCategories_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_BlogArticles</TableName>
                <ForeignKeyName>FK_bx_BlogArticles_CategoryID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_BlogCategoryReverters</TableName>
                <ForeignKeyName>FK_bx_BlogCategoryReverters_CategoryID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_BlogCategories_TotalBlogs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogCategories_TotalBlogs">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalArticles</ColumnName>
                      <Column Name="TotalArticles" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BlogCategories_Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogCategories_Name">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Name</ColumnName>
                      <Column Name="Name" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BlogCategories_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogCategories_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_BlogCategories_KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_BlogCategories_KeywordVersion">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>KeywordVersion</ColumnName>
                      <Column Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_QuestionRewards</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_QuestionRewards">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PostID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Reward</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Reward" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_QuestionRewards</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_QuestionRewards" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                        <anyType xsi:type="xsd:string">PostID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>PostID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="PostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_QuestionRewards_List</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_QuestionRewards_List" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                        <anyType xsi:type="xsd:string">Reward</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>Reward</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Reward" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_QuestionRewards">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_QuestionRewards</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_QuestionRewards_ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_QuestionRewards_ThreadID" PrimaryTableName="bx_Questions" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Questions</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Questions">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsClosed</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsClosed" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Reward</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Reward" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>RewardCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="RewardCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AlwaysEyeable</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AlwaysEyeable" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExpiresDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ExpiresDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BestPostID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="BestPostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UsefulCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UsefulCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UnusefulCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UnusefulCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Questions</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Questions" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Questions_ExpiresDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Questions_ExpiresDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">IsClosed</anyType>
                        <anyType xsi:type="xsd:string">ExpiresDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>IsClosed</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="IsClosed" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ExpiresDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ExpiresDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Questions">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Questions</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_Questions_ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Questions_ThreadID" PrimaryTableName="bx_Threads" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_QuestionRewards</TableName>
                <ForeignKeyName>FK_bx_QuestionRewards_ThreadID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_QuestionUsers</TableName>
                <ForeignKeyName>FK_bx_QuestionUsers_ThreadID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Questions_IsClosed</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Questions_IsClosed">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsClosed</ColumnName>
                      <Column Name="IsClosed" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Questions_Reward</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Questions_Reward">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Reward</ColumnName>
                      <Column Name="Reward" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Questions_RewardCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Questions_RewardCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>RewardCount</ColumnName>
                      <Column Name="RewardCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Questions_AlwaysEyeable</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Questions_AlwaysEyeable">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>AlwaysEyeable</ColumnName>
                      <Column Name="AlwaysEyeable" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Questions_BestPostID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Questions_BestPostID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>BestPostID</ColumnName>
                      <Column Name="BestPostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Questions_UsefulCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Questions_UsefulCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UsefulCount</ColumnName>
                      <Column Name="UsefulCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Questions_UnusefulCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Questions_UnusefulCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UnusefulCount</ColumnName>
                      <Column Name="UnusefulCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Pay</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Pay">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>PayID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PayID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BuyerEmail</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="BuyerEmail" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>OrderNo</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="OrderNo" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TransactionNo</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TransactionNo" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>OrderAmount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="OrderAmount" UserTypeId="106" MaxLength="9" Precision="18" Scale="2" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Payment</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Payment" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PayType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PayType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PayValue</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PayValue" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PayDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PayDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SubmitIp</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SubmitIp" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PayIp</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PayIp" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Remarks</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Remarks" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>State</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="State" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Pay</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Pay" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">PayID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>PayID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="PayID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Pay_OrderNo</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Pay_OrderNo" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">OrderNo</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>OrderNo</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="OrderNo" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Pay_TransactionNo</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Pay_TransactionNo" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">TransactionNo</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>TransactionNo</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TransactionNo" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="true">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Pay_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Pay_UserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">State</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>State</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="State" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="true">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Pay">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Pay</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_Pay_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Pay_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Pay_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Pay_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Pay_State</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Pay_State">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>State</ColumnName>
                      <Column Name="State" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ThreadCatalogs</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ThreadCatalogs">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ThreadCatalogID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadCatalogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThreadCatalogName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadCatalogName" UserTypeId="231" MaxLength="800" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LogoUrl</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LogoUrl" UserTypeId="231" MaxLength="1024" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ThreadCatalogs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ThreadCatalogs" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ThreadCatalogID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ThreadCatalogID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadCatalogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ThreadCatalogs">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ThreadCatalogs</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_ThreadCatalogsInForums</TableName>
                <ForeignKeyName>FK_bx_ThreadCatalogsInForums_ThreadCatalogID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UserNoAddFeedApps</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_UserNoAddFeedApps">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>AppID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AppID" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ActionType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ActionType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Send</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Send" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_UserNoAddFeedApps</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_UserNoAddFeedApps" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">AppID</anyType>
                        <anyType xsi:type="xsd:string">ActionType</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>AppID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="AppID" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ActionType</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ActionType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_UserNoAddFeedApps">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_UserNoAddFeedApps</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_UserNoAddFeedApps_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_UserNoAddFeedApps_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_BlogCategoryReverters</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_BlogCategoryReverters">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>CategoryID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CategoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>NameReverter</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="NameReverter" UserTypeId="231" MaxLength="8000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_BlogCategoryReverters</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_BlogCategoryReverters" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CategoryID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CategoryID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CategoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_BlogCategoryReverters">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_BlogCategoryReverters</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_BlogCategoryReverters_CategoryID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_BlogCategoryReverters_CategoryID" PrimaryTableName="bx_BlogCategories" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">CategoryID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">CategoryID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ThreadCatalogsInForums</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ThreadCatalogsInForums">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ForumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThreadCatalogID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadCatalogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalThreads</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalThreads" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ThreadCatalogsInForums</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ThreadCatalogsInForums" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                        <anyType xsi:type="xsd:string">ThreadCatalogID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ForumID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ThreadCatalogID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ThreadCatalogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_ThreadCatalogsInForums</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_ThreadCatalogsInForums" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                        <anyType xsi:type="xsd:string">SortOrder</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ForumID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>SortOrder</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ThreadCatalogsInForums">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ThreadCatalogsInForums</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_ThreadCatalogsInForums_ForumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_ThreadCatalogsInForums_ForumID" PrimaryTableName="bx_Forums" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FK_bx_ThreadCatalogsInForums_ThreadCatalogID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_ThreadCatalogsInForums_ThreadCatalogID" PrimaryTableName="bx_ThreadCatalogs" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ThreadCatalogID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ThreadCatalogID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_ThreadCatalogsInForums_TotalThreads</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadCatalogsInForums_TotalThreads">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalThreads</ColumnName>
                      <Column Name="TotalThreads" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UserProps</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_UserProps">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_SellingProps</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_UserPropsView</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserPropID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserPropID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PropID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PropID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Count</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Count" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SellingCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SellingCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SellingPrice</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SellingPrice" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SellingDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SellingDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_UserProps</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_UserProps" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserPropID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserPropID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserPropID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_UserProps_UserID_PropID_SellingCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_UserProps_UserID_PropID_SellingCount" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">PropID</anyType>
                        <anyType xsi:type="xsd:string">SellingCount</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>PropID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="PropID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>SellingCount</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="SellingCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_UserProps">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_UserProps</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_UserProps_PropID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_UserProps_PropID" PrimaryTableName="bx_Props" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">PropID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">PropID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FK_bx_UserProps_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_UserProps_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_UserProps_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserProps_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserProps_PropID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserProps_PropID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>PropID</ColumnName>
                      <Column Name="PropID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserProps_Count</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserProps_Count">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Count</ColumnName>
                      <Column Name="Count" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserProps_SellingCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserProps_SellingCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SellingCount</ColumnName>
                      <Column Name="SellingCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserProps_SellingPrice</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserProps_SellingPrice">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SellingPrice</ColumnName>
                      <Column Name="SellingPrice" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_UserProps_SellingDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_UserProps_SellingDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SellingDate</ColumnName>
                      <Column Name="SellingDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_PhotoReverters</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_PhotoReverters">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>PhotoID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PhotoID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>NameReverter</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="NameReverter" UserTypeId="231" MaxLength="8000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DescriptionReverter</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DescriptionReverter" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_PhotoReverters</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_PhotoReverters" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">PhotoID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>PhotoID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="PhotoID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_PhotoReverters">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_PhotoReverters</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_PhotoReverters_PhotoID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_PhotoReverters_PhotoID" PrimaryTableName="bx_Photos" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">PhotoID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">PhotoID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_FeedTemplates</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_FeedTemplates">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>AppID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AppID" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ActionType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ActionType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Title</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Title" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IconUrl</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IconUrl" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Description" UserTypeId="231" MaxLength="5000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_FeedTemplates</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_FeedTemplates" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">AppID</anyType>
                        <anyType xsi:type="xsd:string">ActionType</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>AppID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="AppID" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>ActionType</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ActionType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_FeedTemplates">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_FeedTemplates</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_FeedTemplates_Title</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_FeedTemplates_Title">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Title</ColumnName>
                      <Column Name="Title" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_FeedTemplates_IconUrl</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_FeedTemplates_IconUrl">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IconUrl</ColumnName>
                      <Column Name="IconUrl" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_FeedTemplates_Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_FeedTemplates_Description">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Description</ColumnName>
                      <Column Name="Description" UserTypeId="231" MaxLength="5000" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ChatMessageReverters</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ChatMessageReverters">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>MessageID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="MessageID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ContentReverter</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ContentReverter" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ChatMessageReverters</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ChatMessageReverters" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">MessageID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>MessageID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="MessageID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ChatMessageReverters">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ChatMessageReverters</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_ChatMessageReverters_MessageID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_ChatMessageReverters_MessageID" PrimaryTableName="bx_ChatMessages" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">MessageID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">MessageID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ThreadCateModelFields</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ThreadCateModelFields">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>FieldID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FieldID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ModelID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ModelID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FieldName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FieldName" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Enable</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Enable" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FieldType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FieldType" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Description" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FieldTypeSetting</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FieldTypeSetting" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Search</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Search" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AdvancedSearch</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AdvancedSearch" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DisplayInList</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DisplayInList" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MustFilled</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="MustFilled" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ThreadCateModelFields</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ThreadCateModelFields" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">FieldID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>FieldID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="FieldID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ThreadCateModelFields">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ThreadCateModelFields</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_ThreadCateModelFields_ModelID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_ThreadCateModelFields_ModelID" PrimaryTableName="bx_ThreadCateModels" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ModelID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ModelID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_ThreadCateModelFields_ModelID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadCateModelFields_ModelID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ModelID</ColumnName>
                      <Column Name="ModelID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadCateModelFields_FieldName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadCateModelFields_FieldName">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FieldName</ColumnName>
                      <Column Name="FieldName" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadCateModelFields_Enable</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadCateModelFields_Enable">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Enable</ColumnName>
                      <Column Name="Enable" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadCateModelFields_SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadCateModelFields_SortOrder">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SortOrder</ColumnName>
                      <Column Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadCateModelFields_FieldType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadCateModelFields_FieldType">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FieldType</ColumnName>
                      <Column Name="FieldType" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadCateModelFields_Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadCateModelFields_Description">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Description</ColumnName>
                      <Column Name="Description" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadCateModelFields_FieldSetting</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadCateModelFields_FieldSetting">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FieldTypeSetting</ColumnName>
                      <Column Name="FieldTypeSetting" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadCateModelFields_Search</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadCateModelFields_Search">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Search</ColumnName>
                      <Column Name="Search" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadCateModelFields_AdvancedSearch</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadCateModelFields_AdvancedSearch">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>AdvancedSearch</ColumnName>
                      <Column Name="AdvancedSearch" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadCateModelFields_DisplayInList</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadCateModelFields_DisplayInList">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>DisplayInList</ColumnName>
                      <Column Name="DisplayInList" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ThreadCateModelFields_MustFilled</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ThreadCateModelFields_MustFilled">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>MustFilled</ColumnName>
                      <Column Name="MustFilled" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Photos</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Photos">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_UsedFileIds</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>PhotoID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PhotoID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AlbumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AlbumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalViews</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalViews" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalComments</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalComments" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FileID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FileID" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FileSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FileSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FileType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FileType" UserTypeId="167" MaxLength="10" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Width</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Width" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Height</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Height" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Exif</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Exif" UserTypeId="231" MaxLength="3000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Name" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Description" UserTypeId="231" MaxLength="3000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThumbPath</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThumbPath" UserTypeId="167" MaxLength="256" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThumbWidth</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThumbWidth" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThumbHeight</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThumbHeight" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastCommentDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastCommentDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>('1753-1-1')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastEditUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastEditUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Photos</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Photos" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">PhotoID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>PhotoID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="PhotoID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Photos_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Photos_UserID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Photos_AlbumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Photos_AlbumID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">AlbumID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>AlbumID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="AlbumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Photos_FileID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Photos_FileID" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">FileID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>FileID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="FileID" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                                <DefaultDefinition>('')</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Photos">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Photos</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_Photos_AlbumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_Photos_AlbumID" PrimaryTableName="bx_Albums" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">AlbumID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">AlbumID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_PhotoReverters</TableName>
                <ForeignKeyName>FK_bx_PhotoReverters_PhotoID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Photos_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Photos_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Photos_AlbumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Photos_AlbumID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>AlbumID</ColumnName>
                      <Column Name="AlbumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Photos_TotalViews</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Photos_TotalViews">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalViews</ColumnName>
                      <Column Name="TotalViews" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Photos_TotalComments</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Photos_TotalComments">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalComments</ColumnName>
                      <Column Name="TotalComments" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Photos_FileID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Photos_FileID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FileID</ColumnName>
                      <Column Name="FileID" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Photos_FileSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Photos_FileSize">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FileSize</ColumnName>
                      <Column Name="FileSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Photos_FileType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Photos_FileType">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FileType</ColumnName>
                      <Column Name="FileType" UserTypeId="167" MaxLength="10" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Photos_Width</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Photos_Width">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Width</ColumnName>
                      <Column Name="Width" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Photos_Height</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Photos_Height">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Height</ColumnName>
                      <Column Name="Height" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Photos_Exif</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Photos_Exif">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Exif</ColumnName>
                      <Column Name="Exif" UserTypeId="231" MaxLength="3000" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Photos_Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Photos_Name">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Name</ColumnName>
                      <Column Name="Name" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Photos_Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Photos_Description">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Description</ColumnName>
                      <Column Name="Description" UserTypeId="231" MaxLength="3000" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Photos_ThumbPath</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Photos_ThumbPath">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ThumbPath</ColumnName>
                      <Column Name="ThumbPath" UserTypeId="167" MaxLength="256" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Photos_ThumbWidth</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Photos_ThumbWidth">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ThumbWidth</ColumnName>
                      <Column Name="ThumbWidth" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Photos_ThumbHeight</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Photos_ThumbHeight">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ThumbHeight</ColumnName>
                      <Column Name="ThumbHeight" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Photos_CreateIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Photos_CreateIP">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateIP</ColumnName>
                      <Column Name="CreateIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Photos_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Photos_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Photos_UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Photos_UpdateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UpdateDate</ColumnName>
                      <Column Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Photos_LastCommentDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Photos_LastCommentDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastCommentDate</ColumnName>
                      <Column Name="LastCommentDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>('1753-1-1')</DefaultDefinition>
                      </Column>
                      <Definition>('1753-1-1')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Photos_LastEditUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Photos_LastEditUserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastEditUserID</ColumnName>
                      <Column Name="LastEditUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Photos_KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Photos_KeywordVersion">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>KeywordVersion</ColumnName>
                      <Column Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_Photos_AfterDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Photos_AfterDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>

CREATE TRIGGER [bx_Photos_AfterDelete] ON [bx_Photos] AFTER DELETE
AS
BEGIN

	SET NOCOUNT ON;
	
	DELETE bx_Denouncings WHERE Type=1 AND TargetID IN (SELECT PhotoID FROM [DELETED]);
	
	DELETE bx_Files
		WHERE FileID IN (SELECT FileID FROM [DELETED])
			AND FileID NOT IN (SELECT FileID FROM [bx_UsedFileIds] WHERE FileID IN (SELECT FileID FROM [DELETED]))
	
	--更新用户已用相册空间
	
	DECLARE @TempTable1 table (UserID int, UsedAlbumSize bigint, TotalPhotos int);
	
	INSERT INTO @TempTable1 (UserID, UsedAlbumSize, TotalPhotos) 
	SELECT 
		DISTINCT T.UserID, 
		ISNULL((SELECT SUM(FileSize) FROM [bx_Photos] P WITH (NOLOCK) WHERE P.[UserID] = T.[UserID]), 0),
		ISNULL((SELECT COUNT(*) FROM [bx_Photos] P WITH (NOLOCK) WHERE P.[UserID] = T.[UserID]), 0)
	FROM [DELETED] T;
	
	UPDATE [bx_UserVars] SET [bx_UserVars].[UsedAlbumSize] = T.[UsedAlbumSize]
	FROM @TempTable1 AS T 
	WHERE [bx_UserVars].[UserID] = T.[UserID];
	
	UPDATE [bx_Users] SET [bx_Users].[TotalPhotos] = T.[TotalPhotos]
	FROM @TempTable1 T
	WHERE T.[UserID] = [bx_Users].[UserID];

	SELECT 'ResetUser' AS XCMD, UserID, TotalPhotos, UsedAlbumSize FROM @TempTable1;

	--更新相册总图片数
	
	DECLARE @TempTable2 table(AlbumID int, TotalPhotos int, UpdateDate datetime DEFAULT(GETDATE()));
	
	INSERT INTO @TempTable2 (AlbumID, TotalPhotos)
	SELECT 
		DISTINCT [AlbumID], 
		ISNULL((SELECT COUNT(*) FROM [bx_Photos] P WITH (NOLOCK) WHERE P.[AlbumID] = T.[AlbumID]), 0)
	FROM [DELETED] T;
	
	UPDATE [bx_Albums] SET [bx_Albums].[TotalPhotos] = T.[TotalPhotos], [bx_Albums].[UpdateDate] = T.UpdateDate
	FROM @TempTable2 T
	WHERE [bx_Albums].[AlbumID] = T.[AlbumID];

	--触发XCMD

	--SELECT 'ResetAlbum' AS XCMD, AlbumID, TotalPhotos, UpdateDate FROM @TempTable2;

END


</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_Photos_AfterInsert</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Photos_AfterInsert">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>

CREATE TRIGGER [bx_Photos_AfterInsert] ON [bx_Photos] AFTER INSERT
AS
BEGIN

	SET NOCOUNT ON;
	
	--更新用户已用相册空间
	
	DECLARE @TempTable1 table (UserID int, UsedAlbumSize bigint, TotalPhotos int);
	
	INSERT INTO @TempTable1 (UserID, UsedAlbumSize, TotalPhotos) 
	SELECT 
		DISTINCT T.UserID, 
		ISNULL((SELECT SUM(FileSize) FROM [bx_Photos] P WITH (NOLOCK) WHERE P.[UserID] = T.[UserID]), 0),
		ISNULL((SELECT COUNT(*) FROM [bx_Photos] P WITH (NOLOCK) WHERE P.[UserID] = T.[UserID]), 0)
	FROM [INSERTED] T;
	
	UPDATE [bx_UserVars] SET [bx_UserVars].[UsedAlbumSize] = T.[UsedAlbumSize] 
	FROM @TempTable1 AS T 
	WHERE [bx_UserVars].[UserID] = T.[UserID];
	
	UPDATE [bx_Users] SET [bx_Users].[TotalPhotos] = T.[TotalPhotos]
	FROM @TempTable1 T
	WHERE T.[UserID] = [bx_Users].[UserID];
	
	SELECT 'ResetUser' AS XCMD, UserID, TotalPhotos, UsedAlbumSize FROM @TempTable1;

	--更新相册总图片数
	
	DECLARE @TempTable2 table(AlbumID int, TotalPhotos int, UpdateDate datetime DEFAULT(GETDATE()));
	
	INSERT INTO @TempTable2 (AlbumID, TotalPhotos)
	SELECT 
		DISTINCT T.[AlbumID], 
		ISNULL((SELECT COUNT(*) FROM [bx_Photos] P WITH (NOLOCK) WHERE P.[AlbumID] = T.[AlbumID]), 0)
	FROM [INSERTED] T;
	
	UPDATE [bx_Albums] SET [bx_Albums].[TotalPhotos] = T.TotalPhotos, [bx_Albums].[UpdateDate] = T.UpdateDate
	FROM @TempTable2 T
	WHERE [bx_Albums].[AlbumID] = T.[AlbumID];

	--返回结果
	
	SELECT [PhotoID] FROM [INSERTED] ORDER BY [PhotoID] ASC;

	--SELECT 'ResetAlbum' AS XCMD, AlbumID, TotalPhotos FROM @TempTable2;
END


</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_Photos_AfterUpdate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Photos_AfterUpdate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>

CREATE TRIGGER [bx_Photos_AfterUpdate]
	ON [bx_Photos]
	AFTER UPDATE
AS
BEGIN
	SET NOCOUNT ON;
	--如果UserID字段被更改，需要重新统计受影响的用户的TotalPhotos值
	IF UPDATE([UserID]) BEGIN
		DECLARE @tempTable2 table(UserID int, UsedAlbumSize bigint, TotalPhotos int);
		INSERT INTO @tempTable2 (UserID, UsedAlbumSize, TotalPhotos)
			SELECT DISTINCT UserID,
				ISNULL((SELECT SUM(FileSize) FROM [bx_Photos] P WITH (NOLOCK) WHERE P.UserID = T.[UserID]), 0),
				ISNULL((SELECT COUNT(*) FROM [bx_Photos] P WITH (NOLOCK) WHERE P.UserID = T.UserID), 0)
			FROM [INSERTED] T;
		INSERT INTO @tempTable2 (UserID, UsedAlbumSize, TotalPhotos)
			SELECT DISTINCT UserID,
				ISNULL((SELECT SUM(FileSize) FROM [bx_Photos] p WITH (NOLOCK) WHERE p.[UserID] = T.[UserID]), 0),
				ISNULL((SELECT COUNT(*) FROM [bx_Photos] p WITH (NOLOCK) WHERE p.UserID = T.UserID), 0)
			FROM [DELETED] T
			WHERE UserID NOT IN (SELECT UserID FROM @tempTable2);
		
		UPDATE [bx_Users]
			SET
				bx_Users.TotalPhotos = T.TotalPhotos
			FROM @tempTable2 T
			WHERE
				T.UserID = bx_Users.UserID;
		UPDATE [bx_UserVars]
			SET
				bx_UserVars.UsedAlbumSize = T.UsedAlbumSize
			FROM @tempTable2 T
			WHERE
				T.UserID = bx_UserVars.UserID;
		--发出重新填充UserInfo的XCMD命令
		SELECT 'ResetUser' AS XCMD, UserID, TotalPhotos, UsedAlbumSize FROM @tempTable2;

	END


	--如果AlbumID字段被更改，需要重新统计受影响的相册的TotalPhotos值
	IF UPDATE([AlbumID]) BEGIN
		DECLARE @tempTable table(AlbumID int, TotalPhotos int, UpdateDate datetime DEFAULT(GETDATE()));

		INSERT INTO @tempTable (AlbumID, TotalPhotos)
			SELECT DISTINCT AlbumID,
				ISNULL((SELECT COUNT(*) FROM [bx_Photos] as m WITH (NOLOCK) WHERE m.AlbumID = T.AlbumID), 0)
			FROM [INSERTED] T;

		INSERT INTO @tempTable (AlbumID, TotalPhotos)
			SELECT DISTINCT AlbumID,
				ISNULL((SELECT COUNT(*) FROM [bx_Photos] as m WITH (NOLOCK) WHERE m.AlbumID = T.AlbumID), 0)
			FROM [DELETED] T
			WHERE AlbumID NOT IN (SELECT AlbumID FROM @tempTable);
		
		UPDATE [bx_Albums]
			SET
				[bx_Albums].TotalPhotos = T.TotalPhotos,
				[bx_Albums].[UpdateDate] = T.UpdateDate
			FROM @tempTable T
			WHERE
				T.AlbumID = [bx_Albums].AlbumID;
		--SELECT 'ResetAlbum' AS XCMD, AlbumID, TotalPhotos, UpdateDate FROM @TempTable2;
	END
END
</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ChatMessages</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ChatMessages">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>MessageID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="MessageID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TargetUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TargetUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsReceive</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsReceive" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsRead</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsRead" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FromMessageID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FromMessageID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Content</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Content" UserTypeId="231" MaxLength="6000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ChatMessages</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ChatMessages" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">MessageID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>MessageID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="MessageID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_ChatMessages_List</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_ChatMessages_List" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">IsRead</anyType>
                        <anyType xsi:type="xsd:string">MessageID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>IsRead</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="IsRead" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>MessageID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="MessageID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ChatMessages">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ChatMessages</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_ChatMessages_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_ChatMessages_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_ChatMessageReverters</TableName>
                <ForeignKeyName>FK_bx_ChatMessageReverters_MessageID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_ChatMessages_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ChatMessages_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ChatMessages_TargetUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ChatMessages_TargetUserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TargetUserID</ColumnName>
                      <Column Name="TargetUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ChatMessages_IsReceive</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ChatMessages_IsReceive">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsReceive</ColumnName>
                      <Column Name="IsReceive" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ChatMessages_IsRead</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ChatMessages_IsRead">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsRead</ColumnName>
                      <Column Name="IsRead" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ChatMessages_FromMessageID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ChatMessages_FromMessageID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FromMessageID</ColumnName>
                      <Column Name="FromMessageID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ChatMessages_Content</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ChatMessages_Content">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Content</ColumnName>
                      <Column Name="Content" UserTypeId="231" MaxLength="6000" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ChatMessages_KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ChatMessages_KeywordVersion">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>KeywordVersion</ColumnName>
                      <Column Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ChatMessages_CreateIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ChatMessages_CreateIP">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateIP</ColumnName>
                      <Column Name="CreateIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ChatMessages_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ChatMessages_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_ChatMessages_AfterDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_ChatMessages_AfterDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>

CREATE TRIGGER [bx_ChatMessages_AfterDelete]
	ON [bx_ChatMessages]
	AFTER DELETE
AS
BEGIN

	SET NOCOUNT ON;
	
	DECLARE @tempTable table(UserID int, UnreadMessages int);
	INSERT INTO @tempTable 
		SELECT DISTINCT UserID,
			ISNULL((SELECT COUNT(*) FROM [bx_ChatMessages] as m WITH (NOLOCK) WHERE m.UserID = T.UserID AND m.IsRead = 0), 0)
		FROM [DELETED] T;
	
	UPDATE [bx_UserVars]
		SET
			bx_UserVars.UnreadMessages = T.UnreadMessages
		FROM @tempTable T
		WHERE
			T.UserID = bx_UserVars.UserID;

	--发出重新填充UserInfo的XCMD命令
	SELECT 'ResetAuthUser' AS XCMD, UserID, UnreadMessages FROM @tempTable;	

	DECLARE @tempTable2 table(UserID int, TargetUserID int, TotalMessages int, UnreadMessages int);
	INSERT INTO @tempTable2
		SELECT DISTINCT UserID, TargetUserID,
			ISNULL((SELECT COUNT(*) FROM [bx_ChatMessages] as m WITH (NOLOCK) WHERE m.UserID = T.UserID AND m.TargetUserID = T.TargetUserID), 0),
			ISNULL((SELECT COUNT(*) FROM [bx_ChatMessages] as m WITH (NOLOCK) WHERE m.UserID = T.UserID AND m.IsRead = 0), 0)
		FROM [DELETED] T;
	
	UPDATE [bx_ChatSessions]
		SET
			bx_ChatSessions.TotalMessages = T.TotalMessages,
			bx_ChatSessions.UnreadMessages = T.UnreadMessages
		FROM @tempTable2 T
		WHERE
			T.UserID = bx_ChatSessions.UserID
			AND
			T.TargetUserID = bx_ChatSessions.TargetUserID;

END</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_ChatMessages_AfterUpdate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_ChatMessages_AfterUpdate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>

CREATE TRIGGER [bx_ChatMessages_AfterUpdate]
	ON [bx_ChatMessages]
	AFTER UPDATE
AS
BEGIN

	SET NOCOUNT ON;
	
	IF UPDATE(IsRead) BEGIN
	
	DECLARE @tempTable table(UserID int, UnreadMessages int);
	INSERT INTO @tempTable 
		SELECT DISTINCT UserID,
			ISNULL((SELECT COUNT(*) FROM [bx_ChatMessages] as m WITH (NOLOCK) WHERE m.UserID = T.UserID AND m.IsRead = 0), 0)
		FROM [DELETED] T;
	
	UPDATE [bx_UserVars]
		SET
			bx_UserVars.UnreadMessages = T.UnreadMessages
		FROM @tempTable T
		WHERE
			T.UserID = bx_UserVars.UserID;

	--发出重新填充UserInfo的XCMD命令
	SELECT 'ResetAuthUser' AS XCMD, UserID, UnreadMessages FROM @tempTable;	

	DECLARE @tempTable2 table(UserID int, TargetUserID int, TotalMessages int, UnreadMessages int);
	INSERT INTO @tempTable2
		SELECT DISTINCT UserID, TargetUserID,
			ISNULL((SELECT COUNT(*) FROM [bx_ChatMessages] as m WITH (NOLOCK) WHERE m.UserID = T.UserID AND m.TargetUserID = T.TargetUserID), 0),
			ISNULL((SELECT COUNT(*) FROM [bx_ChatMessages] as m WITH (NOLOCK) WHERE m.UserID = T.UserID AND m.TargetUserID = T.TargetUserID AND m.IsRead = 0), 0)
		FROM [DELETED] T;
	
	UPDATE [bx_ChatSessions]
		SET
			bx_ChatSessions.TotalMessages = T.TotalMessages,
			bx_ChatSessions.UnreadMessages = T.UnreadMessages
		FROM @tempTable2 T
		WHERE
			T.UserID = bx_ChatSessions.UserID
			AND
			T.TargetUserID = bx_ChatSessions.TargetUserID;

	END

END


</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_QuestionUsers</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_QuestionUsers">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BestPostIsUseful</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="BestPostIsUseful" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_QuestionUsers_ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_QuestionUsers_ThreadID" PrimaryTableName="bx_Questions" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">ThreadID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_QuestionUsers_BestPostIsUseful</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_QuestionUsers_BestPostIsUseful">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>BestPostIsUseful</ColumnName>
                      <Column Name="BestPostIsUseful" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Files</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Files">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>FileID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FileID" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ServerFilePath</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ServerFilePath" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>(N'')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MD5</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="MD5" UserTypeId="175" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FileSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FileSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Files</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Files" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">FileID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>FileID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="FileID" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                                <DefaultDefinition>('')</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Files_Key</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Files_Key" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">MD5</anyType>
                        <anyType xsi:type="xsd:string">FileSize</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>MD5</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="MD5" UserTypeId="175" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                                <DefaultDefinition>('')</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>FileSize</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="FileSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Files">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Files</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Files_FileID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Files_FileID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FileID</ColumnName>
                      <Column Name="FileID" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Files_ServerFilePath</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Files_ServerFilePath">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ServerFilePath</ColumnName>
                      <Column Name="ServerFilePath" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>(N'')</DefaultDefinition>
                      </Column>
                      <Definition>(N'')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Files_MD5</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Files_MD5">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>MD5</ColumnName>
                      <Column Name="MD5" UserTypeId="175" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Files_FileSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Files_FileSize">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FileSize</ColumnName>
                      <Column Name="FileSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_Files_AfterDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Files_AfterDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>
CREATE TRIGGER bx_Files_AfterDelete  ON [bx_Files]
AFTER DELETE
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO bx_DeletingFiles (ServerFilePath) SELECT ServerFilePath FROM DELETED;
END</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_RecoverPasswordLogs</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_RecoverPasswordLogs">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>Id</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Id" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Successed</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Successed" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Email</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Email" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Serial</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Serial" UserTypeId="167" MaxLength="100" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IP" UserTypeId="167" MaxLength="150" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_RecoverPasswordLogs</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_RecoverPasswordLogs" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">Id</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>Id</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Id" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_RecoverPasswordLogs">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_RecoverPasswordLogs</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_RecoverPasswordLogs_bx_Users</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_RecoverPasswordLogs_bx_Users" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_RecoverPasswordLogs_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_RecoverPasswordLogs_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_RecoverPasswordLogs_Successed</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_RecoverPasswordLogs_Successed">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Successed</ColumnName>
                      <Column Name="Successed" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="true">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UserReverters</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_UserReverters">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SignatureReverter</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SignatureReverter" UserTypeId="231" MaxLength="8000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_UserReverters</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_UserReverters" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_UserReverters">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_UserReverters</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_UserReverters_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_UserReverters_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UserRoles</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_UserRoles">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>RoleID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="RoleID" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BeginDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="BeginDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_UserRoles</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_UserRoles" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">RoleID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>RoleID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="RoleID" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_UserRoles_UserRoles</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_UserRoles_UserRoles" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">RoleID</anyType>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>RoleID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="RoleID" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_UserRoles_EndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_UserRoles_EndDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">EndDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>EndDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_UserRoles">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_UserRoles</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_UserRoles_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_UserRoles_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_UserRoles_AfterDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_UserRoles_AfterDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>


CREATE TRIGGER [bx_UserRoles_AfterDelete]
	ON [bx_UserRoles]
	AFTER DELETE
AS
BEGIN

	SET NOCOUNT ON;

	IF (OBJECT_ID('tempdb..#bx_tmp_usrext') IS NULL) BEGIN
		CREATE TABLE #bx_tmp_usrext ( UserID int, Data ntext DEFAULT('') );
	END
	ELSE BEGIN
		TRUNCATE TABLE #bx_tmp_usrext;
	END

	INSERT INTO #bx_tmp_usrext (UserID) SELECT DISTINCT UserID FROM [DELETED];

	DECLARE @UserID int;
	DECLARE @i int;
	DECLARE @ptr binary(16);

	--以下是处理用户扩展字段的冗余内容

	DECLARE @TotalRoles int;

	DECLARE @userRoles table( ID int IDENTITY(1,1), UserID int, RoleID uniqueidentifier, BeginDate datetime, EndDate datetime );
	INSERT INTO @userRoles SELECT UserID, RoleID, BeginDate, EndDate FROM bx_UserRoles WITH (NOLOCK) WHERE UserID IN (SELECT UserID FROM [DELETED]);

	SET @TotalRoles = @@ROWCOUNT;

	DECLARE
		@RoleIDString varchar(50),
		@BeginDateString varchar(30),
		@EndDateString varchar(30),
		@UserRoleString varchar(100);
	SET @i = 1;
	WHILE (@i &lt;= @TotalRoles) BEGIN
		SELECT @UserID = UserID, @RoleIDString = CONVERT(varchar(50), RoleID), @BeginDateString = CONVERT(varchar(30), BeginDate, 25), @EndDateString = CONVERT(varchar(30), EndDate, 25) FROM @userRoles WHERE ID = @i;
		
		SET @UserRoleString = 'R' + CAST(LEN(@RoleIDString) AS varchar(10))
								+ ',' + CAST(LEN(@BeginDateString) AS varchar(10))
								+ ',' + CAST(LEN(@EndDateString) AS varchar(10))
								+ ':' + @RoleIDString
								+ @BeginDateString
								+ @EndDateString;
		
		SELECT @ptr = textptr(Data) FROM #bx_tmp_usrext WHERE UserID = @UserID;
		UPDATETEXT #bx_tmp_usrext.Data @ptr NULL NULL @UserRoleString;

		SET @i = @i + 1;
	END

	--以下是处理用户扩展字段的冗余内容

	DECLARE @TotalValues int;

	DECLARE @userValues table( ID int IDENTITY(1,1), UserID int, FieldID varchar(36), Value nvarchar(3950),PrivacyType tinyint);
	INSERT INTO @userValues SELECT UserID, ExtendedFieldID AS FieldID, RTRIM(LTRIM(Value)),PrivacyType FROM bx_UserExtendedValues WITH (NOLOCK) WHERE UserID IN (SELECT UserID FROM [DELETED]);

	SET @TotalValues = @@ROWCOUNT;

	DECLARE
		@FieldIDString varchar(36),
		@ValueString nvarchar(3950),
		@PrivacyType varchar(10),
		@UserValueString varchar(4000);
	SET @i = 1;
	WHILE (@i &lt;= @TotalValues) BEGIN
		SELECT @UserID = UserID, @FieldIDString = FieldID, @ValueString = Value ,@PrivacyType = PrivacyType  FROM @userValues WHERE ID = @i;
		
		SET @UserValueString = 'F' + CAST(LEN(@FieldIDString) AS varchar(10))
								+ ',' + CAST(LEN(@ValueString) AS varchar(10))
								+ ',' + CAST(LEN(@PrivacyType) AS varchar(10))
								+ ':' + @FieldIDString
								+ @ValueString
								+ @PrivacyType;

		SELECT @ptr = textptr(Data) FROM #bx_tmp_usrext WHERE UserID = @UserID;
		UPDATETEXT #bx_tmp_usrext.Data @ptr NULL NULL @UserValueString;

		SET @i = @i + 1;
	END

	--以下是处理用户勋章

	DECLARE @TotalMedals int;

	DECLARE @userMedals table( ID int IDENTITY(1,1), UserID int, MedalID int, MedalLevelID int, EndDate datetime, CreateDate datetime, Url nvarchar(200));
	INSERT INTO @userMedals SELECT UserID, MedalID, MedalLevelID, EndDate, CreateDate, ISNULL(Url,'') FROM bx_UserMedals WITH (NOLOCK) WHERE UserID IN (SELECT UserID FROM [DELETED]);

	SET @TotalMedals = @@ROWCOUNT;

	DECLARE
		@MedalIDString varchar(50),
		@MedalLevelIDString varchar(50),
		@CreateDateString varchar(30),
		@Url nvarchar(200),
		@UserMedalString nvarchar(500);
	SET @i = 1;
	WHILE (@i &lt;= @TotalMedals) BEGIN
		SELECT @UserID = UserID, @MedalIDString = CONVERT(varchar(50), MedalID), @MedalLevelIDString = CONVERT(varchar(50), MedalLevelID), @EndDateString = CONVERT(varchar(30), EndDate, 25), @CreateDateString = CONVERT(varchar(30), CreateDate, 25),@Url = Url FROM @userMedals WHERE ID = @i;
		
		SET @UserMedalString = 'M' + CAST(LEN(@MedalIDString) AS varchar(10))
								+ ',' + CAST(LEN(@MedalLevelIDString) AS varchar(10))
								+ ',' + CAST(LEN(@EndDateString) AS varchar(10))
								+ ',' + CAST(LEN(@CreateDateString) AS varchar(10))
								+','  + CAST(LEN(@Url) AS varchar(10))
								+ ':' + @MedalIDString
								+ @MedalLevelIDString
								+ @EndDateString
								+ @CreateDateString
								+ @Url;
		
		SELECT @ptr = textptr(Data) FROM #bx_tmp_usrext WHERE UserID = @UserID;
		UPDATETEXT #bx_tmp_usrext.Data @ptr NULL NULL @UserMedalString;

		SET @i = @i + 1;
	END




	UPDATE bx_Users
	   SET ExtendedData = T.Data
	   FROM #bx_tmp_usrext T
	   WHERE T.UserID = bx_Users.UserID;

END</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_UserRoles_AfterUpdate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_UserRoles_AfterUpdate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>


CREATE TRIGGER [bx_UserRoles_AfterUpdate]
	ON [bx_UserRoles]
	AFTER INSERT, UPDATE
AS
BEGIN

	SET NOCOUNT ON;

	IF (OBJECT_ID('tempdb..#bx_tmp_usrext') IS NULL) BEGIN
		CREATE TABLE #bx_tmp_usrext ( UserID int, Data ntext DEFAULT('') );
	END
	ELSE BEGIN
		TRUNCATE TABLE #bx_tmp_usrext;
	END

	INSERT INTO #bx_tmp_usrext (UserID) SELECT DISTINCT UserID FROM [INSERTED];

	DECLARE @UserID int;
	DECLARE @i int;
	DECLARE @ptr binary(16);

	--以下是处理用户扩展字段的冗余内容

	DECLARE @TotalRoles int;

	DECLARE @userRoles table( ID int IDENTITY(1,1), UserID int, RoleID uniqueidentifier, BeginDate datetime, EndDate datetime );
	INSERT INTO @userRoles SELECT UserID, RoleID, BeginDate, EndDate FROM bx_UserRoles WITH (NOLOCK) WHERE UserID IN (SELECT UserID FROM [INSERTED]);

	SET @TotalRoles = @@ROWCOUNT;

	DECLARE
		@RoleIDString varchar(50),
		@BeginDateString varchar(30),
		@EndDateString varchar(30),
		@UserRoleString varchar(100);
	SET @i = 1;
	WHILE (@i &lt;= @TotalRoles) BEGIN
		SELECT @UserID = UserID, @RoleIDString = CONVERT(varchar(50), RoleID), @BeginDateString = CONVERT(varchar(30), BeginDate, 25), @EndDateString = CONVERT(varchar(30), EndDate, 25) FROM @userRoles WHERE ID = @i;
		
		SET @UserRoleString = 'R' + CAST(LEN(@RoleIDString) AS varchar(10))
								+ ',' + CAST(LEN(@BeginDateString) AS varchar(10))
								+ ',' + CAST(LEN(@EndDateString) AS varchar(10))
								+ ':' + @RoleIDString
								+ @BeginDateString
								+ @EndDateString;
		
		SELECT @ptr = textptr(Data) FROM #bx_tmp_usrext WHERE UserID = @UserID;
		UPDATETEXT #bx_tmp_usrext.Data @ptr NULL NULL @UserRoleString;

		SET @i = @i + 1;
	END

	--以下是处理用户扩展字段的冗余内容

	DECLARE @TotalValues int;

	DECLARE @userValues table( ID int IDENTITY(1,1), UserID int, FieldID varchar(36), Value nvarchar(3950),PrivacyType tinyint);
	INSERT INTO @userValues SELECT UserID, ExtendedFieldID AS FieldID, RTRIM(LTRIM(Value)),PrivacyType FROM bx_UserExtendedValues WITH (NOLOCK) WHERE UserID IN (SELECT UserID FROM [INSERTED]);

	SET @TotalValues = @@ROWCOUNT;

	DECLARE
		@FieldIDString varchar(36),
		@ValueString nvarchar(3950),
		@PrivacyType varchar(10),
		@UserValueString varchar(4000);
	SET @i = 1;
	WHILE (@i &lt;= @TotalValues) BEGIN
		SELECT @UserID = UserID, @FieldIDString = FieldID, @ValueString = Value ,@PrivacyType = PrivacyType  FROM @userValues WHERE ID = @i;
		
		SET @UserValueString = 'F' + CAST(LEN(@FieldIDString) AS varchar(10))
								+ ',' + CAST(LEN(@ValueString) AS varchar(10))
								+ ',' + CAST(LEN(@PrivacyType) AS varchar(10))
								+ ':' + @FieldIDString
								+ @ValueString
								+ @PrivacyType;

		SELECT @ptr = textptr(Data) FROM #bx_tmp_usrext WHERE UserID = @UserID;
		UPDATETEXT #bx_tmp_usrext.Data @ptr NULL NULL @UserValueString;

		SET @i = @i + 1;
	END

	--以下是处理用户勋章

	DECLARE @TotalMedals int;

	DECLARE @userMedals table( ID int IDENTITY(1,1), UserID int, MedalID int, MedalLevelID int, EndDate datetime, CreateDate datetime, Url nvarchar(200));
	INSERT INTO @userMedals SELECT UserID, MedalID, MedalLevelID, EndDate, CreateDate, ISNULL(Url,'') FROM bx_UserMedals WITH (NOLOCK) WHERE UserID IN (SELECT UserID FROM [INSERTED]);

	SET @TotalMedals = @@ROWCOUNT;

	DECLARE
		@MedalIDString varchar(50),
		@MedalLevelIDString varchar(50),
		@CreateDateString varchar(30),
		@Url nvarchar(200),
		@UserMedalString nvarchar(500);
	SET @i = 1;
	WHILE (@i &lt;= @TotalMedals) BEGIN
		SELECT @UserID = UserID, @MedalIDString = CONVERT(varchar(50), MedalID), @MedalLevelIDString = CONVERT(varchar(50), MedalLevelID), @EndDateString = CONVERT(varchar(30), EndDate, 25), @CreateDateString = CONVERT(varchar(30), CreateDate, 25),@Url = Url FROM @userMedals WHERE ID = @i;
		
		SET @UserMedalString = 'M' + CAST(LEN(@MedalIDString) AS varchar(10))
								+ ',' + CAST(LEN(@MedalLevelIDString) AS varchar(10))
								+ ',' + CAST(LEN(@EndDateString) AS varchar(10))
								+ ',' + CAST(LEN(@CreateDateString) AS varchar(10))
								+','  + CAST(LEN(@Url) AS varchar(10))
								+ ':' + @MedalIDString
								+ @MedalLevelIDString
								+ @EndDateString
								+ @CreateDateString
								+ @Url;
		
		SELECT @ptr = textptr(Data) FROM #bx_tmp_usrext WHERE UserID = @UserID;
		UPDATETEXT #bx_tmp_usrext.Data @ptr NULL NULL @UserMedalString;

		SET @i = @i + 1;
	END




	UPDATE bx_Users
	   SET ExtendedData = T.Data
	   FROM #bx_tmp_usrext T
	   WHERE T.UserID = bx_Users.UserID;

END</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Roles</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Roles">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>RoleID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="RoleID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>100</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Name" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                      <DefaultDefinition>(N'')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Title</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Title" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                      <DefaultDefinition>(N'')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Color</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Color" UserTypeId="167" MaxLength="10" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                      <DefaultDefinition>('#000000')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IconUrl</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IconUrl" UserTypeId="167" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CS_AS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>RoleType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="RoleType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Level</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Level" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>StarLevel</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="StarLevel" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>RequiredPoint</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="RequiredPoint" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateTime" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_RoleGroup_RoleID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_RoleGroup_RoleID" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">RoleID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>RoleID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="RoleID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>100</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Roles</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Roles" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">RoleID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>RoleID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="RoleID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>100</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_RoleGroup_RoleID">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_RoleGroup_RoleID</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_RoleGroup_Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_RoleGroup_Name">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Name</ColumnName>
                      <Column Name="Name" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CS_AS</Collation>
                        <DefaultDefinition>(N'')</DefaultDefinition>
                      </Column>
                      <Definition>(N'')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_RoleGroup_Title</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_RoleGroup_Title">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Title</ColumnName>
                      <Column Name="Title" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CS_AS</Collation>
                        <DefaultDefinition>(N'')</DefaultDefinition>
                      </Column>
                      <Definition>(N'')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_RoleGroup_Color</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_RoleGroup_Color">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Color</ColumnName>
                      <Column Name="Color" UserTypeId="167" MaxLength="10" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CS_AS</Collation>
                        <DefaultDefinition>('#000000')</DefaultDefinition>
                      </Column>
                      <Definition>('#000000')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_RoleGroup_IconUrl</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_RoleGroup_IconUrl">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IconUrl</ColumnName>
                      <Column Name="IconUrl" UserTypeId="167" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CS_AS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_RoleGroup_RoleType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_RoleGroup_RoleType">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>RoleType</ColumnName>
                      <Column Name="RoleType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_RoleGroup_Level</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_RoleGroup_Level">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Level</ColumnName>
                      <Column Name="Level" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_RoleGroup_StarLevel</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_RoleGroup_StarLevel">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>StarLevel</ColumnName>
                      <Column Name="StarLevel" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_RoleGroup_UserCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_RoleGroup_UserCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserCount</ColumnName>
                      <Column Name="UserCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_RoleGroup_RequiredPoint</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_RoleGroup_RequiredPoint">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>RequiredPoint</ColumnName>
                      <Column Name="RequiredPoint" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_RoleGroup_CreateTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_RoleGroup_CreateTime">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateTime</ColumnName>
                      <Column Name="CreateTime" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Forums</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Forums">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_BanUserViewLogs</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ForumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ParentID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ParentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ClubID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ClubID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ForumType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ForumType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ForumStatus</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ForumStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThreadCatalogStatus</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThreadCatalogStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(2)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>VisitPaths</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="VisitPaths" UserTypeId="231" MaxLength="4000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CodeName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CodeName" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ForumName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ForumName" UserTypeId="231" MaxLength="1000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Description" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Readme</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Readme" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LogoSrc</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LogoSrc" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThemeID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ThemeID" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ColumnSpan</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ColumnSpan" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalThreads</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalThreads" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TodayThreads</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TodayThreads" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TodayPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TodayPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>YestodayLastThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="YestodayLastThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>YestodayLastPostID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="YestodayLastPostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Password</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Password" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExtendedAttributes</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ExtendedAttributes" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Forms</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Forms" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ForumID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ForumID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Forums_CodeName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Forums_CodeName" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CodeName</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CodeName</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CodeName" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                                <DefaultDefinition>('')</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Forums_SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Forums_SortOrder" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ParentID</anyType>
                        <anyType xsi:type="xsd:string">SortOrder</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ParentID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ParentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>SortOrder</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Forms">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Forms</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Moderators</TableName>
                <ForeignKeyName>FK_bx_Moderators_bx_Forums</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_StickThreads</TableName>
                <ForeignKeyName>FK_bx_StickThreads_ForumID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_ThreadCatalogsInForums</TableName>
                <ForeignKeyName>FK_bx_ThreadCatalogsInForums_ForumID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Threads</TableName>
                <ForeignKeyName>FK_bx_Threads_ForumID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Forums_ClubID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Forums_ClubID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ClubID</ColumnName>
                      <Column Name="ClubID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Forums_ForumStatus</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Forums_ForumStatus">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ForumStatus</ColumnName>
                      <Column Name="ForumStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Forums_ThreadCatalogStatus</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Forums_ThreadCatalogStatus">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ThreadCatalogStatus</ColumnName>
                      <Column Name="ThreadCatalogStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(2)</DefaultDefinition>
                      </Column>
                      <Definition>(2)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Forums_VisitPaths</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Forums_VisitPaths">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>VisitPaths</ColumnName>
                      <Column Name="VisitPaths" UserTypeId="231" MaxLength="4000" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Forums_CodeName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Forums_CodeName">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CodeName</ColumnName>
                      <Column Name="CodeName" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Forums_LogoSrc</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Forums_LogoSrc">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LogoSrc</ColumnName>
                      <Column Name="LogoSrc" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Forums_ThemeID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Forums_ThemeID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ThemeID</ColumnName>
                      <Column Name="ThemeID" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Forums_ColumnSpan</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Forums_ColumnSpan">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ColumnSpan</ColumnName>
                      <Column Name="ColumnSpan" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Forums_ThreadCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Forums_ThreadCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalThreads</ColumnName>
                      <Column Name="TotalThreads" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Forums_PostCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Forums_PostCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalPosts</ColumnName>
                      <Column Name="TotalPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Forums_TodayThreadCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Forums_TodayThreadCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TodayThreads</ColumnName>
                      <Column Name="TodayThreads" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Forums_TodayPostCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Forums_TodayPostCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TodayPosts</ColumnName>
                      <Column Name="TodayPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Forums_LastPostID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Forums_LastPostID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastThreadID</ColumnName>
                      <Column Name="LastThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Forums_YestodayLastThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Forums_YestodayLastThreadID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>YestodayLastThreadID</ColumnName>
                      <Column Name="YestodayLastThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Forums_YestodayLastPostID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Forums_YestodayLastPostID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>YestodayLastPostID</ColumnName>
                      <Column Name="YestodayLastPostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Forums_Password</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Forums_Password">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Password</ColumnName>
                      <Column Name="Password" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Forums_SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Forums_SortOrder">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SortOrder</ColumnName>
                      <Column Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_Forum_AftertDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Forum_AftertDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>

CREATE TRIGGER [bx_Forum_AftertDelete] ON [bx_Forums] 
FOR   DELETE 
AS
BEGIN
DELETE FROM bx_BannedUsers WHERE ForumID IN (SELECT ForumID FROM DELETED);
END
</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Users</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_Users">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_AuthUsers</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_Members</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_SimpleUser</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_UserEmoticonInfo</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_UserTempAvatar</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_UserTempRealname</Name>
              </anyType>
            </OutObjectInfos>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Username</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Username" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Realname</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Realname" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Email</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Email" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EmailValidated</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="EmailValidated" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PublicEmail</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="PublicEmail" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SpaceTheme</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SpaceTheme" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Doing</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Doing" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DoingDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DoingDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>('1753-1-1')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AvatarSrc</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="AvatarSrc" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Gender</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Gender" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Signature</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Signature" UserTypeId="231" MaxLength="3000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SignatureFormat</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SignatureFormat" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FriendGroups</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="FriendGroups" UserTypeId="231" MaxLength="1000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastVisitIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastVisitIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastVisitDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastVisitDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastPostDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastPostDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>('1753-1-1')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SpaceViews</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SpaceViews" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LoginCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LoginCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsActive</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IsActive" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Points</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Points" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_1</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Point_1" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_2</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Point_2" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_3</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Point_3" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_4</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Point_4" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_5</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Point_5" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_6</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Point_6" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_7</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Point_7" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_8</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Point_8" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalInvite</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalInvite" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalTopics</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalTopics" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>WeekPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="WeekPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DayPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DayPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MonthPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="MonthPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalComments</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalComments" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalShares</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalShares" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalCollections</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalCollections" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ValuedTopics</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ValuedTopics" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DeletedTopics</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DeletedTopics" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DeletedReplies</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DeletedReplies" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalBlogArticles</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalBlogArticles" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalAlbums</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalAlbums" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalPhotos</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalPhotos" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalDoings</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalDoings" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MonthOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="MonthOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>WeekOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="WeekOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DayOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="DayOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExtendedData</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ExtendedData" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExtendedFieldVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ExtendedFieldVersion" UserTypeId="239" MaxLength="72" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserInfo</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserInfo" UserTypeId="167" MaxLength="800" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MobilePhone</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="MobilePhone" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_Users</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_Users" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Users_Username</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Users_Username" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">Username</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>Username</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Username" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Users_Email</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Users_Email" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">Email</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>Email</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Email" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                                <DefaultDefinition>('')</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Users_SpaceViews</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Users_SpaceViews" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">SpaceViews</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>SpaceViews</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="SpaceViews" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Users_Points</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Users_Points" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">Points</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>Points</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="Points" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Users_CreateIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Users_CreateIP" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CreateIP</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CreateIP</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CreateIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Collation>Chinese_PRC_CI_AS_WS</Collation>
                                <DefaultDefinition>('')</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Users_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Users_CreateDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CreateDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CreateDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Users_WeekOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Users_WeekOnlineTime" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">WeekOnlineTime</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>WeekOnlineTime</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="WeekOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Users_DayOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Users_DayOnlineTime" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">DayOnlineTime</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>DayOnlineTime</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="DayOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Users_MonthOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Users_MonthOnlineTime" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">MonthOnlineTime</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>MonthOnlineTime</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="MonthOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Users_WeekPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Users_WeekPosts" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">WeekPosts</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>WeekPosts</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="WeekPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Users_DayPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Users_DayPosts" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">DayPosts</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>DayPosts</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="DayPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Users_MonthPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Users_MonthPosts" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">MonthPosts</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>MonthPosts</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="MonthPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Users_LastVisitDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Users_LastVisitDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">LastVisitDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>LastVisitDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="LastVisitDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_Users_LastPostDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_Users_LastPostDate" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">LastPostDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>LastPostDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="LastPostDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>('1753-1-1')</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_Users">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_Users</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_AdminSessions</TableName>
                <ForeignKeyName>FK_bx_AdminSessions_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Albums</TableName>
                <ForeignKeyName>FK_bx_Albums_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_AuthenticUsers</TableName>
                <ForeignKeyName>FK_bx_AuthenticUsers_bx_Users</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_BannedUsers</TableName>
                <ForeignKeyName>FK_bx_BannedUsers_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_BlogArticleVisitors</TableName>
                <ForeignKeyName>FK_bx_BlogArticleVisitors_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_BlogCategories</TableName>
                <ForeignKeyName>FK_bx_BlogCategories_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_ChatMessages</TableName>
                <ForeignKeyName>FK_bx_ChatMessages_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_ChatSessions</TableName>
                <ForeignKeyName>FK_bx_ChatSessions_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_ClubMembers</TableName>
                <ForeignKeyName>FK_bx_ClubMembers_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Comments</TableName>
                <ForeignKeyName>FK_bx_Comments_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_DiskDirectories</TableName>
                <ForeignKeyName>FK_bx_DiskDirectories_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Doings</TableName>
                <ForeignKeyName>FK_bx_Doings_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_EmoticonGroups</TableName>
                <ForeignKeyName>FK_bx_EmoticonGroup_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_FeedFilters</TableName>
                <ForeignKeyName>FK_bx_FeedFilters_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_FriendGroups</TableName>
                <ForeignKeyName>FK_bx_FriendGroups_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_ImpressionRecords</TableName>
                <ForeignKeyName>FK_bx_ImpressionRecords_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Impressions</TableName>
                <ForeignKeyName>FK_bx_Impressions_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_InviteSerials</TableName>
                <ForeignKeyName>FK_bx_InviteSerials_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Moderators</TableName>
                <ForeignKeyName>FK_bx_Moderators_bx_Users</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Notify</TableName>
                <ForeignKeyName>FK_bx_Notify_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Pay</TableName>
                <ForeignKeyName>FK_bx_Pay_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_PointLogs</TableName>
                <ForeignKeyName>FK_bx_PointLogs_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_PointShows</TableName>
                <ForeignKeyName>FK_bx_PointShows_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_PostLoveHates</TableName>
                <ForeignKeyName>FK_bx_PostLoveHates_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_PropLogs</TableName>
                <ForeignKeyName>FK_bx_PropLogs_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_RecoverPasswordLogs</TableName>
                <ForeignKeyName>FK_bx_RecoverPasswordLogs_bx_Users</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Serials</TableName>
                <ForeignKeyName>FK_bx_Serials_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_SmsCodes</TableName>
                <ForeignKeyName>FK_bx_SmsCodes_bx_Users</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_TempUploadFiles</TableName>
                <ForeignKeyName>FK_bx_TempUploadFiles_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_UnreadNotifies</TableName>
                <ForeignKeyName>FK_bx_UnreadNotifies_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_UserExtendedValues</TableName>
                <ForeignKeyName>FK_bx_UserExtendedValues_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_UserInfos</TableName>
                <ForeignKeyName>FK_bx_UserInfos_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_UserMedals</TableName>
                <ForeignKeyName>FK_bx_UserMedals_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_UserMissions</TableName>
                <ForeignKeyName>FK_bx_UserMissions_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_UserNoAddFeedApps</TableName>
                <ForeignKeyName>FK_bx_UserNoAddFeedApps_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_UserProps</TableName>
                <ForeignKeyName>FK_bx_UserProps_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_UserReverters</TableName>
                <ForeignKeyName>FK_bx_UserReverters_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_UserRoles</TableName>
                <ForeignKeyName>FK_bx_UserRoles_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_UserShares</TableName>
                <ForeignKeyName>FK_bx_UserShares_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_UsersInRoles</TableName>
                <ForeignKeyName>FK_bx_UsersInRoles_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_UserTempData</TableName>
                <ForeignKeyName>FK_bx_UserTempData_bx_Users</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_UserVars</TableName>
                <ForeignKeyName>FK_bx_UserVars_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Visitors</TableName>
                <ForeignKeyName>FK_bx_Visitors_UserID</ForeignKeyName>
              </anyType>
              <anyType xsi:type="DbForeignKeyInfo">
                <TableName>bx_Visitors</TableName>
                <ForeignKeyName>FK_bx_Visitors_VisitorUserID</ForeignKeyName>
              </anyType>
            </OutForeignKeyInfos>
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_Users_Realname</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_Realname">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Realname</ColumnName>
                      <Column Name="Realname" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_Email</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_Email">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Email</ColumnName>
                      <Column Name="Email" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_EmailValidated</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_EmailValidated">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>EmailValidated</ColumnName>
                      <Column Name="EmailValidated" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_PublicEmail</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_PublicEmail">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>PublicEmail</ColumnName>
                      <Column Name="PublicEmail" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_SpaceTheme</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_SpaceTheme">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SpaceTheme</ColumnName>
                      <Column Name="SpaceTheme" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_Doing</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_Doing">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Doing</ColumnName>
                      <Column Name="Doing" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_DoingDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_DoingDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>DoingDate</ColumnName>
                      <Column Name="DoingDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>('1753-1-1')</DefaultDefinition>
                      </Column>
                      <Definition>('1753-1-1')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_AvatarSrc</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_AvatarSrc">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>AvatarSrc</ColumnName>
                      <Column Name="AvatarSrc" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_Gender</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_Gender">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Gender</ColumnName>
                      <Column Name="Gender" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_Signature</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_Signature">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Signature</ColumnName>
                      <Column Name="Signature" UserTypeId="231" MaxLength="3000" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_SignatureFormat</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_SignatureFormat">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SignatureFormat</ColumnName>
                      <Column Name="SignatureFormat" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_FriendGroups</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_FriendGroups">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>FriendGroups</ColumnName>
                      <Column Name="FriendGroups" UserTypeId="231" MaxLength="1000" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_CreateIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_CreateIP">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateIP</ColumnName>
                      <Column Name="CreateIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_LastVisitIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_LastVisitIP">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastVisitIP</ColumnName>
                      <Column Name="LastVisitIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_LastVisitDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_LastVisitDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastVisitDate</ColumnName>
                      <Column Name="LastVisitDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_LastPostDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_LastPostDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastPostDate</ColumnName>
                      <Column Name="LastPostDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>('1753-1-1')</DefaultDefinition>
                      </Column>
                      <Definition>('1753-1-1')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_UpdateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UpdateDate</ColumnName>
                      <Column Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_SpaceViews</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_SpaceViews">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SpaceViews</ColumnName>
                      <Column Name="SpaceViews" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_LoginCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_LoginCount">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LoginCount</ColumnName>
                      <Column Name="LoginCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_IsActive</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_IsActive">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IsActive</ColumnName>
                      <Column Name="IsActive" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_Points</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_Points">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Points</ColumnName>
                      <Column Name="Points" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_Point_1</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_Point_1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Point_1</ColumnName>
                      <Column Name="Point_1" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_Point_2</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_Point_2">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Point_2</ColumnName>
                      <Column Name="Point_2" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_Point_3</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_Point_3">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Point_3</ColumnName>
                      <Column Name="Point_3" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_Point_4</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_Point_4">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Point_4</ColumnName>
                      <Column Name="Point_4" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_Point_5</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_Point_5">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Point_5</ColumnName>
                      <Column Name="Point_5" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_Point_6</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_Point_6">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Point_6</ColumnName>
                      <Column Name="Point_6" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_Point_7</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_Point_7">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Point_7</ColumnName>
                      <Column Name="Point_7" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_Point_8</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_Point_8">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Point_8</ColumnName>
                      <Column Name="Point_8" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_TotalInvite</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_TotalInvite">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalInvite</ColumnName>
                      <Column Name="TotalInvite" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_TotalTopics</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_TotalTopics">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalTopics</ColumnName>
                      <Column Name="TotalTopics" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_TotalPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_TotalPosts">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalPosts</ColumnName>
                      <Column Name="TotalPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_WeekPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_WeekPosts">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>WeekPosts</ColumnName>
                      <Column Name="WeekPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_DayPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_DayPosts">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>DayPosts</ColumnName>
                      <Column Name="DayPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_MonthPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_MonthPosts">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>MonthPosts</ColumnName>
                      <Column Name="MonthPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_TotalComments</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_TotalComments">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalComments</ColumnName>
                      <Column Name="TotalComments" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_TotalShares</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_TotalShares">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalShares</ColumnName>
                      <Column Name="TotalShares" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_TotalCollections</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_TotalCollections">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalCollections</ColumnName>
                      <Column Name="TotalCollections" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_ValuedTopics</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_ValuedTopics">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ValuedTopics</ColumnName>
                      <Column Name="ValuedTopics" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_DeletedTopics</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_DeletedTopics">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>DeletedTopics</ColumnName>
                      <Column Name="DeletedTopics" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_DeletedReplies</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_DeletedReplies">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>DeletedReplies</ColumnName>
                      <Column Name="DeletedReplies" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_TotalBlogArticles</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_TotalBlogArticles">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalBlogArticles</ColumnName>
                      <Column Name="TotalBlogArticles" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_TotalAlbums</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_TotalAlbums">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalAlbums</ColumnName>
                      <Column Name="TotalAlbums" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_TotalPhotos</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_TotalPhotos">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalPhotos</ColumnName>
                      <Column Name="TotalPhotos" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_TotalDoings</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_TotalDoings">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalDoings</ColumnName>
                      <Column Name="TotalDoings" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_TotalOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_TotalOnlineTime">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalOnlineTime</ColumnName>
                      <Column Name="TotalOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_MonthOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_MonthOnlineTime">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>MonthOnlineTime</ColumnName>
                      <Column Name="MonthOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_WeekOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_WeekOnlineTime">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>WeekOnlineTime</ColumnName>
                      <Column Name="WeekOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_DayOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_DayOnlineTime">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>DayOnlineTime</ColumnName>
                      <Column Name="DayOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_ExtendedData</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_ExtendedData">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ExtendedData</ColumnName>
                      <Column Name="ExtendedData" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_ExtendedFieldVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_ExtendedFieldVersion">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>ExtendedFieldVersion</ColumnName>
                      <Column Name="ExtendedFieldVersion" UserTypeId="239" MaxLength="72" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_UserInfo</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_UserInfo">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserInfo</ColumnName>
                      <Column Name="UserInfo" UserTypeId="167" MaxLength="800" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_KeywordVersion">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>KeywordVersion</ColumnName>
                      <Column Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_Users_MobilePhone</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_Users_MobilePhone">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>MobilePhone</ColumnName>
                      <Column Name="MobilePhone" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_Users_AfterInsert</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Users_AfterInsert">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>


CREATE TRIGGER [bx_Users_AfterInsert]
	ON [bx_Users]
	AFTER INSERT
AS
BEGIN


	SET NOCOUNT ON;
	
	DECLARE @NewUserID int, @NewUsername nvarchar(50), @Count int;
	
	SELECT @Count = Count(*) FROM [INSERTED] WHERE [IsActive] = 1 AND [UserID] &lt;&gt; 0;
	
	IF @Count = 0
		RETURN;
		
	SELECT TOP 1 @NewUserID = UserID, @NewUsername = Username FROM [INSERTED] WHERE [IsActive] = 1 ORDER BY [UserID] DESC; 

	UPDATE [bx_Vars] SET  NewUserID = @NewUserID, NewUsername = @NewUsername, TotalUsers = TotalUsers + @Count;
	
	IF @@ROWCOUNT = 0 BEGIN
		DECLARE @TotalUsers int;
		SELECT @TotalUsers = COUNT(*) FROM [bx_Users] WITH (NOLOCK) WHERE [IsActive] = 1 AND [UserID]&lt;&gt;0;
		INSERT [bx_Vars] (NewUserID, NewUsername, TotalUsers) VALUES (@NewUserID, @NewUsername, @TotalUsers);
	END
	
	SELECT 'ResetVars' AS XCMD;
	
END


</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_Users_Exp_AfterUpdate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Users_Exp_AfterUpdate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>


CREATE TRIGGER [bx_Users_Exp_AfterUpdate]
	ON [bx_Users]
	AFTER UPDATE
AS
BEGIN
	-- 注意  修改以下  内容要相应修改 UserDao.cs 里的 UpdatePointsExpression(string expression)

	SET NOCOUNT ON;

	/* 如果是更新积分 不在这里更新总积分
	IF (UPDATE ([Point_1]) OR UPDATE ([Point_2])) BEGIN
		DECLARE @MaxValue int;
		SET @MaxValue = 2147483647;
		SET ARITHABORT OFF;
		SET ANSI_WARNINGS OFF;
		
		UPDATE bx_Users SET Points = ISNULL([Point_1]+[Point_2]*10,@MaxValue) WHERE [UserID] IN(SELECT DISTINCT [UserID] FROM [INSERTED]);
	END
	*/
	
	IF (UPDATE([IsActive])) BEGIN
			DECLARE @NewUserID int,@NewUsername nvarchar(50),@DeletedCount int,@InsertCount int;
			
			SELECT @InsertCount=COUNT(*) FROM [INSERTED] WHERE [IsActive]=1;
			SELECT @DeletedCount=COUNT(*) FROM [DELETED] WHERE [IsActive]=1;
			
			SELECT TOP 1 @NewUserID = UserID,@NewUsername = Username FROM [bx_Users] WITH (NOLOCK) WHERE [IsActive] = 1 ORDER BY [UserID] DESC;
			
			UPDATE [bx_Vars] SET  NewUserID = @NewUserID, NewUsername = @NewUsername, TotalUsers = TotalUsers + @InsertCount - @DeletedCount WHERE [ID]=(SELECT TOP 1 ID FROM [bx_Vars]);

			IF @@ROWCOUNT = 0 BEGIN
				DECLARE @TotalUsers int;
				SELECT @TotalUsers = COUNT(*) FROM [bx_Users] WITH (NOLOCK) WHERE [IsActive] = 1 AND [UserID]&lt;&gt;0;
				INSERT [bx_Vars] (NewUserID,NewUsername,TotalUsers)VALUES(@NewUserID,@NewUsername,@TotalUsers);
			END
			
			SELECT 'ResetVars' AS XCMD;
	END
	
END


</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>bx_Users_InsteadOfDelete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_Users_InsteadOfDelete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>


CREATE TRIGGER [bx_Users_InsteadOfDelete]
	ON [bx_Users]
	INSTEAD OF DELETE
AS
BEGIN
	SET NOCOUNT ON;
	DELETE [bx_Users] WHERE [UserID] IN (SELECT [UserID] FROM [DELETED]);
	
	
	DELETE bx_Denouncings WHERE Type=4 AND TargetID IN (SELECT [UserID] FROM [DELETED]);
	
END</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ADCategory</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ADCategory">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>CategoryID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CategoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CategoryName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CategoryName" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Description" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ShowInForum</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ShowInForum" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CommomPages</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CommomPages" UserTypeId="167" MaxLength="500" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ADCategory</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ADCategory" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">CategoryID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>CategoryID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="CategoryID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ADCategory">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ADCategory</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance />
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance />
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ChatSessions</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_ChatSessions">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ChatSessionID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="ChatSessionID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Identity>
                        <SeedValue>1</SeedValue>
                        <IncrementValue>1</IncrementValue>
                      </Identity>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TargetUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TargetUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalMessages</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="TotalMessages" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UnreadMessages</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UnreadMessages" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(0)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastMessage</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="LastMessage" UserTypeId="231" MaxLength="6000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>(N'')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_ChatSessions</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_ChatSessions" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">ChatSessionID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>ChatSessionID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="ChatSessionID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <Identity>
                                  <SeedValue>1</SeedValue>
                                  <IncrementValue>1</IncrementValue>
                                </Identity>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_ChatSessions_List</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_ChatSessions_List" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">UpdateDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>UpdateDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_ChatSessions_Unread</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_ChatSessions_Unread" TypeId="0" IsUnique="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">UnreadMessages</anyType>
                        <anyType xsi:type="xsd:string">UpdateDate</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>UnreadMessages</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UnreadMessages" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>UpdateDate</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(getdate())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IX_bx_ChatSessions_User</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="IX_bx_ChatSessions_User" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>false</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>false</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                        <anyType xsi:type="xsd:string">TargetUserID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>UserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                          <item>
                            <key>
                              <string>TargetUserID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="TargetUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(0)</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_ChatSessions">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_ChatSessions</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_ChatSessions_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_ChatSessions_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="1">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_ChatSessions_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ChatSessions_UserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UserID</ColumnName>
                      <Column Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ChatSessions_TargetUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ChatSessions_TargetUserID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TargetUserID</ColumnName>
                      <Column Name="TargetUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ChatSessions_TotalMessages</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ChatSessions_TotalMessages">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>TotalMessages</ColumnName>
                      <Column Name="TotalMessages" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ChatSessions_UnreadMessages</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ChatSessions_UnreadMessages">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UnreadMessages</ColumnName>
                      <Column Name="UnreadMessages" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(0)</DefaultDefinition>
                      </Column>
                      <Definition>(0)</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ChatSessions_LastMessage</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ChatSessions_LastMessage">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>LastMessage</ColumnName>
                      <Column Name="LastMessage" UserTypeId="231" MaxLength="6000" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>(N'')</DefaultDefinition>
                      </Column>
                      <Definition>(N'')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ChatSessions_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ChatSessions_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_ChatSessions_UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_ChatSessions_UpdateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UpdateDate</ColumnName>
                      <Column Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance>
                <item>
                  <key>
                    <string>bx_ChatSessions_After_Delete</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableTrigger" Name="bx_ChatSessions_After_Delete">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Definition>


CREATE TRIGGER bx_ChatSessions_After_Delete ON bx_ChatSessions
FOR DELETE 
AS 
SET NOCOUNT ON;

DELETE FROM  bx_ChatMessages  FROM( SELECT * FROM DELETED) as t  WHERE bx_ChatMessages.UserID =t.UserID AND bx_ChatMessages.TargetUserID = t.TargetUserID


</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_AdminSessions</string>
        </key>
        <value>
          <DbObject xsi:type="DbTable" Name="bx_AdminSessions">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>SessionID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="SessionID" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(newid())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IpAddress</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="IpAddress" UserTypeId="167" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <Collation>Chinese_PRC_CI_AS_WS</Collation>
                      <DefaultDefinition>('')</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(getdate())</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Available</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableColumn" Name="Available" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <DefaultDefinition>(1)</DefaultDefinition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance>
                <item>
                  <key>
                    <string>PK_bx_AdminSessions</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbTableIndex" Name="PK_bx_AdminSessions" TypeId="0" IsUnique="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsClustered>true</IsClustered>
                      <IsFulltextKey>false</IsFulltextKey>
                      <IsPrimaryKey>true</IsPrimaryKey>
                      <IsUniqueConstraint>false</IsUniqueConstraint>
                      <ColumnNames>
                        <anyType xsi:type="xsd:string">SessionID</anyType>
                      </ColumnNames>
                      <Columns>
                        <Instance>
                          <item>
                            <key>
                              <string>SessionID</string>
                            </key>
                            <value>
                              <DbObject xsi:type="DbTableColumn" Name="SessionID" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                                <Edition>Unknown</Edition>
                                <PrimaryObjectInfos />
                                <OutObjectInfos />
                                <DefaultDefinition>(newid())</DefaultDefinition>
                              </DbObject>
                            </value>
                          </item>
                        </Instance>
                      </Columns>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Indexes>
            <PrimaryKey Name="PK_bx_AdminSessions">
              <Edition>Unknown</Edition>
              <PrimaryObjectInfos />
              <OutObjectInfos />
              <IsSystemNamed>false</IsSystemNamed>
              <UniqueIndexName>PK_bx_AdminSessions</UniqueIndexName>
            </PrimaryKey>
            <Uniques>
              <Instance />
            </Uniques>
            <ForeignKeys>
              <Instance>
                <item>
                  <key>
                    <string>FK_bx_AdminSessions_UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbForeignKey" Name="FK_bx_AdminSessions_UserID" PrimaryTableName="bx_Users" DeleteReferentialActionId="1" UpdateReferentialActionId="0">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <OutColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </OutColumnNames>
                      <PrimaryColumnNames>
                        <anyType xsi:type="xsd:string">UserID</anyType>
                      </PrimaryColumnNames>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </ForeignKeys>
            <OutForeignKeyInfos />
            <Checks>
              <Instance />
            </Checks>
            <Defaults>
              <Instance>
                <item>
                  <key>
                    <string>DF_bx_AdminSessions_SessionID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_AdminSessions_SessionID">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>SessionID</ColumnName>
                      <Column Name="SessionID" UserTypeId="36" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(newid())</DefaultDefinition>
                      </Column>
                      <Definition>(newid())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_AdminSessions_IpAddress</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_AdminSessions_IpAddress">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>IpAddress</ColumnName>
                      <Column Name="IpAddress" UserTypeId="167" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <Collation>Chinese_PRC_CI_AS_WS</Collation>
                        <DefaultDefinition>('')</DefaultDefinition>
                      </Column>
                      <Definition>('')</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_AdminSessions_CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_AdminSessions_CreateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>CreateDate</ColumnName>
                      <Column Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_AdminSessions_UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_AdminSessions_UpdateDate">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>UpdateDate</ColumnName>
                      <Column Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(getdate())</DefaultDefinition>
                      </Column>
                      <Definition>(getdate())</Definition>
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DF_bx_AdminSessions_Available</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDefault" Name="DF_bx_AdminSessions_Available">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                      <IsSystemNamed>false</IsSystemNamed>
                      <ColumnName>Available</ColumnName>
                      <Column Name="Available" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                        <Edition>Unknown</Edition>
                        <PrimaryObjectInfos />
                        <OutObjectInfos />
                        <DefaultDefinition>(1)</DefaultDefinition>
                      </Column>
                      <Definition>(1)</Definition>
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Defaults>
            <Triggers>
              <Instance />
            </Triggers>
            <DefaultDataUpdateStrategy>Ignore</DefaultDataUpdateStrategy>
          </DbObject>
        </value>
      </item>
    </Instance>
  </Tables>
  <Views>
    <Instance>
      <item>
        <key>
          <string>bx_AttacmentsWithForumID</string>
        </key>
        <value>
          <DbObject xsi:type="DbView" Name="bx_AttacmentsWithForumID">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_Attachments</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_Posts</Name>
              </anyType>
            </PrimaryObjectInfos>
            <OutObjectInfos />
            <Definition>
CREATE VIEW bx_AttacmentsWithForumID
AS
SELECT bx_Attachments.*, bx_Posts.ForumID,bx_Posts.ThreadID
FROM bx_Attachments INNER JOIN
      bx_Posts ON bx_Attachments.PostID = bx_Posts.PostID
</Definition>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>AttachmentID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="AttachmentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PostID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="PostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FileID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="FileID" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FileName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="FileName" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FileType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="FileType" UserTypeId="231" MaxLength="20" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FileSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="FileSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalDownloads</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalDownloads" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalDownloadUsers</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalDownloadUsers" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Price</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Price" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FileExtendedInfo</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="FileExtendedInfo" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ForumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Triggers>
              <Instance />
            </Triggers>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_AuthUsers</string>
        </key>
        <value>
          <DbObject xsi:type="DbView" Name="bx_AuthUsers">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_Users</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_UserVars</Name>
              </anyType>
            </PrimaryObjectInfos>
            <OutObjectInfos />
            <Definition>
CREATE VIEW bx_AuthUsers
AS
SELECT bx_Users.*
, bx_UserVars.Password
, bx_UserVars.PasswordFormat
, bx_UserVars.UnreadMessages
, bx_UserVars.UsedAlbumSize
, bx_UserVars.AddedAlbumSize
, bx_UserVars.TimeZone
, bx_UserVars.EverAvatarChecked
, bx_UserVars.EnableDisplaySidebar
, bx_UserVars.OnlineStatus, bx_UserVars.SkinID
, bx_UserVars.LastReadSystemNotifyID
, bx_UserVars.UsedDiskSpaceSize
, bx_UserVars.TotalDiskFiles
, bx_UserVars.LastAvatarUpdateDate
, bx_UserVars.LastImpressionDate
, bx_UserVars.SelectFriendGroupID
, bx_UserVars.ReplyReturnThreadLastPage
FROM bx_Users Left JOIN
      bx_UserVars ON bx_Users.UserID = bx_UserVars.UserID</Definition>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Username</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Username" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Realname</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Realname" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Email</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Email" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EmailValidated</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="EmailValidated" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PublicEmail</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="PublicEmail" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SpaceTheme</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SpaceTheme" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Doing</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Doing" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DoingDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="DoingDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AvatarSrc</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="AvatarSrc" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Gender</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Gender" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Signature</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Signature" UserTypeId="231" MaxLength="3000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SignatureFormat</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SignatureFormat" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FriendGroups</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="FriendGroups" UserTypeId="231" MaxLength="1000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="CreateIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastVisitIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LastVisitIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastVisitDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LastVisitDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastPostDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LastPostDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SpaceViews</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SpaceViews" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LoginCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LoginCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsActive</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="IsActive" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Points</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Points" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_1</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_1" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_2</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_2" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_3</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_3" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_4</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_4" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_5</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_5" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_6</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_6" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_7</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_7" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_8</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_8" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalInvite</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalInvite" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalTopics</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalTopics" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>WeekPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="WeekPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DayPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="DayPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MonthPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="MonthPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalComments</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalComments" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalShares</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalShares" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalCollections</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalCollections" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ValuedTopics</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ValuedTopics" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DeletedTopics</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="DeletedTopics" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DeletedReplies</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="DeletedReplies" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalBlogArticles</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalBlogArticles" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalAlbums</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalAlbums" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalPhotos</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalPhotos" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalDoings</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalDoings" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MonthOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="MonthOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>WeekOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="WeekOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DayOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="DayOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExtendedData</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ExtendedData" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExtendedFieldVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ExtendedFieldVersion" UserTypeId="239" MaxLength="72" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserInfo</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserInfo" UserTypeId="167" MaxLength="800" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MobilePhone</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="MobilePhone" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Password</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Password" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PasswordFormat</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="PasswordFormat" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UnreadMessages</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UnreadMessages" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UsedAlbumSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UsedAlbumSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AddedAlbumSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="AddedAlbumSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TimeZone</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TimeZone" UserTypeId="59" MaxLength="4" Precision="24" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EverAvatarChecked</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="EverAvatarChecked" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EnableDisplaySidebar</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="EnableDisplaySidebar" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>OnlineStatus</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="OnlineStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SkinID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SkinID" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastReadSystemNotifyID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LastReadSystemNotifyID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UsedDiskSpaceSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UsedDiskSpaceSize" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalDiskFiles</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalDiskFiles" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastAvatarUpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LastAvatarUpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastImpressionDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LastImpressionDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SelectFriendGroupID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SelectFriendGroupID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ReplyReturnThreadLastPage</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ReplyReturnThreadLastPage" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Triggers>
              <Instance />
            </Triggers>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_BanUserViewLogs</string>
        </key>
        <value>
          <DbObject xsi:type="DbView" Name="bx_BanUserViewLogs">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_BanUserLogForumInfos</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_BanUserLogs</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_Forums</Name>
              </anyType>
            </PrimaryObjectInfos>
            <OutObjectInfos />
            <Definition>
CREATE VIEW bx_BanUserViewLogs
AS
SELECT     bx_BanUserLogs.LogID, bx_BanUserLogs.OperationType, bx_BanUserLogs.OperationTime, bx_BanUserLogs.OperatorName, 
                      bx_BanUserLogs.Cause, bx_BanUserLogs.UserID, bx_BanUserLogs.Username, bx_BanUserLogs.UserIP, bx_BanUserLogForumInfos.ForumID, 
                      bx_BanUserLogForumInfos.EndDate, bx_Forums.ForumName, bx_BanUserLogs.AllBanEndDate
FROM         bx_BanUserLogs LEFT OUTER JOIN
                      bx_BanUserLogForumInfos ON bx_BanUserLogs.LogID = bx_BanUserLogForumInfos.LogID LEFT OUTER JOIN
                      bx_Forums ON bx_Forums.ForumID = bx_BanUserLogForumInfos.ForumID</Definition>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>LogID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>OperationType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="OperationType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>OperationTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="OperationTime" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>OperatorName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="OperatorName" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Cause</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Cause" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Username</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Username" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ForumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="EndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ForumName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ForumName" UserTypeId="231" MaxLength="1000" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AllBanEndDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="AllBanEndDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Triggers>
              <Instance />
            </Triggers>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_FriendsHasImpressions</string>
        </key>
        <value>
          <DbObject xsi:type="DbView" Name="bx_FriendsHasImpressions">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_Friends</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_UserVars</Name>
              </anyType>
            </PrimaryObjectInfos>
            <OutObjectInfos />
            <Definition>
CREATE VIEW bx_FriendsHasImpressions
AS
	SELECT * FROM bx_Friends A where FriendUserID IN (
		SELECT UserID FROM bx_UserVars B WHERE B.LastImpressionDate &gt; '1980-1-1'
	)
</Definition>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FriendUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="FriendUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>GroupID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="GroupID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Hot</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Hot" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Triggers>
              <Instance />
            </Triggers>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ImpressionRecordsWithTypeInfo</string>
        </key>
        <value>
          <DbObject xsi:type="DbView" Name="bx_ImpressionRecordsWithTypeInfo">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_ImpressionRecords</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_ImpressionTypes</Name>
              </anyType>
            </PrimaryObjectInfos>
            <OutObjectInfos />
            <Definition>
CREATE VIEW bx_ImpressionRecordsWithTypeInfo
AS
	SELECT A.RecordID, A.TypeID, A.UserID, A.TargetUserID, A.CreateDate, B.Text, B.KeywordVersion FROM bx_ImpressionRecords AS A LEFT JOIN bx_ImpressionTypes B ON B.TypeID = A.TypeID</Definition>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>RecordID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="RecordID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TypeID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TypeID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TargetUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TargetUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Text</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Text" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Triggers>
              <Instance />
            </Triggers>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Members</string>
        </key>
        <value>
          <DbObject xsi:type="DbView" Name="bx_Members">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_UserInfos</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_Users</Name>
              </anyType>
            </PrimaryObjectInfos>
            <OutObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_PointShowUsers</Name>
              </anyType>
            </OutObjectInfos>
            <Definition>
CREATE VIEW bx_Members
AS
SELECT bx_Users.*, bx_UserInfos.InviterID, bx_UserInfos.TotalFriends, 
      bx_UserInfos.Birthday, bx_UserInfos.BirthYear, 
      bx_UserInfos.BlogPrivacy, bx_UserInfos.FeedPrivacy, 
      bx_UserInfos.BoardPrivacy, bx_UserInfos.DoingPrivacy, 
      bx_UserInfos.AlbumPrivacy, bx_UserInfos.SpacePrivacy, 
      bx_UserInfos.SharePrivacy, bx_UserInfos.FriendListPrivacy, 
      bx_UserInfos.InformationPrivacy, bx_UserInfos.NotifySetting
FROM bx_UserInfos INNER JOIN
      bx_Users ON bx_UserInfos.UserID = bx_Users.UserID</Definition>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Username</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Username" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Realname</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Realname" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Email</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Email" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EmailValidated</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="EmailValidated" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PublicEmail</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="PublicEmail" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SpaceTheme</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SpaceTheme" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Doing</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Doing" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DoingDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="DoingDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AvatarSrc</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="AvatarSrc" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Gender</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Gender" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Signature</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Signature" UserTypeId="231" MaxLength="3000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SignatureFormat</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SignatureFormat" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FriendGroups</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="FriendGroups" UserTypeId="231" MaxLength="1000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="CreateIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastVisitIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LastVisitIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastVisitDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LastVisitDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastPostDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LastPostDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SpaceViews</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SpaceViews" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LoginCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LoginCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsActive</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="IsActive" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Points</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Points" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_1</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_1" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_2</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_2" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_3</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_3" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_4</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_4" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_5</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_5" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_6</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_6" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_7</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_7" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_8</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_8" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalInvite</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalInvite" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalTopics</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalTopics" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>WeekPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="WeekPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DayPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="DayPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MonthPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="MonthPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalComments</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalComments" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalShares</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalShares" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalCollections</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalCollections" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ValuedTopics</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ValuedTopics" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DeletedTopics</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="DeletedTopics" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DeletedReplies</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="DeletedReplies" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalBlogArticles</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalBlogArticles" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalAlbums</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalAlbums" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalPhotos</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalPhotos" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalDoings</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalDoings" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MonthOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="MonthOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>WeekOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="WeekOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DayOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="DayOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExtendedData</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ExtendedData" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExtendedFieldVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ExtendedFieldVersion" UserTypeId="239" MaxLength="72" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserInfo</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserInfo" UserTypeId="167" MaxLength="800" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MobilePhone</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="MobilePhone" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>InviterID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="InviterID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalFriends</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalFriends" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Birthday</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Birthday" UserTypeId="52" MaxLength="2" Precision="5" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BirthYear</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="BirthYear" UserTypeId="52" MaxLength="2" Precision="5" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BlogPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="BlogPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FeedPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="FeedPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BoardPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="BoardPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DoingPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="DoingPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AlbumPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="AlbumPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SpacePrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SpacePrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SharePrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SharePrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FriendListPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="FriendListPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>InformationPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="InformationPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>NotifySetting</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="NotifySetting" UserTypeId="167" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Triggers>
              <Instance />
            </Triggers>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_PointShowUsers</string>
        </key>
        <value>
          <DbObject xsi:type="DbView" Name="bx_PointShowUsers">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>V</Type>
                <Name>bx_Members</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_PointShows</Name>
              </anyType>
            </PrimaryObjectInfos>
            <OutObjectInfos />
            <Definition>
CREATE VIEW [bx_PointShowUsers]
AS
SELECT bx_PointShows.Price, bx_PointShows.Content, 
      bx_Members.*
FROM bx_PointShows INNER JOIN
      bx_Members ON bx_PointShows.UserID = bx_Members.UserID</Definition>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>Price</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Price" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Content</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Content" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Username</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Username" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Realname</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Realname" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Email</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Email" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>EmailValidated</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="EmailValidated" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PublicEmail</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="PublicEmail" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SpaceTheme</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SpaceTheme" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Doing</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Doing" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DoingDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="DoingDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AvatarSrc</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="AvatarSrc" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Gender</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Gender" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Signature</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Signature" UserTypeId="231" MaxLength="3000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SignatureFormat</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SignatureFormat" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FriendGroups</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="FriendGroups" UserTypeId="231" MaxLength="1000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="CreateIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastVisitIP</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LastVisitIP" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastVisitDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LastVisitDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastPostDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LastPostDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SpaceViews</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SpaceViews" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LoginCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LoginCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsActive</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="IsActive" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Points</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Points" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_1</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_1" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_2</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_2" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_3</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_3" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_4</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_4" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_5</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_5" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_6</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_6" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_7</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_7" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Point_8</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Point_8" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalInvite</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalInvite" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalTopics</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalTopics" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>WeekPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="WeekPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DayPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="DayPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MonthPosts</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="MonthPosts" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalComments</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalComments" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalShares</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalShares" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalCollections</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalCollections" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ValuedTopics</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ValuedTopics" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DeletedTopics</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="DeletedTopics" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DeletedReplies</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="DeletedReplies" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalBlogArticles</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalBlogArticles" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalAlbums</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalAlbums" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalPhotos</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalPhotos" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalDoings</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalDoings" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MonthOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="MonthOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>WeekOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="WeekOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DayOnlineTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="DayOnlineTime" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExtendedData</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ExtendedData" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExtendedFieldVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ExtendedFieldVersion" UserTypeId="239" MaxLength="72" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserInfo</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserInfo" UserTypeId="167" MaxLength="800" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MobilePhone</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="MobilePhone" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>InviterID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="InviterID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalFriends</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalFriends" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Birthday</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Birthday" UserTypeId="52" MaxLength="2" Precision="5" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BirthYear</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="BirthYear" UserTypeId="52" MaxLength="2" Precision="5" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BlogPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="BlogPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FeedPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="FeedPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BoardPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="BoardPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>DoingPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="DoingPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AlbumPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="AlbumPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SpacePrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SpacePrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SharePrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SharePrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FriendListPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="FriendListPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>InformationPrivacy</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="InformationPrivacy" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>NotifySetting</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="NotifySetting" UserTypeId="167" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Triggers>
              <Instance />
            </Triggers>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SellingProps</string>
        </key>
        <value>
          <DbObject xsi:type="DbView" Name="bx_SellingProps">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_Props</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_UserProps</Name>
              </anyType>
            </PrimaryObjectInfos>
            <OutObjectInfos />
            <Definition>
CREATE VIEW bx_SellingProps AS
SELECT A.UserID, A.UserPropID, A.SellingCount, A.SellingPrice, A.Count, A.SellingDate, B.* FROM bx_UserProps A LEFT JOIN bx_Props B ON A.PropID = B.PropID AND B.Enable = 1 WHERE A.SellingCount &gt; 0
</Definition>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserPropID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserPropID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SellingCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SellingCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SellingPrice</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SellingPrice" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Count</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Count" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SellingDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SellingDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PropID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="PropID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Icon</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Icon" UserTypeId="231" MaxLength="510" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Name" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Price</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Price" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PriceType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="PriceType" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PropType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="PropType" UserTypeId="231" MaxLength="1024" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PropParam</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="PropParam" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Description" UserTypeId="231" MaxLength="510" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PackageSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="PackageSize" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalNumber</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalNumber" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SaledNumber</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SaledNumber" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AllowExchange</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="AllowExchange" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AutoReplenish</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="AutoReplenish" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ReplenishNumber</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ReplenishNumber" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ReplenishTimeSpan</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ReplenishTimeSpan" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastReplenishTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LastReplenishTime" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BuyCondition</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="BuyCondition" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Enable</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Enable" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ReplenishLimit</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ReplenishLimit" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Triggers>
              <Instance />
            </Triggers>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SerialCounter</string>
        </key>
        <value>
          <DbObject xsi:type="DbView" Name="bx_SerialCounter">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_InviteSerials</Name>
              </anyType>
            </PrimaryObjectInfos>
            <OutObjectInfos />
            <Definition>
CREATE VIEW bx_SerialCounter
AS
SELECT TOP 100 PERCENT s_a.UserID, ISNULL(s_0.S0, 0) AS Unused, ISNULL(s_1.S1, 0) 
      AS Used, ISNULL(s_3.S3, 0) AS Expiress, ISNULL(s_2.S2, 0) AS NoRegister, 
      ISNULL(s_0.S0, 0) + ISNULL(s_1.S1, 0) + ISNULL(s_2.S2, 0) + ISNULL(s_3.S3, 0) 
      AS TotalSerial
FROM (SELECT DISTINCT UserID
        FROM bx_InviteSerials) s_a FULL OUTER JOIN
          (SELECT UserID, COUNT(*) AS S3
         FROM bx_InviteSerials
         WHERE ExpiresDate &lt;= GETDATE()
         GROUP BY UserID, Status, ExpiresDate
         HAVING Status = 3) s_3 ON s_a.UserID = s_3.UserID FULL OUTER JOIN
          (SELECT UserID, COUNT(*) AS S2
         FROM bx_InviteSerials
         GROUP BY UserID, Status
         HAVING Status = 2) s_2 ON s_a.UserID = s_2.UserID FULL OUTER JOIN
          (SELECT UserID, COUNT(*) AS S1
         FROM bx_InviteSerials
         GROUP BY UserID, Status
         HAVING Status = 1) s_1 ON s_a.UserID = s_1.UserID FULL OUTER JOIN
          (SELECT UserID, COUNT(*) AS S0
         FROM bx_InviteSerials
         GROUP BY UserID, Status
         HAVING Status = 0) s_0 ON s_a.UserID = s_0.UserID
ORDER BY s_a.UserID</Definition>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Unused</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Unused" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Used</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Used" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Expiress</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Expiress" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>NoRegister</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="NoRegister" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalSerial</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalSerial" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Triggers>
              <Instance />
            </Triggers>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SharesView</string>
        </key>
        <value>
          <DbObject xsi:type="DbView" Name="bx_SharesView">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_Shares</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_UserShares</Name>
              </anyType>
            </PrimaryObjectInfos>
            <OutObjectInfos />
            <Definition>

CREATE VIEW [bx_SharesView] AS
SELECT 
    B.[UserShareID],
	A.[ShareID], 
	A.[UserID], 
	A.[TotalComments], 
	A.[Type], 
	A.[Url],
	A.[Content], 
	A.[LastCommentDate], 
	A.[KeywordVersion], 
	A.[AgreeCount], 
	A.[OpposeCount],
	A.[ShareCount],
	A.[AgreeAndOpposeCount],
	B.[UserID] as [UserID2],
	B.[PrivacyType], 
	B.[Subject],
	B.[Description],
	B.[CreateDate],
	B.[CommentCount],
	A.[SortOrder]
FROM
	[bx_Shares] A
RIGHT JOIN 
	[bx_UserShares] B ON A.[ShareID] = B.[ShareID]
</Definition>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserShareID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserShareID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ShareID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ShareID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalComments</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalComments" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Type</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Type" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Url</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Url" UserTypeId="231" MaxLength="1024" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Content</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Content" UserTypeId="231" MaxLength="5600" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastCommentDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LastCommentDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AgreeCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="AgreeCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>OpposeCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="OpposeCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ShareCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ShareCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AgreeAndOpposeCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="AgreeAndOpposeCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID2</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserID2" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PrivacyType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="PrivacyType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Subject</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Subject" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Description" UserTypeId="231" MaxLength="2000" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CommentCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="CommentCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SortOrder" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Triggers>
              <Instance />
            </Triggers>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SimpleUser</string>
        </key>
        <value>
          <DbObject xsi:type="DbView" Name="bx_SimpleUser">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_Users</Name>
              </anyType>
            </PrimaryObjectInfos>
            <OutObjectInfos />
            <Definition>
CREATE VIEW bx_SimpleUser 
AS
SELECT UserID, Username, Realname, Gender, AvatarSrc, Doing
FROM bx_Users</Definition>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Username</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Username" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Realname</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Realname" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Gender</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Gender" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AvatarSrc</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="AvatarSrc" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Doing</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Doing" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Triggers>
              <Instance />
            </Triggers>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_TopicsWithContents</string>
        </key>
        <value>
          <DbObject xsi:type="DbView" Name="bx_TopicsWithContents">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_Posts</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_Threads</Name>
              </anyType>
            </PrimaryObjectInfos>
            <OutObjectInfos />
            <Definition>
CREATE VIEW bx_TopicsWithContents
AS
SELECT bx_Threads.*, bx_Posts.Content, bx_Posts.IPAddress
FROM bx_Threads INNER JOIN
      bx_Posts ON bx_Threads.ThreadID = bx_Posts.ThreadID
WHERE (bx_Posts.PostType = 1)
</Definition>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>ThreadID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ThreadID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ForumID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ForumID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThreadCatalogID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ThreadCatalogID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThreadType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ThreadType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IconID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="IconID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Subject</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Subject" UserTypeId="231" MaxLength="512" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SubjectStyle</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SubjectStyle" UserTypeId="231" MaxLength="600" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalReplies</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalReplies" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalViews</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalViews" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalAttachments</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalAttachments" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Price</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Price" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Rank</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Rank" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PostUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="PostUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PostNickName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="PostNickName" UserTypeId="231" MaxLength="128" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastPostUserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LastPostUserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastPostNickName</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LastPostNickName" UserTypeId="231" MaxLength="128" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsLocked</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="IsLocked" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsValued</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="IsValued" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Perorate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Perorate" UserTypeId="231" MaxLength="64" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UpdateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UpdateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SortOrder" UserTypeId="127" MaxLength="8" Precision="19" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThreadStatus</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ThreadStatus" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UpdateSortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UpdateSortOrder" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ThreadLog</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ThreadLog" UserTypeId="231" MaxLength="256" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>JudgementID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="JudgementID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ShareCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ShareCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CollectionCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="CollectionCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>KeywordVersion</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="KeywordVersion" UserTypeId="167" MaxLength="32" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Words</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Words" UserTypeId="231" MaxLength="800" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastPostID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LastPostID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ContentID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ContentID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PostedCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="PostedCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ExtendData</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ExtendData" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AttachmentType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="AttachmentType" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Content</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Content" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IPAddress</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="IPAddress" UserTypeId="231" MaxLength="128" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Triggers>
              <Instance />
            </Triggers>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UsedFileIds</string>
        </key>
        <value>
          <DbObject xsi:type="DbView" Name="bx_UsedFileIds">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_Attachments</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_DiskFiles</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_Photos</Name>
              </anyType>
            </PrimaryObjectInfos>
            <OutObjectInfos />
            <Definition>
/*还在使用的文件*/

CREATE VIEW bx_UsedFileIds
AS

	SELECT FileID FROM bx_Photos
	UNION ALL
	SELECT FileID FROM bx_Attachments
	UNION ALL
	SELECT FileID FROM bx_DiskFiles</Definition>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>FileID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="FileID" UserTypeId="167" MaxLength="50" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Triggers>
              <Instance />
            </Triggers>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UserEmoticonInfo</string>
        </key>
        <value>
          <DbObject xsi:type="DbView" Name="bx_UserEmoticonInfo">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_EmoticonGroups</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_Users</Name>
              </anyType>
            </PrimaryObjectInfos>
            <OutObjectInfos />
            <Definition>
CREATE VIEW bx_UserEmoticonInfo
AS
SELECT bx_Users.UserID, bx_Users.Username, 
      SUM(bx_EmoticonGroups.TotalSizes) AS TotalSizes, 
      SUM(bx_EmoticonGroups.TotalEmoticons) AS TotalEmoticons
FROM bx_Users INNER JOIN
      bx_EmoticonGroups ON 
      bx_Users.UserID = bx_EmoticonGroups.UserID
GROUP BY bx_Users.UserID, bx_Users.Username</Definition>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Username</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Username" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalSizes</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalSizes" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalEmoticons</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalEmoticons" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Triggers>
              <Instance />
            </Triggers>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UserMissionsView</string>
        </key>
        <value>
          <DbObject xsi:type="DbView" Name="bx_UserMissionsView">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_Missions</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_UserMissions</Name>
              </anyType>
            </PrimaryObjectInfos>
            <OutObjectInfos />
            <Definition>
CREATE VIEW bx_UserMissionsView AS
SELECT bx_Missions.IsEnable, bx_UserMissions.*
FROM bx_Missions INNER JOIN
      bx_UserMissions ON bx_Missions.ID = bx_UserMissions.MissionID AND ParentID IS NULL</Definition>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>IsEnable</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="IsEnable" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>MissionID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="MissionID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FinishPercent</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="FinishPercent" UserTypeId="62" MaxLength="8" Precision="53" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Status</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Status" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>IsPrized</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="IsPrized" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>FinishDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="FinishDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Triggers>
              <Instance />
            </Triggers>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UserPropsView</string>
        </key>
        <value>
          <DbObject xsi:type="DbView" Name="bx_UserPropsView">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_Props</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_UserProps</Name>
              </anyType>
            </PrimaryObjectInfos>
            <OutObjectInfos />
            <Definition>
CREATE VIEW bx_UserPropsView AS
SELECT A.UserID, A.UserPropID, A.SellingCount, A.SellingPrice, A.Count, B.* FROM bx_UserProps A LEFT JOIN bx_Props B ON A.PropID = B.PropID
</Definition>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>UserPropID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserPropID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SellingCount</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SellingCount" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SellingPrice</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SellingPrice" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Count</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Count" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PropID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="PropID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Icon</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Icon" UserTypeId="231" MaxLength="510" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Name</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Name" UserTypeId="231" MaxLength="200" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Price</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Price" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PriceType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="PriceType" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PropType</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="PropType" UserTypeId="231" MaxLength="1024" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PropParam</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="PropParam" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Description</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Description" UserTypeId="231" MaxLength="510" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>PackageSize</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="PackageSize" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TotalNumber</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TotalNumber" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SaledNumber</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SaledNumber" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AllowExchange</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="AllowExchange" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AutoReplenish</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="AutoReplenish" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ReplenishNumber</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ReplenishNumber" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ReplenishTimeSpan</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ReplenishTimeSpan" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>LastReplenishTime</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="LastReplenishTime" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>BuyCondition</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="BuyCondition" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Enable</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Enable" UserTypeId="104" MaxLength="1" Precision="1" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>ReplenishLimit</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="ReplenishLimit" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>SortOrder</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="SortOrder" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Triggers>
              <Instance />
            </Triggers>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UserTempAvatar</string>
        </key>
        <value>
          <DbObject xsi:type="DbView" Name="bx_UserTempAvatar">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_Users</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_UserTempData</Name>
              </anyType>
            </PrimaryObjectInfos>
            <OutObjectInfos />
            <Definition>
/*没有验证的头像数据*/

CREATE VIEW bx_UserTempAvatar AS

SELECT bx_Users.UserID, bx_Users.Username, 
      bx_Users.Realname,bx_Users.Gender,
      bx_Users.AvatarSrc, 
      bx_UserTempData.Data, bx_UserTempData.CreateDate
FROM bx_Users INNER JOIN
      bx_UserTempData ON 
      bx_Users.UserID = bx_UserTempData.UserID
WHERE (bx_UserTempData.DataType = 1)
</Definition>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Username</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Username" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Realname</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Realname" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Gender</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Gender" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>AvatarSrc</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="AvatarSrc" UserTypeId="231" MaxLength="400" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Data</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Data" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Triggers>
              <Instance />
            </Triggers>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UserTempRealname</string>
        </key>
        <value>
          <DbObject xsi:type="DbView" Name="bx_UserTempRealname">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_Users</Name>
              </anyType>
              <anyType xsi:type="DbObjectInfo">
                <Type>U</Type>
                <Name>bx_UserTempData</Name>
              </anyType>
            </PrimaryObjectInfos>
            <OutObjectInfos />
            <Definition>
CREATE VIEW bx_UserTempRealname AS
SELECT bx_UserTempData.UserID, bx_Users.Username, 
      bx_Users.Realname, bx_Users.Gender, bx_UserTempData.CreateDate, 
      bx_UserTempData.Data AS TempRealname, 
      0 AS NameChecked
FROM bx_Users INNER JOIN
      bx_UserTempData ON 
      bx_Users.UserID = bx_UserTempData.UserID
WHERE (bx_UserTempData.DataType = 0)</Definition>
            <Columns>
              <Instance>
                <item>
                  <key>
                    <string>UserID</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="UserID" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Username</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Username" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Realname</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Realname" UserTypeId="231" MaxLength="100" Precision="0" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>Gender</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="Gender" UserTypeId="48" MaxLength="1" Precision="3" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>CreateDate</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="CreateDate" UserTypeId="61" MaxLength="8" Precision="23" Scale="3" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>TempRealname</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="TempRealname" UserTypeId="99" MaxLength="16" Precision="0" Scale="0" IsNullable="true">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
                <item>
                  <key>
                    <string>NameChecked</string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbViewColumn" Name="NameChecked" UserTypeId="56" MaxLength="4" Precision="10" Scale="0" IsNullable="false">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
            <Triggers>
              <Instance />
            </Triggers>
          </DbObject>
        </value>
      </item>
    </Instance>
  </Views>
  <StoredProcedures>
    <Instance>
      <item>
        <key>
          <string>bx_AbandonMission</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_AbandonMission">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_AbandonMission
     @UserID       int
    ,@MissionID    int
AS
BEGIN
	SET NOCOUNT ON;

    DELETE FROM bx_UserMissions WHERE UserID=@UserID AND MissionID = @MissionID;

    DELETE FROM bx_UserMissions WHERE UserID=@UserID AND MissionID IN(SELECT MissionID FROM bx_Missions WHERE ParentID=@MissionID);

    RETURN 0;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_AcceptAddFriend</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_AcceptAddFriend">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_AcceptAddFriend
    @UserID int,
    @FriendUserID int,
    @FromFriendGroupID int,
    @FriendGroupID int
AS BEGIN

SET NOCOUNT ON;

UPDATE bx_Friends SET GroupID = @FriendGroupID WHERE UserID = @UserID AND FriendUserID = @FriendUserID

IF @@RowCount=0 BEGIN
   INSERT INTO [bx_Friends] (Hot,UserID,FriendUserID,GroupID) VALUES (0, @UserID, @FriendUserID, @FriendGroupID); 
END

UPDATE bx_Friends SET GroupID = @FromFriendGroupID WHERE UserID = @FriendUserID AND FriendUserID = @UserID

IF @@RowCount=0 BEGIN
  INSERT INTO [bx_Friends] (Hot,UserID,FriendUserID,GroupID) VALUES (0, @FriendUserID, @UserID,@FromFriendGroupID );
END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ActivingUser</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_ActivingUser">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_ActivingUser
@Serial uniqueidentifier,
@UserID int out
AS
BEGIN
    SET NOCOUNT ON;

    SET @UserID = NULL;
    SELECT @UserID = UserID FROM bx_Serials Where Serial = @Serial AND Type = 1 AND ExpiresDate &gt;= GETDATE();
    IF @UserID IS NULL
        RETURN(2); --无效的激活码

	DELETE FROM bx_Serials WHERE UserID = @UserID AND Type = 1;

	UPDATE bx_Users SET IsActive = 1, EmailValidated = 1 WHERE UserID = @UserID AND IsActive = 0;
	IF @@ROWCOUNT = 0
		RETURN(3);  --用户不需要激活

	RETURN(1);
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_AddFriendGroup</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_AddFriendGroup">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_AddFriendGroup
    @UserID int,
    @GroupID int,
    @GroupName nvarchar(50),
    @MaxGroupCount int
AS BEGIN

	SET NOCOUNT ON;
    
    IF EXISTS ( SELECT * FROM bx_FriendGroups WHERE UserID = @UserID AND GroupName = @GroupName )
        RETURN(2);

    IF (SELECT COUNT(*) FROM bx_FriendGroups WHERE UserID = @UserID) &gt; @MaxGroupCount
        RETURN(3);

IF @GroupID IS NULL BEGIN
    INSERT INTO bx_FriendGroups ( UserID, GroupName ) VALUES ( @UserID, @GroupName );
    SELECT * FROM bx_FriendGroups WHERE GroupID = @@IDENTITY;
END
ELSE BEGIN 
    INSERT INTO bx_FriendGroups (GroupID, UserID, GroupName ) VALUES (@GroupID, @UserID, @GroupName );
    SELECT * FROM bx_FriendGroups WHERE GroupID = @GroupID;
END
    RETURN (0);

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_AddMedalsToUser</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_AddMedalsToUser">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_AddMedalsToUser
     @MedalIDs       varchar(8000)
    ,@MedalLevelIDs  varchar(8000)
	,@UserID         int
    ,@EndDates       varchar(8000)
AS BEGIN

	SET NOCOUNT ON;

    BEGIN TRANSACTION    

    DECLARE @tempTable table(TempID int identity(1,1), MedalID int, MedalLevelID int, EndDate datetime);
    
    INSERT INTO @tempTable (MedalID) SELECT item FROM bx_GetIntTable(@MedalIDs, ',');

    UPDATE @tempTable SET
			[MedalLevelID] = T.item
			FROM bx_GetIntTable(@MedalLevelIDs, N',') T
			WHERE TempID = T.id;

    UPDATE @tempTable SET
			[EndDate] = T.item
			FROM bx_GetStringTable_text(@EndDates, N',') T
			WHERE TempID = T.id;
    
    EXEC('DELETE [bx_UserMedals] WHERE UserID = ' + @UserID + ' AND MedalID in(' + @MedalIDs + ')');
    IF(@@error&lt;&gt;0) BEGIN
        ROLLBACK TRANSACTION
        RETURN -1;
    END
    
    INSERT INTO [bx_UserMedals](MedalID,MedalLevelID,UserID,EndDate) SELECT MedalID,MedalLevelID,@UserID,EndDate FROM @tempTable;
    IF(@@error&lt;&gt;0) BEGIN
        ROLLBACK TRANSACTION
        RETURN -1;
    END

    COMMIT TRANSACTION

    RETURN 0;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_AddMedalUsers</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_AddMedalUsers">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_AddMedalUsers
     @MedalID        int
    ,@MedalLevelID   int
	,@UserIDs        varchar(8000)
    ,@EndDate        datetime
    ,@Url            nvarchar(200)
AS BEGIN

	SET NOCOUNT ON;

    BEGIN TRANSACTION    

    DECLARE @UserIDsTable table(ID int identity(1,1), UserID int);
    
    INSERT INTO @UserIDsTable (UserID) SELECT item FROM bx_GetIntTable(@UserIDs, ',');
    
    EXEC('DELETE [bx_UserMedals] WHERE MedalID='+@MedalID+' AND UserID in('+@UserIDs+')');
    IF(@@error&lt;&gt;0) BEGIN
        ROLLBACK TRANSACTION
        RETURN -1;
    END
    
    INSERT INTO [bx_UserMedals](MedalID,MedalLevelID,UserID,EndDate,Url) SELECT @MedalID,@MedalLevelID,UserID,@EndDate,@Url FROM @UserIDsTable;
    IF(@@error&lt;&gt;0) BEGIN
        ROLLBACK TRANSACTION
        RETURN -1;
    END

    COMMIT TRANSACTION

    RETURN 0;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_AddNotify</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_AddNotify">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_AddNotify
    @TypeID          int
   ,@UserID          int
   ,@Content         nvarchar(1000)
   ,@Keyword         varchar(200)
   ,@NotifyDatas     ntext
   ,@ClientID        int
   ,@Actions         nvarchar(2000)
AS BEGIN
    SET NOCOUNT ON;

DECLARE @ExistNotifyID int;
DECLARE @UniteNotify     bit
SET @ExistNotifyID = ( SELECT TOP 1 NotifyID FROM bx_Notify WHERE [TypeID] = @TypeID AND [UserID] = @UserID AND Keyword = @Keyword);-- AND [Parameters] = @Parameters );

IF @ExistNotifyID IS NOT NULL BEGIN
UPDATE bx_Notify SET Content = @Content,NotifyDatas = @NotifyDatas, UpdateDate = GETDATE(), IsRead = 0 WHERE [TypeID] = @TypeID AND [UserID] = @UserID AND Keyword = @Keyword;
END
ELSE BEGIN
INSERT INTO bx_Notify(
     UserID
    ,TypeID
    ,Content
    ,Keyword
    ,NotifyDatas
    ,ClientID
    ,Actions
) VALUES(
     @UserID
    ,@TypeID
    ,@Content
    ,@Keyword
    ,@NotifyDatas
    ,@ClientID
    ,@Actions
);
END

SELECT * FROM bx_UnreadNotifies WHERE UserID = @UserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_AddRole</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_AddRole">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_AddRole
    @RoleID         int,
    @Name           nvarchar(50),
    @Title          nvarchar(50),
    @Color          varchar(50),
    @IconUrl        varchar(200),
    @RoleType       int,
    @Level          int,
    @StarLevel      int,
    @RequiredPoint  int
AS
BEGIN
    
    SET NOCOUNT ON;

    IF EXISTS(SELECT * FROM bx_Roles WHERE RoleID=@RoleID)
        
        UPDATE bx_Roles SET [Name]=@Name,Title=@Title,Color=@Color,IconUrl=@IconUrl,RoleType=@RoleType,[Level]=@Level,StarLevel=@StarLevel,RequiredPoint=@RequiredPoint WHERE RoleID=@RoleID;
    
    ELSE

        INSERT INTO [bx_Roles]([Name],Title,Color,IconUrl,RoleType,[Level],StarLevel,RequiredPoint) VALUES(@Name,@Title,@Color,@IconUrl,@RoleType,@Level,@StarLevel,@RequiredPoint);

    END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_AddThreadCatalogToForum</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_AddThreadCatalogToForum">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_AddThreadCatalogToForum
	@ForumID int,
	@ThreadCatalogIDs varchar(8000),
	@SortOrders varchar(8000)
AS
BEGIN

	SET NOCOUNT ON;
	
	BEGIN TRANSACTION
	IF EXISTS (SELECT * FROM bx_ThreadCatalogsInForums WITH (NOLOCK) WHERE ForumID = @ForumID)
		delete bx_ThreadCatalogsInForums where ForumID=@ForumID
		IF(@@error&lt;&gt;0)
		BEGIN
			ROLLBACK TRANSACTION
			RETURN (-1)
		END
		DECLARE @ThreadCatalogID int,@i int,@SortOrder int,@Condition varchar(100),@j int
	
		SET @SortOrders=@SortOrders+N','
		SELECT @j=CHARINDEX(',',@SortOrders)
		
		SET @ThreadCatalogIDs=@ThreadCatalogIDs+N','
		SET @Condition='ForumID='+str(@ForumID)
		SELECT @i=CHARINDEX(',',@ThreadCatalogIDs)
		
		WHILE(@i&gt;1)
		BEGIN
			SELECT @ThreadCatalogID=SUBSTRING(@ThreadCatalogIDs,0, @i)
			SELECT @SortOrder=SUBSTRING(@SortOrders,0, @j)
			INSERT INTO bx_ThreadCatalogsInForums (ForumID, ThreadCatalogID,SortOrder)
				VALUES (@ForumID, @ThreadCatalogID,@SortOrder);
			
		
			SELECT @ThreadCatalogIDs=SUBSTRING(@ThreadCatalogIDs,@i+1,LEN(@ThreadCatalogIDs)-@i)
			SELECT @i=CHARINDEX(',',@ThreadCatalogIDs)
			
			SELECT @SortOrders=SUBSTRING(@SortOrders,@j+1,LEN(@SortOrders)-@j)
			SELECT @j=CHARINDEX(',',@SortOrders)
		END
		IF(@@error&lt;&gt;0)
				BEGIN
					ROLLBACK TRANSACTION
					RETURN (-1)
				END
		
		COMMIT TRANSACTION
		RETURN (0);
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_AddUsersToBlacklist</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_AddUsersToBlacklist">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_AddUsersToBlacklist
     @UserID int
    ,@UserIdsToAdd text
AS
BEGIN


    SET NOCOUNT ON;

    DECLARE @AddTable table(TargetUserID int, IsUpdate bit DEFAULT(0));

    INSERT INTO @AddTable (TargetUserID) SELECT item FROM bx_GetIntTable(@UserIdsToAdd,',') AS T WHERE T.item != @UserID;

    UPDATE @AddTable SET IsUpdate = 1 WHERE TargetUserID IN ( SELECT FriendUserID FROM bx_Friends WHERE UserID = @UserID);

    UPDATE bx_Friends SET GroupID = -1 WHERE UserID = @UserID AND FriendUserID IN ( SELECT TargetUserID FROM @AddTable WHERE IsUpdate = 1 );

    INSERT INTO bx_Friends ( UserID, FriendUserID, GroupID, Hot ) SELECT @UserID, TargetUserID, -1, 0 FROM @AddTable T WHERE T.IsUpdate = 0;

    DELETE bx_Friends WHERE FriendUserID = @UserID AND GroupID != -1 AND UserID in(SELECT TargetUserID FROM @AddTable);
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_AddUserToRole</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_AddUserToRole">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_AddUserToRole
     @UserID      int
    ,@RoleID      uniqueIdentifier
    ,@BeginDate   datetime
    ,@EndDate     datetime
AS BEGIN

    SET NOCOUNT ON;

    IF EXISTS ( SELECT * FROM bx_Users WHERE UserID = @UserID ) BEGIN

        IF EXISTS ( SELECT * FROM bx_UserRoles WHERE UserID = @UserID AND RoleID = @RoleID )
            UPDATE bx_UserRoles SET BeginDate = @BeginDate, EndDate = @EndDate WHERE UserID = @UserID AND RoleID = @RoleID;
        ELSE
            INSERT INTO bx_UserRoles (UserID, RoleID, BeginDate, EndDate) VALUES (@UserID, @RoleID, @BeginDate, @EndDate);

    END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_AddUserToRole_xh</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_AddUserToRole_xh">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_AddUserToRole_xh
     @UserID      int
    ,@RoleID      int
    ,@BeginDate   datetime
    ,@EndDate     datetime
AS BEGIN

    SET NOCOUNT ON;

    IF EXISTS ( SELECT * FROM bx_Users WHERE UserID = @UserID ) BEGIN

        IF EXISTS ( SELECT * FROM bx_UsersInRoles WHERE UserID = @UserID AND RoleID = @RoleID )
            UPDATE bx_UsersInRoles SET BeginDate = @BeginDate, EndDate = @EndDate WHERE UserID = @UserID AND RoleID = @RoleID;
        ELSE
            INSERT INTO bx_UsersInRoles (UserID, RoleID, BeginDate, EndDate) VALUES (@UserID, @RoleID, @BeginDate, @EndDate);

    END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_AdminUpdateUserinfo</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_AdminUpdateUserinfo">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_AdminUpdateUserinfo
@UserID      int,
@CreateDate  datetime,
@TotalOnlineTime  int,
@MonthOnlineTime  int
AS
BEGIN
    SET NOCOUNT ON
    UPDATE bx_Users SET CreateDate = @CreateDate , TotalOnlineTime = @TotalOnlineTime , MonthOnlineTime = @MonthOnlineTime WHERE [UserID] = @UserID;    
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_AdminUpdateUserProfile</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_AdminUpdateUserProfile">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_AdminUpdateUserProfile 
 @UserID          int
,@Realname        nvarchar(50)
,@Gender          int
,@Email           nvarchar(200)
,@BirthYear       smallint
,@Birthday        smallint
,@EmailValidated  bit
,@SignatureFormat int
,@Signature       nvarchar(1500) 
,@IsActive        bit
AS
BEGIN

    SET NOCOUNT ON;

    UPDATE bx_Users SET Realname = @Realname, Email = @Email, Gender = @Gender,  EmailValidated = @EmailValidated, Signature = @Signature, SignatureFormat = @SignatureFormat, IsActive = @IsActive WHERE [UserID] = @UserID;
    UPDATE bx_UserInfos SET  BirthYear = @BirthYear,  Birthday = @Birthday WHERE UserID = @UserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Album_CreateAlbum</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Album_CreateAlbum">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Album_CreateAlbum
      @UserID         int
     ,@PrivacyType    tinyint
     ,@Name           nvarchar(50)
    ,@Description       nvarchar(100)
     ,@Cover          nvarchar(200)
     ,@Password       nvarchar(50)
AS BEGIN
    SET NOCOUNT ON;
    
    IF EXISTS(SELECT * FROM bx_Albums WHERE UserID = @UserID AND Name = @Name) BEGIN
        SELECT -1;
        RETURN;
    END

    INSERT INTO
        [bx_Albums](
             [UserID]
            ,[PrivacyType]
            ,[Name]
            ,[Description]
            ,[Cover]
            ,[Password]
			,[LastEditUserID]
        ) VALUES (
             @UserID
            ,@PrivacyType
            ,@Name
            ,@Description
            ,@Cover
            ,@Password
			,@UserID
        );

    SELECT @@IDENTITY;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Album_CreatePhotos</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Album_CreatePhotos">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Album_CreatePhotos
	@AlbumID				int
	,@UserID				int
	,@UserIP				varchar(50)
	,@PhotoNames			ntext
	,@PhotoDescriptions		ntext
	,@PhotoFileTypes        text
	,@PhotoFileIds			text
    ,@PhotoFileSizes	    text
AS BEGIN
    SET NOCOUNT ON;

    IF EXISTS(SELECT * FROM [bx_Albums] WHERE [UserID]=@UserID AND [AlbumID]=@AlbumID) BEGIN

		IF DATALENGTH(@PhotoFileIds) &gt; 0 BEGIN

			DECLARE @PhotoTable table(TempID int identity(1,1), Name nvarchar(50), Description nvarchar(1500) default(''), Type varchar(10), FileID varchar(50), FileSize bigint);

			INSERT INTO @PhotoTable (Name) SELECT item FROM bx_GetStringTable_ntext(@PhotoNames, N'/');

			UPDATE @PhotoTable SET [Description] = T.item FROM bx_GetStringTable_ntext(@PhotoDescriptions, N'/') T WHERE TempID = T.id;

			UPDATE @PhotoTable SET [Type] = T.item FROM bx_GetStringTable_text(@PhotoFileTypes, '/') T WHERE TempID = T.id;

			UPDATE @PhotoTable SET FileID = T.item FROM bx_GetStringTable_text(@PhotoFileIds, '/') T WHERE TempID = T.id;

            UPDATE @PhotoTable SET FileSize = T.item FROM bx_GetStringTable_text(@PhotoFileSizes, '/') T WHERE TempID = T.id;

			INSERT INTO [bx_Photos] ([AlbumID],[UserID],[CreateIP],[Name],[Description],[FileType],[FileID],[FileSize],[LastEditUserID])
			SELECT @AlbumID, @UserID, @UserIP, A.[Name], A.[Description], A.[Type], A.[FileID], A.[FileSize], @UserID FROM @PhotoTable AS A;
		END;

		RETURN 1;
	END;

	RETURN -1;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Album_GetAlbum</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Album_GetAlbum">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Album_GetAlbum
    @AlbumID              int
AS BEGIN
    SET NOCOUNT ON;

    SELECT 
        *
    FROM
        [bx_Albums]
    WHERE
        [AlbumID]=@AlbumID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Album_GetAlbumPhotoIDs</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Album_GetAlbumPhotoIDs">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Album_GetAlbumPhotoIDs
    @AlbumID              int
AS BEGIN
    SET NOCOUNT ON;

    SELECT [PhotoID] FROM [bx_Photos] WHERE [AlbumID] = @AlbumID ORDER BY [PhotoID] DESC;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Album_GetPhoto</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Album_GetPhoto">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Album_GetPhoto
    @PhotoID       int
AS BEGIN
    SET NOCOUNT ON;

    SELECT
        *
    FROM
        [bx_Photos]
    WHERE
        [PhotoID] = @PhotoID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Album_GetUploadPhotoCount</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Album_GetUploadPhotoCount">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Album_GetUploadPhotoCount
	@UserID		int,
	@BeginDate	datetime,
	@EndDate	datetime
AS
BEGIN
	SET NOCOUNT ON;

	SELECT COUNT(*) FROM bx_Photos WHERE [UserID] = @UserID AND [CreateDate] BETWEEN @BeginDate AND @EndDate;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Album_GetUserAlbums_All</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Album_GetUserAlbums_All">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Album_GetUserAlbums_All
    @UserID              int
AS BEGIN
    SET NOCOUNT ON;

    SELECT * FROM [bx_Albums] WHERE [UserID] = @UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Album_MovePhotos</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Album_MovePhotos">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Album_MovePhotos
    @SrcAlbumID         int
   ,@DesAlbumID         int
   ,@PhotoIDs           varchar(8000)
   ,@LastEditUserID     int
AS BEGIN
    SET NOCOUNT ON;

    DECLARE @TempData table(TempID int identity(1,1), _PhotoID int);

	INSERT INTO @TempData (_PhotoID) SELECT item FROM bx_GetIntTable(@PhotoIDs, '|');


	IF NOT EXISTS(SELECT * FROM (SELECT * FROM [bx_Photos] WHERE PhotoID IN (SELECT _PhotoID FROM @TempData)) A WHERE A.AlbumID != @SrcAlbumID) BEGIN


		UPDATE [bx_Albums] SET [CoverPhotoID] = NULL, [Cover] = '' WHERE AlbumID = @SrcAlbumID AND CoverPhotoID IN (SELECT _PhotoID FROM @TempData);


		UPDATE [bx_Albums] SET [LastEditUserID] = @LastEditUserID WHERE AlbumID IN (@SrcAlbumID, @DesAlbumID);

		UPDATE [bx_Photos] SET [AlbumID] = @DesAlbumID, [LastEditUserID] = @LastEditUserID FROM @TempData WHERE AlbumID = @SrcAlbumID AND PhotoID = _PhotoID;

		RETURN 1;
	END;

	RETURN 0;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Album_UpdateAlbum</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Album_UpdateAlbum">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Album_UpdateAlbum
     @AlbumID              int
    ,@Name            nvarchar(50)
    ,@Description       nvarchar(100)
    ,@PrivacyType     tinyint
    ,@Password        nvarchar(50)
    ,@LastEditUserID    int
AS BEGIN
    SET NOCOUNT ON;

    UPDATE 
        [bx_Albums]
    SET
        [Name] = @Name
        ,[Description] = @Description
       ,[KeywordVersion] = N''
       ,[PrivacyType] = @PrivacyType
       ,[Password] = @Password
       ,[UpdateDate] = GETDATE()
       ,[LastEditUserID] = @LastEditUserID
    WHERE
        [AlbumID] = @AlbumID;

	UPDATE
		[bx_Photos]
	SET
		[LastEditUserID] = @LastEditUserID
	WHERE
		[AlbumID] = @AlbumID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Album_UpdateAlbumCover</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Album_UpdateAlbumCover">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Album_UpdateAlbumCover
     @AlbumID           int
    ,@PhotoID           int
    ,@LastEditUserID    int
AS BEGIN
    SET NOCOUNT ON;

    UPDATE [bx_Albums] SET [Cover]=[ThumbPath],[LastEditUserID]=@LastEditUserID,[CoverPhotoID]=@PhotoID FROM [bx_Photos] WHERE [bx_Albums].[AlbumID]=@AlbumID AND [PhotoID]=@PhotoID;
     
	UPDATE [bx_Photos] SET [LastEditUserID] = @LastEditUserID WHERE [AlbumID] = @AlbumID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Album_UpdateAlbumKeywords</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Album_UpdateAlbumKeywords">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Album_UpdateAlbumKeywords
    @AlbumID               int,
    @KeywordVersion        varchar(32),
    @Name                  nvarchar(50),
    @Description            nvarchar(100),
    @NameReverter          nvarchar(1500),
    @DescriptionReverter   nvarchar(2500)
AS BEGIN

    SET NOCOUNT ON;

    IF @Name IS NOT NULL OR @Description IS NOT NULL BEGIN

        IF @KeywordVersion IS NOT NULL BEGIN

            IF @Name IS NOT NULL AND @Description IS NOT NULL
                UPDATE bx_Albums SET Name = @Name, Description = @Description, KeywordVersion = @KeywordVersion WHERE AlbumID = @AlbumID;
            ELSE IF @Name IS NOT NULL
                UPDATE bx_Albums SET Name = @Name, KeywordVersion = @KeywordVersion WHERE AlbumID = @AlbumID;
            ELSE
                UPDATE bx_Albums SET Description = @Description, KeywordVersion = @KeywordVersion WHERE AlbumID = @AlbumID;

        END
        ELSE BEGIN

           IF @Name IS NOT NULL AND @Description IS NOT NULL
                UPDATE bx_Albums SET Name = @Name, Description = @Description WHERE AlbumID = @AlbumID;
            ELSE IF @Name IS NOT NULL
                UPDATE bx_Albums SET Name = @Name WHERE AlbumID = @AlbumID;
            ELSE
                UPDATE bx_Albums SET Description = @Description WHERE AlbumID = @AlbumID;

        END

    END

    IF (@NameReverter IS NOT NULL AND @DescriptionReverter IS NOT NULL) BEGIN

        UPDATE bx_AlbumReverters SET NameReverter = @NameReverter, DescriptionReverter = @DescriptionReverter WHERE AlbumID = @AlbumID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_AlbumReverters (AlbumID, NameReverter, DescriptionReverter) VALUES (@AlbumID, @NameReverter, @DescriptionReverter);

    END
    ELSE IF (@NameReverter IS NOT NULL) BEGIN

        UPDATE bx_AlbumReverters SET NameReverter = @NameReverter WHERE AlbumID = @AlbumID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_AlbumReverters (AlbumID, NameReverter, DescriptionReverter) VALUES (@AlbumID, @NameReverter, N'');

    END
    ELSE IF (@DescriptionReverter IS NOT NULL) BEGIN

        UPDATE bx_AlbumReverters SET DescriptionReverter = @DescriptionReverter WHERE AlbumID = @AlbumID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_AlbumReverters (AlbumID, NameReverter, DescriptionReverter) VALUES (@AlbumID, N'', @DescriptionReverter);

    END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Album_UpdatePhoto</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Album_UpdatePhoto">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Album_UpdatePhoto
    @PhotoID           int
   ,@Name              nvarchar(50)
   ,@Description       nvarchar(1500)
   ,@LastEditUserID    int
AS BEGIN
    SET NOCOUNT ON;

    UPDATE 
        [bx_Photos] 
    SET 
         [Name] = @Name
        ,[Description] = @Description
        ,[KeywordVersion] = N''
        ,[UpdateDate] = GETDATE()
		,[LastEditUserID] = @LastEditUserID
    WHERE
        [PhotoID] = @PhotoID;

	DECLARE @AlbumID int;

	SELECT @AlbumID = AlbumID FROM [bx_Photos] WHERE [PhotoID] = @PhotoID;

	UPDATE [bx_Albums] SET [LastEditUserID] = @LastEditUserID WHERE AlbumID = @AlbumID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Album_UpdatePhotoKeywords</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Album_UpdatePhotoKeywords">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Album_UpdatePhotoKeywords
    @PhotoID               int,
    @KeywordVersion        varchar(32),
    @Name                  nvarchar(50),
    @NameReverter          nvarchar(1500),
    @Description           nvarchar(1500),
    @DescriptionReverter   nvarchar(2500)
AS BEGIN

    SET NOCOUNT ON;

    IF @Name IS NOT NULL OR @Description IS NOT NULL BEGIN

        IF @KeywordVersion IS NOT NULL BEGIN

            IF @Name IS NOT NULL AND @Description IS NOT NULL
                UPDATE bx_Photos SET Name = @Name, Description = @Description, KeywordVersion = @KeywordVersion WHERE PhotoID = @PhotoID;
            ELSE IF @Name IS NOT NULL
                UPDATE bx_Photos SET Name = @Name, KeywordVersion = @KeywordVersion WHERE PhotoID = @PhotoID;
            ELSE
                UPDATE bx_Photos SET Description = @Description, KeywordVersion = @KeywordVersion WHERE PhotoID = @PhotoID;

        END
        ELSE BEGIN

           IF @Name IS NOT NULL AND @Description IS NOT NULL
                UPDATE bx_Photos SET Name = @Name, Description = @Description WHERE PhotoID = @PhotoID;
            ELSE IF @Name IS NOT NULL
                UPDATE bx_Photos SET Name = @Name WHERE PhotoID = @PhotoID;
            ELSE
                UPDATE bx_Photos SET Description = @Description WHERE PhotoID = @PhotoID;

        END

    END

    IF (@NameReverter IS NOT NULL AND @DescriptionReverter IS NOT NULL) BEGIN

        UPDATE bx_PhotoReverters SET NameReverter = @NameReverter, DescriptionReverter = @DescriptionReverter WHERE PhotoID = @PhotoID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_PhotoReverters (PhotoID, NameReverter, DescriptionReverter) VALUES (@PhotoID, @NameReverter, @DescriptionReverter);

    END
    ELSE IF (@NameReverter IS NOT NULL) BEGIN

        UPDATE bx_PhotoReverters SET NameReverter = @NameReverter WHERE PhotoID = @PhotoID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_PhotoReverters (PhotoID, NameReverter, DescriptionReverter) VALUES (@PhotoID, @NameReverter, N'');

    END
    ELSE IF (@DescriptionReverter IS NOT NULL) BEGIN

        UPDATE bx_PhotoReverters SET DescriptionReverter = @DescriptionReverter WHERE PhotoID = @PhotoID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_PhotoReverters (PhotoID, NameReverter, DescriptionReverter) VALUES (@PhotoID, N'', @DescriptionReverter);

    END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Album_UpdatePhotos</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Album_UpdatePhotos">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Album_UpdatePhotos
    @AlbumID            int
   ,@PhotoIDs           varchar(8000)
   ,@PhotoNames         ntext
   ,@PhotoDescs         ntext
   ,@LastEditUserID     int
AS BEGIN
    SET NOCOUNT ON;

    DECLARE @TempData table(TempID int identity(1,1), _PhotoID int, _PhotoName varchar(50), _PhotoDesc varchar(1500));

	INSERT INTO @TempData (_PhotoID) SELECT item FROM bx_GetIntTable(@PhotoIDs, '|');

	IF NOT EXISTS(SELECT * FROM (SELECT * FROM [bx_Photos] WHERE PhotoID IN (SELECT _PhotoID FROM @TempData)) A WHERE A.AlbumID != @AlbumID) BEGIN

		UPDATE @TempData SET _PhotoName = T.item FROM bx_GetStringTable_ntext(@PhotoNames, '|') T WHERE TempID = T.id;

		UPDATE @TempData SET _PhotoDesc = T.item FROM bx_GetStringTable_ntext(@PhotoDescs, '|') T WHERE TempID = T.id;

		UPDATE [bx_Photos] SET [Name] = _PhotoName, [Description] = ISNULL(_PhotoDesc,''), [LastEditUserID] = @LastEditUserID FROM @TempData WHERE AlbumID=@AlbumID AND PhotoID = _PhotoID;

		UPDATE [bx_Albums] SET [LastEditUserID] = @LastEditUserID WHERE AlbumID = @AlbumID;

		RETURN 1;
	END;

	RETURN 0;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Album_UpdatePhotoThumbInfos</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Album_UpdatePhotoThumbInfos">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Album_UpdatePhotoThumbInfos
    @PhotoIDs           varchar(8000)
   ,@ThumbPaths         text
   ,@ThumbWidths        varchar(8000)
   ,@ThumbHeights       varchar(8000)
   ,@AsAlbumCovers      varchar(8000)
AS BEGIN
    SET NOCOUNT ON;

    DECLARE @TempData table(TempID int identity(1,1), PID int, Path varchar(256), Width int, Height int, AsAlbumCover int);

	INSERT INTO @TempData (PID) SELECT item FROM bx_GetIntTable(@PhotoIDs, '|');

	UPDATE @TempData SET Path = T.item FROM bx_GetStringTable_text(@ThumbPaths, '|') T WHERE TempID = T.id;

	UPDATE @TempData SET Width = T.item FROM bx_GetIntTable(@ThumbWidths, '|') T WHERE TempID = T.id;

	UPDATE @TempData SET Height = T.item FROM bx_GetIntTable(@ThumbHeights, '|') T WHERE TempID = T.id;

	UPDATE @TempData SET AsAlbumCover = T.item FROM bx_GetIntTable(@AsAlbumCovers, '|') T WHERE TempID = T.id;

	UPDATE [bx_Photos] SET ThumbPath = T.Path, ThumbWidth = T.Width, ThumbHeight = T.Height FROM @TempData T WHERE PhotoID = T.PID;

	DECLARE @Cover AS varchar(256);

	SELECT TOP 1 @Cover = Path FROM @TempData ORDER BY TempID DESC;

	UPDATE [bx_Albums] SET [Cover] = ThumbPath, [CoverPhotoID] = [PhotoID] FROM [bx_Photos] WHERE [PhotoID] IN (SELECT PID FROM @TempData WHERE AsAlbumCover = 1) AND [bx_Albums].AlbumID = [bx_Photos].AlbumID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Announcement_GetAvailableAnnouncements</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Announcement_GetAvailableAnnouncements">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Announcement_GetAvailableAnnouncements
 @AnnouncementID         int
,@PostUserID             int
,@Subject                nvarchar(200)
,@Content                ntext
,@AnnouncementType       tinyint
,@BeginDate              datetime
,@EndDate                datetime 
,@SortOrder              int
AS
BEGIN

    SET NOCOUNT ON;

    SELECT * FROM bx_Announcements WHERE EndDate &gt; GETDATE() ORDER BY SortOrder ASC;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Announcement_Save</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Announcement_Save">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Announcement_Save
 @AnnouncementID         int
,@PostUserID             int
,@Subject                nvarchar(200)
,@Content                ntext
,@AnnouncementType       tinyint
,@BeginDate              datetime
,@EndDate                datetime 
,@SortOrder              int
AS
BEGIN

    SET NOCOUNT ON;

    IF @AnnouncementID&lt;&gt;0 AND  @AnnouncementID  IS NOT NULL BEGIN
        UPDATE bx_Announcements SET PostUserID = @PostUserID, [Subject] = @Subject ,[Content] = @Content,AnnouncementType = @AnnouncementType, BeginDate = @BeginDate, EndDate = @EndDate,SortOrder = @SortOrder WHERE AnnouncementID = @AnnouncementID;
    END
    ELSE BEGIN
        INSERT INTO bx_Announcements(PostUserID, [Subject], [Content] , AnnouncementType , BeginDate, EndDate, SortOrder) VALUES( @PostUserID, @Subject,@Content, @AnnouncementType, @BeginDate, @EndDate, @SortOrder);
        SET @AnnouncementID = (SELECT @@Identity);
    END

    SELECT * FROM bx_Announcements WHERE AnnouncementID = @AnnouncementID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ApplyMission</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_ApplyMission">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_ApplyMission
     @UserID       int
    ,@MissionID    int
    ,@Percent      float
AS
BEGIN
	SET NOCOUNT ON;

    DECLARE @CycleTime int;
    SELECT @CycleTime = [CycleTime] FROM [bx_Missions] WHERE [ID] = @MissionID AND getdate() &gt; [BeginDate] AND getdate() &lt; [EndDate] AND IsEnable = 1;

    IF @CycleTime IS NOT NULL BEGIN
        DECLARE @Status tinyint,@IsPrized bit;
        IF @Percent = 1 BEGIN
            SET @Status = 1;
            SET @IsPrized = 1;
        END
        ELSE BEGIN 
            SET @Status = 0;
            SET @IsPrized = 0;
        END

        IF NOT EXISTS (SELECT * FROM [bx_UserMissions] WHERE [UserID] = @UserID AND [MissionID] = @MissionID) BEGIN
            INSERT INTO [bx_UserMissions](
                         [UserID]
                        ,[MissionID]
                        ,[Status]
                        ,[FinishPercent]
                        ,[IsPrized]
                        ) VALUES (
                         @UserID
                        ,@MissionID
                        ,@Status
                        ,@Percent
                        ,@IsPrized
                        );
            UPDATE [bx_Missions] SET [TotalUsers] = [TotalUsers] + 1 WHERE [ID] = @MissionID
            RETURN 0;
        END
        ELSE IF @CycleTime = 0  BEGIN--不是周期性任务
			DECLARE @TempStatus tinyint;
            SELECT @TempStatus = [Status]
				 FROM [bx_UserMissions] WHERE [UserID] = @UserID AND [MissionID] = @MissionID;
				 
			IF @TempStatus = 3 BEGIN--放弃的 可以重新申请
				UPDATE [bx_UserMissions] SET 
                          [Status] = @Status
                        , [FinishPercent] = @Percent
                        , [IsPrized] = @IsPrized
                        , [FinishDate] = getdate()
                        , [CreateDate] = getdate()
                        WHERE [UserID] = @UserID AND [MissionID] = @MissionID;
				UPDATE [bx_Missions] SET [TotalUsers] = [TotalUsers] + 1 WHERE [ID] = @MissionID
				RETURN 0;
			END	
			ELSE
				RETURN 2; --已经申请过  
		END
        ELSE BEGIN --周期性任务
            DECLARE @TempIsPrized bit,@TempCreateDate datetime,@TempFinishPercent float;
            SELECT @TempStatus = [Status]
				 , @TempFinishPercent = [FinishPercent]
				 , @TempIsPrized = [IsPrized]
				 , @TempCreateDate = [CreateDate] 
				 FROM [bx_UserMissions] WHERE [UserID] = @UserID AND [MissionID] = @MissionID;
            
			IF @TempStatus&lt;&gt;3 AND DATEADD(second,@CycleTime,@TempCreateDate)&gt;getdate() --下次申请时间未到
				RETURN 2; --已经申请过  

            DECLARE @ReturnValue int,@UpdateUserMission bit
            SET @ReturnValue = 0;
            SET @UpdateUserMission = 0;

            IF @TempIsPrized = 1 BEGIN
                SET @ReturnValue = 0;
                SET @UpdateUserMission = 1;
            END
            ELSE IF @TempFinishPercent = 1 BEGIN --已经完成 未领取奖励
                SET @UpdateUserMission = 1;
                SET @ReturnValue = 3;
            END
            ELSE IF @TempStatus = 0
                RETURN 2;--已经申请过
            ELSE IF @TempStatus &gt; 1 BEGIN --放弃 或者 失败的任务  重新开始
                SET @UpdateUserMission = 1;
                SET @ReturnValue = 0;
            END
            
            IF @UpdateUserMission = 1 BEGIN
                UPDATE [bx_UserMissions] SET 
                          [Status] = @Status
                        , [FinishPercent] = @Percent
                        , [IsPrized] = @IsPrized
                        , [FinishDate] = getdate()
                        , [CreateDate] = getdate()
                        WHERE [UserID] = @UserID AND [MissionID] = @MissionID;
				UPDATE [bx_Missions] SET [TotalUsers] = [TotalUsers] + 1 WHERE [ID] = @MissionID
            END
            RETURN @ReturnValue;
        END
    END
    ELSE
        RETURN 1;--失败 
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_AutoFinalQuestion</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_AutoFinalQuestion">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_AutoFinalQuestion
	@ThreadID int, 
	@UserID int,
	@RewardCount int,
	@TotalReward int
AS
BEGIN

	SET NOCOUNT ON;

	DECLARE @Reward int,@PostCount int
	SELECT @PostCount = COUNT(*) FROM [bx_Posts] WITH (NOLOCK) WHERE ThreadID = @ThreadID AND SortOrder &lt; 4000000000000000 AND UserID &lt;&gt; @UserID;
	
	IF(@PostCount = 0)
	BEGIN
		UPDATE [bx_Questions] SET IsClosed = 1 WHERE ThreadID = @ThreadID
	END
	ELSE BEGIN
        IF EXISTS(SELECT * FROM [bx_Questions] WHERE IsClosed = 1 AND ThreadID = @ThreadID)
            RETURN;
		IF(@PostCount &lt; @RewardCount)
			SET @RewardCount = @PostCount;

		SET @Reward = @TotalReward / @RewardCount;
		
		BEGIN TRANSACTION
		EXEC('INSERT [bx_QuestionRewards](PostID,ThreadID,Reward) SELECT TOP '+@RewardCount+' PostID,'+@ThreadID+','+@Reward+' FROM [bx_Posts] WITH(NOLOCK) WHERE ThreadID='+@ThreadID+' AND SortOrder &lt; 4000000000000000 AND UserID &lt;&gt; ' + @UserID + ' ORDER BY PostID')
		IF(@@ERROR &lt;&gt; 0) BEGIN
		   ROLLBACK TRANSACTION
		   RETURN
		END
		
		UPDATE [bx_QuestionRewards] SET Reward = Reward + @TotalReward % @RewardCount WHERE PostID = (SELECT MIN(PostID) FROM [bx_QuestionRewards] WHERE ThreadID = @ThreadID)
		IF(@@ERROR &lt;&gt; 0) BEGIN
		   ROLLBACK TRANSACTION
		   RETURN
		END
		
		UPDATE [bx_Questions] SET IsClosed = 1 WHERE ThreadID = @ThreadID
		IF(@@ERROR &lt;&gt; 0) BEGIN
		   ROLLBACK TRANSACTION
		   RETURN
		END
		
		COMMIT TRANSACTION
		
		SELECT UserID, SUM(Q.Reward) AS Reward FROM bx_Posts P INNER JOIN bx_QuestionRewards Q ON P.PostID = Q.PostID
			WHERE P.ThreadID = @ThreadID GROUP BY UserID;
	END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_BanUsersWholeForum</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_BanUsersWholeForum">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_BanUsersWholeForum
 @UserIDs            varchar(8000)
,@OperatorName      nvarchar(50)
,@UserIP            varchar(50)
AS
BEGIN
    SET NOCOUNT ON;
    DELETE FROM bx_BannedUsers WHERE UserID IN(SELECT item FROM bx_GetIntTable(@UserIDs,','));
    INSERT INTO bx_BannedUsers(UserID,ForumID) SELECT item,0 FROM bx_GetIntTable(@UserIDs,',') INNER JOIN bx_Users ON item=UserID;
    INSERT INTO bx_BanUserLogs(UserID,Username,UserIP,OperatorName,OperationType) SELECT item,Username,@UserIP,@OperatorName,2 FROM bx_GetIntTable(@UserIDs,',') INNER JOIN bx_Users ON item=UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_BeginStepByStepTasks</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_BeginStepByStepTasks">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_BeginStepByStepTasks
    @TaskID uniqueidentifier,
    @Type varchar(200),
    @UserID int,
    @Param nvarchar(3500),
    @Offset bigint,
    @TotalCount int,
    @Title nvarchar(100),
    @InstanceMode tinyint
AS
BEGIN

    SET NOCOUNT ON;

    IF @InstanceMode = 1 BEGIN

        IF EXISTS ( SELECT * FROM bx_StepByStepTasks WHERE UserID = @UserID AND Type = @Type )
            RETURN 1;  --用户单实例模式，已经有在运行

    END
    ELSE IF @InstanceMode = 2 BEGIN

        IF EXISTS ( SELECT * FROM bx_StepByStepTasks WHERE Type = @Type )
            RETURN 2;  --系统单实例模式，已经有在运行

    END

    INSERT INTO [bx_StepByStepTasks]
        ([TaskID]
        ,[Type]
        ,[UserID]
        ,[Param]
        ,[Offset]
        ,[TotalCount]
        ,[Title]
        ,[InstanceMode])
     VALUES
        (@TaskID
        ,@Type
        ,@UserID
        ,@Param
        ,@Offset
        ,@TotalCount
        ,@Title
        ,@InstanceMode);

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Blog_CreateBlogCategory</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Blog_CreateBlogCategory">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Blog_CreateBlogCategory
    @UserID          int
   ,@Name            nvarchar(50)
AS BEGIN
    SET NOCOUNT ON;

	IF NOT EXISTS (SELECT * FROM bx_BlogCategories WHERE UserID = @UserID AND Name = @Name) BEGIN

		INSERT INTO [bx_BlogCategories]([UserID],[Name]) VALUES (@UserID, @Name);
	END
	ELSE BEGIN
		
		SELECT -1;
	END

    SELECT CAST(@@IDENTITY AS int)
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Blog_EditBlogCategory</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Blog_EditBlogCategory">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Blog_EditBlogCategory
    @CategoryID      int
   ,@Name            nvarchar(50)
AS BEGIN
    SET NOCOUNT ON;

    UPDATE 
        [bx_BlogCategories]
    SET 
        [Name] = @Name,
		[KeywordVersion] = ''
    WHERE 
        [CategoryID] = @CategoryID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Blog_ExistsBlogArticle</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Blog_ExistsBlogArticle">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Blog_ExistsBlogArticle
	@ArticleID	int
AS
BEGIN
	SET NOCOUNT ON;
	
	IF EXISTS(SELECT * FROM bx_BlogArticles WHERE ArticleID = @ArticleID)
		SELECT 1;
	ELSE
		SELECT 0;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Blog_GetBlogArticle</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Blog_GetBlogArticle">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Blog_GetBlogArticle
    @ArticleID      int
AS BEGIN
    SET NOCOUNT ON;
    
    SELECT * FROM
        [bx_Tags]
    WHERE
        [ID] IN (SELECT [TagID] FROM [bx_TagRelation] WHERE [Type] = 1 AND [TargetID] = @ArticleID)
    AND 
        [IsLock] = 0;

    SELECT * FROM [bx_BlogArticleVisitors] WHERE  [BlogArticleID] = @ArticleID ORDER BY [ViewDate] DESC;

    SELECT * FROM [bx_BlogArticles] WHERE [ArticleID] = @ArticleID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Blog_GetBlogArticleCount</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Blog_GetBlogArticleCount">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Blog_GetBlogArticleCount
	@UserID			int,
	@TargetUserID	int,
	@BeginDate		datetime,
	@EndDate    datetime
AS
BEGIN
	SET NOCOUNT ON;

	SELECT COUNT(*) FROM bx_Comments WHERE [Type] = 2 AND [UserID] = @UserID AND [CreateDate] BETWEEN @BeginDate AND @EndDate AND [TargetID] IN (
		SELECT ArticleID FROM bx_BlogArticles WHERE bx_BlogArticles.UserID = @TargetUserID
	);
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Blog_GetBlogCategory</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Blog_GetBlogCategory">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Blog_GetBlogCategory
    @CategoryID     int
AS BEGIN
    SET NOCOUNT ON;

    SELECT * FROM [bx_BlogCategories] WHERE [CategoryID] = @CategoryID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Blog_GetCommentCountForArticle</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Blog_GetCommentCountForArticle">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Blog_GetCommentCountForArticle
	@UserID		int,
	@ArticleID	int,
	@BeginDate	datetime,
	@EndDate    datetime
AS
BEGIN
	SET NOCOUNT ON;

	SELECT COUNT(*) FROM bx_Comments WHERE [Type] = 2 AND [UserID] = @UserID AND [CreateDate] BETWEEN @BeginDate AND @EndDate AND [TargetID] = @ArticleID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Blog_GetPostBlogArticleCount</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Blog_GetPostBlogArticleCount">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Blog_GetPostBlogArticleCount
	@UserID		int,
	@BeginDate	datetime,
	@EndDate    datetime
AS
BEGIN
	SET NOCOUNT ON;

	SELECT COUNT(*) FROM bx_BlogArticles WHERE [UserID] = @UserID AND [CreateDate] BETWEEN @BeginDate AND @EndDate;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Blog_GetUserBlogCategories</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Blog_GetUserBlogCategories">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Blog_GetUserBlogCategories
    @UserID          int
AS BEGIN
    SET NOCOUNT ON;

    SELECT * FROM [bx_BlogCategories] WHERE  [UserID] = @UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Blog_PostBlogArticle</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Blog_PostBlogArticle">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE [bx_Blog_PostBlogArticle] 
      @UserID            int
     ,@CategoryID        int
     ,@IsApproved        bit
     ,@EnableComment     bit
     ,@PrivacyType       tinyint
     ,@CreateIP          varchar(50)
     ,@Thumb             nvarchar(200)
     ,@Subject           nvarchar(200)
     ,@Password          nvarchar(50)
     ,@Content           ntext
     ,@ArticleID         int                OUTPUT

AS BEGIN

	SET NOCOUNT ON; 
	
	BEGIN TRANSACTION
	
	IF NOT EXISTS (SELECT [CategoryID] FROM [bx_BlogCategories] WHERE [CategoryID] = @CategoryID AND [UserID] = @UserID) BEGIN  --判断是否有指定分类
	 
		DECLARE @CategoryCount int;
		IF EXISTS (SELECT * FROM [bx_BlogCategories] WHERE [UserID] = @UserID)
			SET @CategoryID = 0; --如果用户有日志分类,或只是传输了错误值的话,插入NULL
		ELSE BEGIN
			SET @CategoryID = 0; --使用刚自动新建的这个新分类
		END
	END
	
	IF(@@error&lt;&gt;0)
	GOTO Cleanup;	
		
	IF @ArticleID &gt; 0 BEGIN --如果有传输日志ID,则表示编辑
	    
		UPDATE 
			[bx_BlogArticles]
		SET 
			[LastEditUserID] = @UserID
           ,[CategoryID] = @CategoryID
           ,[IsApproved] = @IsApproved
           ,[EnableComment] = @EnableComment
           ,[PrivacyType] = @PrivacyType
           ,[CreateIP] = @CreateIP
           ,[Thumb] = @Thumb
           ,[Subject] = @Subject
           ,[Password] = @Password
           ,[Content] = @Content
           ,[UpdateDate] = GETDATE()
           ,[KeywordVersion] = ''
        WHERE 
			ArticleID = @ArticleID;

    END
	ELSE BEGIN
	
		INSERT INTO [bx_BlogArticles](
			[UserID]
			,[LastEditUserID]
			,[CategoryID]
			,[IsApproved]
			,[EnableComment]
			,[PrivacyType]
			,[CreateIP]
			,[Thumb]
			,[Subject]
			,[Password]
			,[Content]
		) VALUES (
			@UserID
			,@UserID
			,@CategoryID
			,@IsApproved
			,@EnableComment
			,@PrivacyType
			,@CreateIP
			,@Thumb
			,@Subject
			,@Password
			,@Content
		);
		
		SET @ArticleID = @@IDENTITY;
	END
		  
	IF(@@error&lt;&gt;0)
		GOTO Cleanup;	
	ELSE BEGIN
		GOTO CommitTrans;
	END	   
		
	
CommitTrans:
	BEGIN
		COMMIT TRANSACTION
		RETURN (0);
	END
                    
Cleanup:
	BEGIN
		ROLLBACK TRANSACTION
		RETURN (-1)
	END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Blog_UpdateBlogArticleKeywords</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Blog_UpdateBlogArticleKeywords">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Blog_UpdateBlogArticleKeywords
    @ArticleID         int,
    @KeywordVersion    varchar(32),
    @Subject           nvarchar(200),
    @SubjectReverter   nvarchar(4000),
    @Content           ntext,
    @ContentReverter   ntext
AS BEGIN

    SET NOCOUNT ON;

    IF @Subject IS NOT NULL OR @Content IS NOT NULL BEGIN

        IF @KeywordVersion IS NOT NULL BEGIN

            IF @Subject IS NOT NULL AND @Content IS NOT NULL
                UPDATE bx_BlogArticles SET Subject = @Subject, Content = @Content, KeywordVersion = @KeywordVersion WHERE ArticleID = @ArticleID;
            ELSE IF @Subject IS NOT NULL
                UPDATE bx_BlogArticles SET Subject = @Subject, KeywordVersion = @KeywordVersion WHERE ArticleID = @ArticleID;
            ELSE
                UPDATE bx_BlogArticles SET Content = @Content, KeywordVersion = @KeywordVersion WHERE ArticleID = @ArticleID;

        END
        ELSE BEGIN

           IF @Subject IS NOT NULL AND @Content IS NOT NULL
                UPDATE bx_BlogArticles SET Subject = @Subject, Content = @Content WHERE ArticleID = @ArticleID;
            ELSE IF @Subject IS NOT NULL
                UPDATE bx_BlogArticles SET Subject = @Subject WHERE ArticleID = @ArticleID;
            ELSE
                UPDATE bx_BlogArticles SET Content = @Content WHERE ArticleID = @ArticleID;

        END

    END

    IF (@SubjectReverter IS NOT NULL AND @ContentReverter IS NOT NULL) BEGIN

        UPDATE bx_BlogArticleReverters SET SubjectReverter = @SubjectReverter, ContentReverter = @ContentReverter WHERE ArticleID = @ArticleID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_BlogArticleReverters (ArticleID, SubjectReverter, ContentReverter) VALUES (@ArticleID, @SubjectReverter, @ContentReverter);

    END
    ELSE IF (@SubjectReverter IS NOT NULL) BEGIN

        UPDATE bx_BlogArticleReverters SET SubjectReverter = @SubjectReverter WHERE ArticleID = @ArticleID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_BlogArticleReverters (ArticleID, SubjectReverter, ContentReverter) VALUES (@ArticleID, @SubjectReverter, N'');

    END
    ELSE IF (@ContentReverter IS NOT NULL) BEGIN

        UPDATE bx_BlogArticleReverters SET ContentReverter = @ContentReverter WHERE ArticleID = @ArticleID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_BlogArticleReverters (ArticleID, SubjectReverter, ContentReverter) VALUES (@ArticleID, N'', @ContentReverter);

    END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Blog_UpdateBlogCategoryKeywords</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Blog_UpdateBlogCategoryKeywords">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Blog_UpdateBlogCategoryKeywords
    @CategoryID            int,
    @KeywordVersion        varchar(32),
    @Name                  nvarchar(50),
    @NameReverter          nvarchar(4000)
AS BEGIN


    SET NOCOUNT ON;

    IF @Name IS NOT NULL BEGIN

        IF @KeywordVersion IS NOT NULL
            UPDATE bx_BlogCategories SET Name = @Name, KeywordVersion = @KeywordVersion WHERE CategoryID = @CategoryID;
        ELSE
            UPDATE bx_BlogCategories SET Name = @Name WHERE CategoryID = @CategoryID;

    END

    IF @NameReverter IS NOT NULL BEGIN

        UPDATE bx_BlogCategoryReverters SET NameReverter = @NameReverter WHERE CategoryID = @CategoryID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_BlogCategoryReverters (CategoryID, NameReverter) VALUES (@CategoryID, @NameReverter);

    END


END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Blog_VisitBlogArticle</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Blog_VisitBlogArticle">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Blog_VisitBlogArticle
      @ArticleID            int
     ,@UserID               int
AS
BEGIN

	SET NOCOUNT ON; 

	BEGIN TRANSACTION
	
	UPDATE [bx_BlogArticles] SET [TotalViews] = [TotalViews] + 1 WHERE [ArticleID] = @ArticleID AND [UserID] &lt;&gt; @UserID;
	IF @@ROWCOUNT &gt; 0 BEGIN
	
	    IF EXISTS (SELECT [UserID] FROM [bx_BlogArticleVisitors] WHERE [BlogArticleID] = @ArticleID AND [UserID] = @UserID)
			UPDATE [bx_BlogArticleVisitors] SET [ViewDate] = GETDATE() WHERE [BlogArticleID] = @ArticleID AND [UserID] = @UserID;
		ELSE BEGIN
			INSERT INTO [bx_BlogArticleVisitors] ([BlogArticleID], [UserID]) VALUES (@ArticleID, @UserID); --写入访问者本次的访问记录
			DELETE FROM [bx_BlogArticleVisitors] WHERE [BlogArticleID] = @ArticleID AND [UserID] NOT IN (SELECT TOP 10 [UserID] FROM [bx_BlogArticleVisitors] WHERE [BlogArticleID] = @ArticleID ORDER BY [ViewDate] DESC); --清除该日志不在前10条的访问记录
		END

	END
	
	IF(@@error&lt;&gt;0)
		GOTO Cleanup;

	GOTO CommitTrans;
	
	
CommitTrans:
	BEGIN
		COMMIT TRANSACTION
		RETURN (0);
	END
                    
Cleanup:
	BEGIN
		ROLLBACK TRANSACTION
		RETURN (-1)
	END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_BuyInviteSerial</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_BuyInviteSerial">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_BuyInviteSerial 
    @UserID        int,
    @BuyCount      int,
    @ExpiresDate   datetime,
    @Remark        varchar(200)
AS BEGIN
    SET NOCOUNT ON;
    DECLARE @i int;
    SET @i = 0;
    WHILE @i &lt; @BuyCount
    BEGIN
        INSERT INTO bx_InviteSerials (UserID, ExpiresDate, Status,Remark) VALUES (@UserID, @ExpiresDate, 0,@Remark);
        SET @i = @i + 1;
    END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CancelBan</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CancelBan">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_CancelBan
 @UserIDs           varchar(8000)
,@OperatorName     nvarchar(50)
,@OperationType     varchar(50)
,@UserIP            varchar(50)
AS
BEGIN
    SET NOCOUNT ON;
    DELETE FROM bx_BannedUsers WHERE UserID IN(SELECT item FROM bx_GetIntTable(@UserIDs,','));
    INSERT INTO bx_BanUserLogs(UserID,Username,UserIP,OperatorName,OperationType) SELECT item,Username,@UserIP,@OperatorName,@OperationType FROM  bx_GetIntTable(@UserIDs,',') LEFT JOIN bx_Users ON item=UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CancelBanByForumID</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CancelBanByForumID">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_CancelBanByForumID
 @UserIDs          varchar(8000)
,@ForumID          int
,@OperatorName    nvarchar(50)
,@OperationType    varchar(50)
,@UserIP            varchar(50)
AS
BEGIN
    SET NOCOUNT ON;
    DELETE FROM bx_BannedUsers WHERE UserID IN( SELECT item FROM  bx_GetIntTable(@UserIDs,',')) AND ForumID = @ForumID;
    INSERT INTO bx_BanUserLogs(UserID,Username,UserIP,OperatorName,OperationType) SELECT item,Username,@UserIP,@OperatorName,@OperationType FROM  bx_GetIntTable(@UserIDs,',') LEFT JOIN bx_Users ON item=UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ChangePhoneBySmsCode</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_ChangePhoneBySmsCode">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_ChangePhoneBySmsCode
@UserID             int,
@Action             tinyint,
@OldMobilePhone     bigint,
@NewMobilePhone     bigint,
@OldSmsCode         varchar(10),
@NewSmsCode         varchar(10),
@OldSuccess         bit out,
@NewSuccess         bit out

AS
BEGIN
    SET NOCOUNT ON;

    SET @OldSuccess=0;
    SET @NewSuccess=0;

    IF EXISTS (SELECT * FROM bx_SmsCodes
            WHERE UserID = @UserID
              AND ActionType = @Action
              AND ExpiresDate &gt;= GETDATE()
              AND IsUsed = 0
              AND ChangedMobilePhone = @OldMobilePhone
              AND ChangedSmsCode = @OldSmsCode)
        SET @OldSuccess=1;

    IF EXISTS (SELECT * FROM bx_SmsCodes
            WHERE UserID = @UserID
              AND ActionType = @Action
              AND ExpiresDate &gt;= GETDATE()
              AND IsUsed = 0
              AND MobilePhone = @NewMobilePhone
              AND SmsCode = @NewSmsCode)
        SET @NewSuccess=1;

    IF(@OldSuccess = 1 AND @NewSuccess = 1) BEGIN
        UPDATE bx_Users SET MobilePhone = @NewMobilePhone WHERE UserID = @UserID;
        UPDATE bx_SmsCodes SET IsUsed = 1 WHERE UserID = @UserID AND IsUsed = 0;
        INSERT INTO bx_UserMobileOperationLogs(UserID, Username, MobilePhone, OperationType) SELECT UserID, Username, @NewMobilePhone, @Action FROM bx_Users WITH (NOLOCK) WHERE UserID = @UserID;
    END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Chat_GetChatSession</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Chat_GetChatSession">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Chat_GetChatSession
      @UserID         int
     ,@TargetUserID   int
AS BEGIN

    SET NOCOUNT ON;

    SELECT * FROM bx_ChatSessions WHERE UserID = @UserID AND TargetUserID = @TargetUserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Chat_GetLastMessages</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Chat_GetLastMessages">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Chat_GetLastMessages
 @UserID          int
,@TargetUserID    int
,@LastMessageID    int
AS
BEGIN
    SET NOCOUNT ON;

    IF @LastMessageID = 0
        SELECT TOP 20 * FROM bx_ChatMessages WHERE UserID = @UserID AND TargetUserID = @TargetUserID ORDER BY MessageID DESC;
    ELSE
        SELECT TOP 20 * FROM bx_ChatMessages WHERE UserID = @UserID AND TargetUserID = @TargetUserID AND MessageID &gt; @LastMessageID ORDER BY MessageID DESC;

     UPDATE bx_ChatMessages SET IsRead = 1 WHERE UserID = @UserID AND TargetUserID = @TargetUserID AND IsRead = 0;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Chat_SendMessage</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Chat_SendMessage">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Chat_SendMessage
      @UserID         int
     ,@TargetUserID   int
     ,@Content        nvarchar(3000)
     ,@CreateIP       varchar(50)
     ,@GetNewMessages bit
     ,@LastMessageID  int
AS BEGIN

    SET NOCOUNT ON;

    DECLARE @NewMessageID int;

    INSERT INTO
        [bx_ChatMessages](
             [UserID]
            ,[TargetUserID]
            ,[IsReceive]
            ,[IsRead]
            ,[Content]
            ,[CreateIP]
        ) VALUES (
             @UserID
            ,@TargetUserID
            ,0
            ,1
            ,@Content
            ,@CreateIP
        );

    SELECT @NewMessageID = @@IDENTITY;

    INSERT INTO
        [bx_ChatMessages](
             [UserID]
            ,[TargetUserID]
            ,[IsReceive]
            ,[IsRead]
            ,[FromMessageID]
            ,[Content]
            ,[CreateIP]
        ) VALUES (
             @TargetUserID
            ,@UserID
            ,1
            ,0
            ,@NewMessageID
            ,@Content
            ,@CreateIP
        );

    DECLARE @Now datetime;
    SET @Now = GETDATE();

    UPDATE [bx_ChatSessions] SET TotalMessages = TotalMessages + 1, LastMessage = @Content, UpdateDate = @Now WHERE UserID = @UserID AND TargetUserID = @TargetUserID;
    IF @@ROWCOUNT = 0
        INSERT INTO [bx_ChatSessions] (UserID, TargetUserID, TotalMessages, LastMessage, CreateDate) VALUES (@UserID, @TargetUserID, 1, @Content, @Now);

    UPDATE [bx_ChatSessions] SET TotalMessages = TotalMessages + 1, UnreadMessages = UnreadMessages + 1, LastMessage = @Content, UpdateDate = @Now WHERE UserID = @TargetUserID AND TargetUserID = @UserID;
    IF @@ROWCOUNT = 0
        INSERT INTO [bx_ChatSessions] (UserID, TargetUserID, TotalMessages, UnreadMessages, LastMessage, CreateDate) VALUES (@TargetUserID, @UserID, 1, 1, @Content, @Now);

    UPDATE [bx_UserVars] SET UnreadMessages = UnreadMessages + 1 WHERE UserID = @TargetUserID;

    IF @GetNewMessages = 1
        EXEC bx_Chat_GetLastMessages @UserID, @TargetUserID, @LastMessageID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Chat_UpdateMessageContentKeywords</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Chat_UpdateMessageContentKeywords">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Chat_UpdateMessageContentKeywords
    @MessageID                int,
    @KeywordVersion           varchar(32),
    @Content                  ntext,
    @ContentReverter          ntext
AS BEGIN


    SET NOCOUNT ON;

    IF @Content IS NOT NULL BEGIN

        IF @KeywordVersion IS NOT NULL
            UPDATE bx_ChatMessages SET Content = @Content, KeywordVersion = @KeywordVersion WHERE MessageID = @MessageID;
        ELSE
            UPDATE bx_ChatMessages SET Content = @Content WHERE MessageID = @MessageID;

    END

    IF @ContentReverter IS NOT NULL BEGIN

        UPDATE bx_ChatMessageReverters SET ContentReverter = @ContentReverter WHERE MessageID = @MessageID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_ChatMessageReverters (MessageID, ContentReverter) VALUES (@MessageID, @ContentReverter);

    END


END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CheckIdNumberExist</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CheckIdNumberExist">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_CheckIdNumberExist
@IDNumber       varchar(50)
AS
BEGIN
    SET NOCOUNT ON;
    IF EXISTS(SELECT * FROM bx_AuthenticUsers WHERE IDNumber=@IDNumber AND Verified=1)
        RETURN(1);
    ELSE
        RETURN(0);
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CheckOverFlowBuyCount</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CheckOverFlowBuyCount">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_CheckOverFlowBuyCount
    @UserID            int,
    @BeginTime         datetime,
    @EndTime           datetime,
    @BuyCount          int
AS BEGIN

    SET NOCOUNT ON;

    IF (SELECT COUNT(*) FROM bx_InviteSerials WHERE UserID = @UserID AND CreateDate BETWEEN @BeginTime AND @EndTime)&gt;=@BuyCount
        SELECT 1;
    ELSE 
        SELECT 0;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CheckUserPoint</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CheckUserPoint">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_CheckUserPoint 
      @UserID    int  
    , @ThrowOverMinValueError   bit
    , @ThrowOverMaxValueError   bit

    , @Point1    int
    , @Point2    int
    , @Point3    int
    , @Point4    int
    , @Point5    int
    , @Point6    int
    , @Point7    int
    , @Point8    int

    , @MinPoint1    int
    , @MinPoint2    int
    , @MinPoint3    int
    , @MinPoint4    int
    , @MinPoint5    int
    , @MinPoint6    int
    , @MinPoint7    int
    , @MinPoint8    int

    , @MaxPoint1    int
    , @MaxPoint2    int
    , @MaxPoint3    int
    , @MaxPoint4    int
    , @MaxPoint5    int
    , @MaxPoint6    int
    , @MaxPoint7    int
    , @MaxPoint8    int
AS
BEGIN
    SET NOCOUNT ON;
    
    DECLARE @UserPoint1 int,@UserPoint2 int,@UserPoint3 int,@UserPoint4 int,@UserPoint5 int,@UserPoint6 int,@UserPoint7 int,@UserPoint8 int;
    SELECT @UserPoint1=Point_1,@UserPoint2=Point_2,@UserPoint3=Point_3,@UserPoint4=Point_4,@UserPoint5=Point_5,@UserPoint6=Point_6,@UserPoint7=Point_7,@UserPoint8=Point_8
            FROM [bx_Users] WHERE [UserID]=@UserID;

    IF @ThrowOverMinValueError = 1 BEGIN
        IF @Point1&lt;0 AND (@UserPoint1+@Point1)&lt;@MinPoint1 BEGIN
            SELECT -1 AS Code,@UserPoint1 AS Point;
            RETURN;
        END
        IF @Point2&lt;0 AND (@UserPoint2+@Point2)&lt;@MinPoint2 BEGIN
            SELECT -2 AS Code,@UserPoint2 AS Point;
            RETURN;
        END
        IF @Point3&lt;0 AND (@UserPoint3+@Point3)&lt;@MinPoint3 BEGIN
            SELECT -3 AS Code,@UserPoint3 AS Point;
            RETURN;
        END
        IF @Point4&lt;0 AND (@UserPoint4+@Point4)&lt;@MinPoint4 BEGIN
            SELECT -4 AS Code,@UserPoint4 AS Point;
            RETURN;
        END
        IF @Point5&lt;0 AND (@UserPoint5+@Point5)&lt;@MinPoint5 BEGIN
            SELECT -5 AS Code,@UserPoint5 AS Point;
            RETURN;
        END
        IF @Point6&lt;0 AND (@UserPoint6+@Point6)&lt;@MinPoint6 BEGIN
            SELECT -6 AS Code,@UserPoint6 AS Point;
            RETURN;
        END
        IF @Point7&lt;0 AND (@UserPoint7+@Point7)&lt;@MinPoint7 BEGIN
            SELECT -7 AS Code,@UserPoint7 AS Point;
            RETURN;
        END
        IF @Point8&lt;0 AND (@UserPoint8+@Point8)&lt;@MinPoint8 BEGIN
            SELECT -8 AS Code,@UserPoint8 AS Point;
            RETURN;
        END
    END
    IF @ThrowOverMaxValueError = 1 BEGIN
        IF @Point1&gt;0 AND (@UserPoint1+@Point1)&gt;@MaxPoint1 BEGIN
            SELECT 1 AS Code,@UserPoint1 AS Point;
            RETURN;
        END
        IF @Point2&gt;0 AND (@UserPoint2+@Point2)&gt;@MaxPoint2 BEGIN
            SELECT 2 AS Code,@UserPoint2 AS Point;
            RETURN;
        END
        IF @Point3&gt;0 AND (@UserPoint3+@Point3)&gt;@MaxPoint3 BEGIN
            SELECT 3 AS Code,@UserPoint3 AS Point;
            RETURN;
        END
        IF @Point4&gt;0 AND (@UserPoint4+@Point4)&gt;@MaxPoint4 BEGIN
            SELECT 4 AS Code,@UserPoint4 AS Point;
            RETURN;
        END
        IF @Point5&gt;0 AND (@UserPoint5+@Point5)&gt;@MaxPoint5 BEGIN
            SELECT 5 AS Code,@UserPoint5 AS Point;
            RETURN;
        END
        IF @Point6&gt;0 AND (@UserPoint6+@Point6)&gt;@MaxPoint6 BEGIN
            SELECT 6 AS Code,@UserPoint6 AS Point;
            RETURN;
        END
        IF @Point7&gt;0 AND (@UserPoint7+@Point7)&gt;@MaxPoint7 BEGIN
            SELECT 7 AS Code,@UserPoint7 AS Point;
            RETURN;
        END
        IF @Point8&gt;0 AND (@UserPoint8+@Point8)&gt;@MaxPoint8 BEGIN
            SELECT 8 AS Code,@UserPoint8 AS Point;
            RETURN;
        END
    END
    
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ClearExpiredTempUploadFiles</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_ClearExpiredTempUploadFiles">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_ClearExpiredTempUploadFiles
    @HoursBefore    int
AS BEGIN

    SET NOCOUNT ON;

    DECLARE @ClearTempUploadFileIds table(ID int);

    INSERT INTO @ClearTempUploadFileIds (ID) SELECT TempUploadFileID FROM bx_TempUploadFiles WHERE CreateDate &lt; DATEADD(hh, 0 - @HoursBefore, GETDATE());

    SELECT * FROM bx_TempUploadFiles T INNER JOIN @ClearTempUploadFileIds C ON T.TempUploadFileID = C.ID;

    DELETE bx_TempUploadFiles FROM @ClearTempUploadFileIds C WHERE bx_TempUploadFiles.TempUploadFileID = C.ID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ClearExpiresUserData</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_ClearExpiresUserData">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_ClearExpiresUserData
AS
BEGIN

    SET NOCOUNT ON;

    DELETE FROM bx_UserRoles WHERE EndDate &lt; GETDATE();

    DELETE FROM bx_UserMedals WHERE EndDate &lt; GETDATE();

    DELETE FROM bx_Moderators WHERE EndDate &lt; GETDATE();

    DELETE FROM bx_BannedUsers WHERE EndDate &lt; GETDATE();

    DELETE FROM bx_Serials WHERE ExpiresDate &lt; GETDATE();
    
    DELETE  FROM bx_SmsCodes WHERE CreateDate &lt;= DATEADD(hour, -24, GETDATE());

    DELETE FROM bx_AdminSessions WHERE UpdateDate &lt; DATEADD(minute, 0 - 60, GETDATE());

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ClearSearchResult</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_ClearSearchResult">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_ClearSearchResult
AS
BEGIN

    SET NOCOUNT ON;
	
	DELETE bx_SearchPostResults WHERE UpdateDate &lt; DATEADD(minute, -30, getdate());

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Club_AcceptInvoke</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Club_AcceptInvoke">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Club_AcceptInvoke
	@ClubID		int,
	@UserID		int
AS
BEGIN

	SET NOCOUNT ON;
	
	UPDATE bx_ClubMembers SET Status = 0, CreateDate = GETDATE() WHERE ClubID = @ClubID AND UserID = @UserID AND Status = 1;

	UPDATE bx_Clubs SET TotalMembers = TotalMembers + 1 WHERE ClubID = @ClubID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Club_CreateClub</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Club_CreateClub">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Club_CreateClub
	@UserID		int,
	@CategoryID	int,
	@IsApproved	bit,
	@CreateIP	varchar(50),
	@Name		nvarchar(50),
	@NewClubID	int output
AS
BEGIN
	SET NOCOUNT ON;

	IF EXISTS (SELECT * FROM bx_Clubs WHERE [Name] = @Name) BEGIN
		RETURN 0;
	END

	INSERT INTO bx_Clubs ([UserID],[CategoryID],[IsApproved],[CreateIP],[Name]) VALUES (@UserID, @CategoryID, @IsApproved, @CreateIP, @Name);

	SELECT @NewClubID = @@IDENTITY;

	INSERT INTO bx_ClubMembers (ClubID, UserID, Status) VALUES (@NewClubID, @UserID, 5);

	RETURN 1;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Club_GetClubByID</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Club_GetClubByID">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Club_GetClubByID
	@ClubID	int
AS
BEGIN
	SET NOCOUNT ON;

	SELECT * FROM bx_Clubs WHERE ClubID = @ClubID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Club_GetClubCategories</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Club_GetClubCategories">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Club_GetClubCategories
AS
BEGIN
	SET NOCOUNT ON;

	SELECT * FROM bx_ClubCategories;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Club_GetClubInvokes</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Club_GetClubInvokes">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Club_GetClubInvokes
	@UserID		int
AS
BEGIN
	SET NOCOUNT ON;

	SELECT * FROM bx_Clubs WHERE ClubID IN (
		SELECT A.ClubID FROM bx_ClubMembers A WHERE Status = 1 AND UserID = @UserID
	);
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Club_GetClubMemberStatus</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Club_GetClubMemberStatus">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Club_GetClubMemberStatus
	@ClubID		int,
	@UserID		int
AS
BEGIN

	SET NOCOUNT ON;

	SELECT Status FROM bx_ClubMembers WHERE ClubID = @ClubID AND UserID = @UserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Club_IgnoreAllInvokes</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Club_IgnoreAllInvokes">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Club_IgnoreAllInvokes
	@UserID		int
AS
BEGIN
	SET NOCOUNT ON;

	DELETE FROM bx_ClubMembers WHERE Status = 1 AND UserID = @UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Club_InvokeMember</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Club_InvokeMember">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Club_InvokeMember
	@ClubID		int,
	@UserID		int
AS
BEGIN
	SET NOCOUNT ON;

	IF NOT EXISTS(SELECT * FROM bx_ClubMembers WHERE ClubID = @ClubID AND UserID = @UserID) BEGIN

		INSERT INTO bx_ClubMembers (ClubID, UserID, Status) VALUES (@ClubID, @UserID, 1);
	END
	ELSE BEGIN
		
		UPDATE bx_ClubMembers SET Status = 1 WHERE ClubID = @ClubID AND UserID = @UserID AND Status = 2;
	END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Club_JoinClub</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Club_JoinClub">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Club_JoinClub
	@ClubID		int,
	@UserID		int
AS
BEGIN
	SET NOCOUNT ON;

	IF NOT EXISTS(SELECT * FROM bx_ClubMembers WHERE ClubID = @ClubID AND UserID = @UserID) BEGIN
		INSERT INTO bx_ClubMembers (ClubID, UserID, Status) VALUES (@ClubID, @UserID, 0);
	END;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Club_LeaveClub</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Club_LeaveClub">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Club_LeaveClub
	@ClubID		int,
	@UserID		int
AS
BEGIN

	SET NOCOUNT ON;
	
	DELETE FROM bx_ClubMembers WHERE ClubID = @ClubID AND UserID = @UserID;

	UPDATE bx_Clubs SET TotalMembers = TotalMembers - 1 WHERE ClubID = @ClubID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Club_PetitionAsManager</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Club_PetitionAsManager">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Club_PetitionAsManager
	@ClubID		int,
	@UserID		int
AS
BEGIN
	SET NOCOUNT ON;

	UPDATE bx_ClubMembers SET Status = 6 WHERE ClubID = @ClubID AND UserID = @UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Club_PetitionJoinClub</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Club_PetitionJoinClub">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Club_PetitionJoinClub
	@ClubID		int,
	@UserID		int
AS
BEGIN
	SET NOCOUNT ON;

	IF NOT EXISTS(SELECT * FROM bx_ClubMembers WHERE ClubID = @ClubID AND UserID = @UserID) BEGIN
		INSERT INTO bx_ClubMembers (ClubID, UserID, Status) VALUES (@ClubID, @UserID, 2);
	END;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Club_Update</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Club_Update">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Club_Update
	@ClubID			int,
	@Description	nvarchar(200),
	@JoinMethod		tinyint,
	@AccessMode		tinyint,
	@IsNeedManager	bit
AS
BEGIN
	SET NOCOUNT ON;

	UPDATE bx_Clubs SET 
		Description = @Description, 
		JoinMethod = @JoinMethod, 
		AccessMode = @AccessMode,
		IsNeedManager = @IsNeedManager,
		UpdateDate = GETDATE(),
		KeywordVersion = ''
	WHERE
		ClubID = @ClubID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Comment_UpdateCommentKeywords</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Comment_UpdateCommentKeywords">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Comment_UpdateCommentKeywords
    @CommentID                int,
    @KeywordVersion           varchar(32),
    @Content                  nvarchar(3000),
    @ContentReverter          ntext
AS BEGIN


    SET NOCOUNT ON;

    IF @Content IS NOT NULL BEGIN

        IF @KeywordVersion IS NOT NULL
            UPDATE bx_Comments SET Content = @Content, KeywordVersion = @KeywordVersion WHERE CommentID = @CommentID;
        ELSE
            UPDATE bx_Comments SET Content = @Content WHERE CommentID = @CommentID;

    END

    IF @ContentReverter IS NOT NULL BEGIN

        UPDATE bx_CommentReverters SET ContentReverter = @ContentReverter WHERE CommentID = @CommentID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_CommentReverters (CommentID, ContentReverter) VALUES (@CommentID, @ContentReverter);

    END


END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Common_GetRecordsByPage</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Common_GetRecordsByPage">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE [bx_Common_GetRecordsByPage]
	@PageIndex int,
	@PageSize int,
	@TableName varchar(256),
	@SelectFields varchar(8000) = '*', --查询字段，默认为 *
	@Condition nvarchar(4000) = N'',     --条件例如"DirectoryID=4"
	@SortField varchar(256) = '[SortOrder]',
	@IsDesc bit = 1, --是否倒序
	@TotalRecords int = -1
AS
BEGIN

	SET NOCOUNT ON;
	DECLARE @SQLString nvarchar(4000),@ResetOrder bit----------- 1表示读取数据的时候 排序要反过来
	EXECUTE bx_Common_GetRecordsByPageSQLString
						@PageIndex,
						@PageSize,
						@TableName,
						@SelectFields, --查询字段，默认为 *
						@Condition,     --条件例如"DirectoryID=4"
						@SortField,
						@IsDesc, --是否倒序
						@TotalRecords,
						@ResetOrder OUTPUT,
						@SQLString OUTPUT
	EXEC (@SQLString);
	RETURN @ResetOrder
/*	DECLARE @SQLString nvarchar(4000);
	DECLARE @WhereString1 nvarchar(800);
	DECLARE @WhereString2 nvarchar(800);
	DECLARE @ResetOrder bit----------- 1表示读取数据的时候 排序要反过来
	IF @Condition IS NULL OR @Condition = N'' BEGIN
		SELECT @WhereString1 = N'';
		SELECT @WhereString2 = N'WHERE ';
	END
	ELSE BEGIN
		SELECT @WhereString1 = N'WHERE ' + @Condition;
		SELECT @WhereString2 = N'WHERE ' + @Condition + N' AND ';
	END

	IF @PageIndex = 0 BEGIN
		SELECT @SQLString = N'SELECT TOP ' + STR(@PageSize)
			+ N' ' + @SelectFields
			+ N' FROM ' + @TableName + ' WITH (NOLOCK)
			' + @WhereString1 + '
			ORDER BY ' + @SortField;
		IF @IsDesc = 1
			SELECT @SQLString = @SQLString + ' DESC';
		SET @ResetOrder=0	
	END
	ELSE BEGIN
		DECLARE @GetFromLast BIT
		IF @TotalRecords=-1
			SET @GetFromLast=0
		ELSE BEGIN
			DECLARE @TotalPage INT,@ResidualCount INT
			SET @ResidualCount=@TotalRecords%@PageSize
			IF @ResidualCount=0
				SET @TotalPage=@TotalRecords/@PageSize
			ELSE
				SET @TotalPage=@TotalRecords/@PageSize+1
			IF @PageIndex&gt;@TotalPage/2 --从最后页算上来
				SET @GetFromLast=1
			ELSE
				SET @GetFromLast=0
			IF @GetFromLast=1 BEGIN
				IF @PageIndex=@TotalPage-1 BEGIN
					IF @ResidualCount=0
						SET @ResidualCount=@PageSize;
					SELECT @SQLString = N'SELECT TOP ' + STR(@ResidualCount)
						+ N' ' + @SelectFields
						+ N' FROM ' + @TableName + ' WITH (NOLOCK)
						' + @WhereString1 + '
						ORDER BY ' + @SortField;
					IF @IsDesc = 0--反过来
						SELECT @SQLString = @SQLString + ' DESC';
					EXEC (@SQLString);
					RETURN 1
				END 
				ELSE IF  @PageIndex&gt;@TotalPage-1 BEGIN --已经超过最大页数
					SELECT @SQLString = N'SELECT TOP ' + @SelectFields
						+ N' FROM ' + @TableName + ' WITH (NOLOCK) WHERE 1=2'
					EXEC (@SQLString);
					RETURN 0
				END
				ELSE BEGIN
					SET @PageIndex=@TotalPage-(@PageIndex+1)---
					IF @IsDesc=1
						SET @IsDesc=0
					ELSE
						SET @IsDesc=1
					SET @ResetOrder=1
				END  
			END
			ELSE 
				SET @ResetOrder=0
		END
		
		DECLARE @TopCount INT
		IF @GetFromLast=1
			SET @TopCount=@PageSize * (@PageIndex-1)+@ResidualCount
		ELSE
			SET @TopCount=@PageSize * @PageIndex
		IF @IsDesc = 1
			SELECT @SQLString = 'SELECT TOP ' + STR(@PageSize)
			+ N' ' + @SelectFields
			+ N' FROM ' + @TableName+' WITH (NOLOCK) 
			' + @WhereString2 + @SortField + ' &lt;
				(SELECT Min(' + @SortField + ') FROM 
					(SELECT TOP ' + STR(@TopCount) + ' ' + @SortField + ' FROM ' + @TableName+' WITH (NOLOCK)
						' + @WhereString1 + '
							ORDER BY ' + @SortField + ' DESC) AS IDX)
			ORDER BY ' + @SortField + ' DESC';
		ELSE
			SELECT @SQLString = 'SELECT TOP ' + STR(@PageSize)
			+ N' ' + @SelectFields
			+ N' FROM ' + @TableName+' WITH (NOLOCK) 
			' + @WhereString2 + @SortField + ' &gt;
				(SELECT Max(' + @SortField + ') FROM 
					(SELECT TOP ' + STR(@TopCount) + ' ' + @SortField + ' FROM ' + @TableName+' WITH (NOLOCK)
						' + @WhereString1 + '
							ORDER BY ' + @SortField + ' ASC) AS IDX)
			ORDER BY ' + @SortField + ' ASC';
	END
	EXEC (@SQLString);
	RETURN @ResetOrder
*/
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Common_GetRecordsByPage_LongCondition</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Common_GetRecordsByPage_LongCondition">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Common_GetRecordsByPage_LongCondition
	@PageIndex int,
	@PageSize int,
	@TableName nvarchar(256),
	@SelectFields varchar(8000) = N'*', --查询字段，默认为 *
	@Condition nvarchar(4000) = N'',     --条件例如"DirectoryID=4"
	@SortField nvarchar(256) = N'[SortOrder]',
	@IsDesc bit = 1 --是否倒序
AS
BEGIN
	SET NOCOUNT ON;

	DECLARE @SQLString nvarchar(4000);
	DECLARE @WhereString1 nvarchar(4000);
	DECLARE @WhereString2 nvarchar(4000);

	IF @Condition IS NULL OR @Condition = N'' BEGIN
		SELECT @WhereString1 = N'';
		SELECT @WhereString2 = N'WHERE ';
	END
	ELSE BEGIN
		SELECT @WhereString1 = N'WHERE ' + @Condition;
		SELECT @WhereString2 = N'WHERE ' + @Condition + N' AND ';
	END

	IF @PageIndex = 0 BEGIN
		SELECT @SQLString = N'SELECT TOP ' + STR(@PageSize)
			+ N' ' + @SelectFields
			+ N' FROM ' + @TableName + ' WITH (NOLOCK)
			' + @WhereString1 + '
			ORDER BY ' + @SortField;
		IF @IsDesc = 1
			SELECT @SQLString = @SQLString + ' DESC';
	END
	ELSE BEGIN
		IF @IsDesc = 1
			SELECT @SQLString = 'SELECT TOP ' + STR(@PageSize)
			+ N' ' + @SelectFields
			+ N' FROM ' + @TableName+' WITH (NOLOCK) 
			' + @WhereString2 + @SortField + ' &lt;
				(SELECT Min(' + @SortField + ') FROM 
					(SELECT TOP ' + STR(@PageSize * @PageIndex) + ' ' + @SortField + ' FROM ' + @TableName+' WITH (NOLOCK)
						' + @WhereString1 + '
							ORDER BY ' + @SortField + ' DESC) AS IDX)
			ORDER BY ' + @SortField + ' DESC';
		ELSE
			SELECT @SQLString = 'SELECT TOP ' + STR(@PageSize)
			+ N' ' + @SelectFields
			+ N' FROM ' + @TableName+' WITH (NOLOCK) 
			' + @WhereString2 + @SortField + ' &gt;
				(SELECT Max(' + @SortField + ') FROM 
					(SELECT TOP ' + STR(@PageSize * @PageIndex) + ' ' + @SortField + ' FROM ' + @TableName+' WITH (NOLOCK)
						' + @WhereString1 + '
							ORDER BY ' + @SortField + ' ASC) AS IDX)
			ORDER BY ' + @SortField + ' ASC';
	END

	EXEC (@SQLString);

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Common_GetRecordsByPageSQLString</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Common_GetRecordsByPageSQLString">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE [bx_Common_GetRecordsByPageSQLString]
	@PageIndex int,
	@PageSize int,
	@TableName varchar(256),
	@SelectFields varchar(8000) = '*', --查询字段，默认为 *
	@Condition nvarchar(4000) = N'',     --条件例如"DirectoryID=4"
	@SortField varchar(256) = '[SortOrder]',
	@IsDesc bit = 1, --是否倒序
	@TotalRecords int = -1,
	@ResetOrder bit output,----------- 1表示读取数据的时候 排序要反过来
	@SQLString  nvarchar(4000) output
AS
BEGIN
	SET NOCOUNT ON;

	DECLARE @WhereString1 nvarchar(4000);
	DECLARE @WhereString2 nvarchar(4000);
	IF @Condition IS NULL OR @Condition = N'' BEGIN
		SELECT @WhereString1 = N'';
		SELECT @WhereString2 = N'WHERE ';
	END
	ELSE BEGIN
		SELECT @WhereString1 = N'WHERE ' + @Condition;
		SELECT @WhereString2 = N'WHERE ' + @Condition + N' AND ';
	END

	IF @PageIndex = 0 BEGIN
		SELECT @SQLString = N'SELECT TOP ' + STR(@PageSize)
			+ N' ' + @SelectFields
			+ N' FROM ' + @TableName + ' WITH (NOLOCK)
			' + @WhereString1 + '
			ORDER BY ' + @SortField;
		IF @IsDesc = 1
			SELECT @SQLString = @SQLString + ' DESC';
		SET @ResetOrder=0	
	END
	ELSE BEGIN
		SET @SQLString='';
		DECLARE @GetFromLast BIT
		IF @TotalRecords=-1
			SET @GetFromLast=0
		ELSE BEGIN
			DECLARE @TotalPage INT,@ResidualCount INT
			SET @ResidualCount=@TotalRecords%@PageSize
			IF @ResidualCount=0
				SET @TotalPage=@TotalRecords/@PageSize
			ELSE
				SET @TotalPage=@TotalRecords/@PageSize+1
			IF @PageIndex&gt;@TotalPage/2 --从最后页算上来
				SET @GetFromLast=1
			ELSE
				SET @GetFromLast=0
			IF @GetFromLast=1 BEGIN
				IF @PageIndex=@TotalPage-1 BEGIN
					IF @ResidualCount=0
						SET @ResidualCount=@PageSize;
					SELECT @SQLString = N'SELECT top ' + STR(@ResidualCount)
						+ N' ' + @SelectFields
						+ N' FROM ' + @TableName + ' WITH (NOLOCK)
						' + @WhereString1 + '
						ORDER BY ' + @SortField;
					IF @IsDesc = 0--反过来
						SELECT @SQLString = @SQLString + ' DESC';
					SET @ResetOrder=1
				END 
				ELSE IF  @PageIndex&gt;@TotalPage-1 BEGIN --已经超过最大页数
					SELECT @SQLString = N'SELECT ' + @SelectFields
						+ N' FROM ' + @TableName + ' WITH (NOLOCK) WHERE 1=2'
					SET @ResetOrder=0
				END
				ELSE BEGIN
					SET @PageIndex=@TotalPage-(@PageIndex+1)---
					IF @IsDesc=1
						SET @IsDesc=0
					ELSE
						SET @IsDesc=1
					SET @ResetOrder=1
				END  
			END
			ELSE 
				SET @ResetOrder=0
		END
		
		IF @SQLString='' BEGIN
			DECLARE @TopCount INT
			IF @GetFromLast=1 BEGIN
				IF @ResidualCount &gt; 0
					SET @TopCount=@PageSize * (@PageIndex-1)+@ResidualCount;
				ELSE
					SET @TopCount=@PageSize * (@PageIndex)+@ResidualCount;
				IF @TopCount = 0
					SET @TopCount = @PageSize;
			END
			ELSE
				SET @TopCount=@PageSize * @PageIndex
			IF @IsDesc = 1
				SELECT @SQLString = 'SELECT TOP ' + STR(@PageSize)
				+ N' ' + @SelectFields
				+ N' FROM ' + @TableName+' WITH (NOLOCK) 
				' + @WhereString2 + @SortField + ' &lt;
					(SELECT Min(' + @SortField + ') FROM 
						(SELECT TOP ' + STR(@TopCount) + ' ' + @SortField + ' FROM ' + @TableName+' WITH (NOLOCK)
							' + @WhereString1 + '
								ORDER BY ' + @SortField + ' DESC) AS IDX)
				ORDER BY ' + @SortField + ' DESC';
			ELSE
				SELECT @SQLString = 'SELECT TOP ' + STR(@PageSize)
				+ N' ' + @SelectFields
				+ N' FROM ' + @TableName+' WITH (NOLOCK) 
				' + @WhereString2 + @SortField + ' &gt;
					(SELECT Max(' + @SortField + ') FROM 
						(SELECT TOP ' + STR(@TopCount) + ' ' + @SortField + ' FROM ' + @TableName+' WITH (NOLOCK)
							' + @WhereString1 + '
								ORDER BY ' + @SortField + ' ASC) AS IDX)
				ORDER BY ' + @SortField + ' ASC';
		END
	END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Common_GetSortOrder</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Common_GetSortOrder">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>
-- =============================================
-- Author:		&lt;sek&gt;
-- Create date: &lt;2006/12/14&gt;
-- Description:	&lt;获取SortOrder,（当添加数据时，表中有SortOrder字段时使用）&gt;
-- =============================================
CREATE PROCEDURE [bx_Common_GetSortOrder]
	@TableName nvarchar(256),
	@Condition nvarchar(400),--查询条件
	@SortOrder int output
AS
	SET NOCOUNT ON
	DECLARE @SQLString nvarchar(4000),@Count int
	if(@Condition&lt;&gt;'')
		SET @Condition=' WHERE '+@Condition
		

	SET @SQLString=N'SELECT @SortOrder=ISNULL(Max(SortOrder),0) FROM '+@TableName+@Condition
	EXECUTE sp_executesql @SQLString,N'@SortOrder int output',@SortOrder output
	SET @SortOrder=@SortOrder+1


</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CreateDiskDirectory</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CreateDiskDirectory">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_CreateDiskDirectory
	@UserID int,
	@ParentID int,
	@Name nvarchar(256),
	@DirectoryID int output
AS
BEGIN
	SET NOCOUNT ON;

    IF (@ParentID &lt; 1)
		SELECT @ParentID = DirectoryID FROM bx_DiskDirectories WHERE UserID = @UserID AND ParentID = 0;
    IF (@ParentID &lt; 1) BEGIN
		INSERT INTO [bx_DiskDirectories] (UserID, ParentID, Name) VALUES (@UserID, 0, N'\');
		SELECT @ParentID = @@Identity;
    END
	
	IF EXISTS (SELECT * FROM bx_DiskDirectories WITH (NOLOCK) WHERE UserID = @UserID AND ParentID = @ParentID AND [Name] = @Name)
		OR EXISTS (SELECT * FROM [bx_DiskFiles] WITH (NOLOCK) WHERE [DirectoryID] = @ParentID AND [FileName] = @Name)
		RETURN (2);
	ELSE BEGIN
		INSERT INTO [bx_DiskDirectories]([UserID], [ParentID], [Name]) VALUES (@UserID, @ParentID, @Name);
		SELECT @DirectoryID = @@IDENTITY;
		RETURN (1);
	END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CreateEmoticonsAndGroups</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CreateEmoticonsAndGroups">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE [bx_CreateEmoticonsAndGroups]
	@UserID int,
    @GroupNames ntext,
	@GroupOrders text,
    @Shortcuts ntext,
    @FileNames text,
    @FileSizes text
AS
	SET NOCOUNT ON 

	DECLARE @EmoticonGroupsTable table(
		[ID1] INT IDENTITY(1,1),
		[GroupID1] int,
		[GroupName1] nvarchar(64) COLLATE Chinese_PRC_CI_AS_WS,
		[MaxSortOrder1] bigint
		);
	
	BEGIN TRANSACTION
			
	INSERT INTO @EmoticonGroupsTable(GroupName1)
	SELECT item FROM bx_GetStringTable_ntext(@GroupNames, '|');
	IF(@@error&lt;&gt;0)
		GOTO Cleanup

	
	INSERT INTO [bx_EmoticonGroups] ([GroupName],UserID) 
	SELECT [GroupName1],@UserID FROM @EmoticonGroupsTable WHERE [GroupName1] NOT IN (SELECT GroupName FROM [bx_EmoticonGroups] WITH(NOLOCK) WHERE UserID = @UserID )
	IF(@@error&lt;&gt;0)
		GOTO Cleanup
		
	UPDATE @EmoticonGroupsTable SET GroupID1=T.GroupID,
		 MaxSortOrder1=ISNULL((SELECT MAX(SortOrder) FROM [bx_Emoticons] E WHERE E.GroupID=T.GroupID),0)
		 FROM [bx_EmoticonGroups] T WHERE T.GroupName=GroupName1 AND T.UserID=@UserID
	IF(@@error&lt;&gt;0)
		GOTO Cleanup	

	DECLARE @EmoticonsTable table(
		[ID2] INT IDENTITY(1,1),
		[GroupOrder] int,
		[GroupID2] int,
		[Shortcut] nvarchar(64) COLLATE Chinese_PRC_CI_AS_WS,
		[ImageSrc] nvarchar(256),
		[FileSize] bigint,
		[MaxSortOrder2] bigint
		);
		
	INSERT INTO @EmoticonsTable([GroupOrder])
	SELECT item FROM bx_GetStringTable_text(@GroupOrders, '|');
	IF(@@error&lt;&gt;0)
		GOTO Cleanup		
		
	UPDATE @EmoticonsTable
		SET [Shortcut]=T.item
		FROM (SELECT * FROM bx_GetStringTable_ntext(@Shortcuts, '|')) T
		where T.id=ID2;
	IF(@@error&lt;&gt;0)
		GOTO Cleanup
				
	UPDATE @EmoticonsTable
		SET [ImageSrc]=T.item
		FROM (SELECT * FROM bx_GetStringTable_text(@FileNames, '|')) T
		where T.id=ID2;	
	IF(@@error&lt;&gt;0)
		GOTO Cleanup
				
	UPDATE @EmoticonsTable
		SET [FileSize]=T.item
		FROM (SELECT * FROM bx_GetStringTable_text(@FileSizes, '|')) T
		where T.id=ID2;	
	IF(@@error&lt;&gt;0)
		GOTO Cleanup
		    
    UPDATE @EmoticonsTable SET GroupID2=GroupID1,MaxSortOrder2=MaxSortOrder1 FROM @EmoticonGroupsTable WHERE ID1=GroupOrder
	IF(@@error&lt;&gt;0)
		GOTO Cleanup
	
	INSERT INTO [bx_Emoticons](
			[GroupID],
			[UserID],
			[Shortcut],
			[ImageSrc],
			[FileSize],
			[SortOrder])
		SELECT [GroupID2],
			@UserID,
			[Shortcut],
			[ImageSrc],
			[FileSize],
			[MaxSortOrder2]+ID2
		FROM @EmoticonsTable
	
			IF(@@error&lt;&gt;0)
				GOTO Cleanup		
		

	IF(@@error&lt;&gt;0)
			GOTO Cleanup

		
		COMMIT TRANSACTION
			RETURN (0)

Cleanup:
    BEGIN
    	ROLLBACK TRANSACTION
    	RETURN (-1)
    END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CreateFeed</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CreateFeed">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_CreateFeed
     @IsSpecial        bit 
     
	,@UserID           int
	,@TargetID         int
	,@TargetUserID     int
	
	,@ActionType       tinyint
	,@PrivacyType      tinyint
	
	,@AppID            uniqueidentifier
	
	,@Title            nvarchar(1000)
	,@Realname         nvarchar(50)
	,@Description      nvarchar(2500)
	,@TargetNickname   nvarchar(50)
	,@VisibleUserIDs   varchar(800)
	
	,@CreateDate       datetime
	,@CanJoin		   bit --是否能合并的 如果能将查找1小时内相同的动态进行合并
	
	,@DefaultSendType  tinyint -- 0默认发送 1默认不发送 2强制发送 3强制不发送
	,@CommentTargetID  int
AS
BEGIN

	SET NOCOUNT ON;
	

    IF @DefaultSendType = 3
		RETURN;
	IF @DefaultSendType &lt;&gt; 2 BEGIN
		DECLARE @Send bit
		SELECT @Send = [Send] FROM bx_UserNoAddFeedApps WHERE AppID=@AppID AND UserID=@UserID AND ActionType=@ActionType;
		
		IF @Send IS NULL AND @DefaultSendType = 1 --默认不发送
			RETURN;
		ELSE IF @Send = 0 -- 用户设置不发送
			RETURN;
			
		IF @IsSpecial=1 BEGIN
			SET @Send = NULL;
			SELECT @Send = [Send] FROM bx_UserNoAddFeedApps WHERE AppID=@AppID AND UserID=@TargetUserID AND ActionType=@ActionType;
			
			IF @Send IS NULL AND @DefaultSendType = 1 --默认不发送
				RETURN;
			ELSE IF @Send = 0 -- 用户设置不发送
				RETURN;
		END
	END
	
    DECLARE @FeedID int;
    DECLARE @IsExistUser bit;-- bx_UserFeeds表中是否存在当前用户
    DECLARE @IsExistTargetUser bit;
    
    SET @IsExistUser = 1; 
    SET @IsExistTargetUser = 1; 
    
	IF @CanJoin = 1
		SELECT @FeedID=ID FROM bx_Feeds WHERE AppID=@AppID AND ActionType=@ActionType AND ((TargetID IS NOT NULL AND TargetID=@TargetID)  OR (TargetID IS NULL AND @TargetID IS NULL)) AND TargetUserID=@TargetUserID AND CreateDate&gt;DATEADD(hour,-1,@CreateDate);--查找1小时内相同的动态
		
	IF @FeedID IS NOT NULL BEGIN
		IF EXISTS(SELECT * FROM bx_UserFeeds WHERE FeedID=@FeedID AND UserID=@UserID) BEGIN
			UPDATE bx_UserFeeds SET 
					 Realname=@Realname
					,CreateDate=@CreateDate 
					WHERE FeedID=@FeedID AND UserID=@UserID;
		END
		ELSE
			SET @IsExistUser = 0;
		
		IF @IsSpecial=1 BEGIN
			IF EXISTS(SELECT * FROM bx_UserFeeds WHERE FeedID=@FeedID AND UserID=@TargetUserID)
				UPDATE bx_UserFeeds SET 
						 Realname=@TargetNickname
						,CreateDate=@CreateDate 
						WHERE FeedID=@FeedID AND UserID=@TargetUserID;
			ELSE
				SET @IsExistTargetUser = 0;
		END
		UPDATE [bx_Feeds] SET Title=@Title,Description=@Description,CommentTargetID=@CommentTargetID,CommentInfo=null WHERE [ID]=@FeedID
	END 
	ELSE BEGIN
		SET @IsExistUser = 0;
		SET @IsExistTargetUser = 0;
		
		INSERT INTO bx_Feeds( 
					 TargetID
					,TargetUserID
					,ActionType
					,PrivacyType
					,AppID
					,Title
					,Description
					,TargetNickname
					,VisibleUserIDs
					,CreateDate
					,CommentTargetID
					) VALUES(
					 @TargetID
					,@TargetUserID
					,@ActionType
					,@PrivacyType
					,@AppID
					,@Title
					,@Description
					,@TargetNickname
					,@VisibleUserIDs
					,@CreateDate
					,@CommentTargetID
					);
					
		SELECT @FeedID = @@IDENTITY;
		
		
	END
	
	IF @IsExistUser = 0
		INSERT INTO bx_UserFeeds(
					 FeedID
					,UserID
					,Realname
					,CreateDate
					) VALUES(
					 @FeedID
					,@UserID
					,@Realname
					,@CreateDate
					);
					
	IF @IsSpecial=1 AND @IsExistTargetUser = 0
		INSERT INTO bx_UserFeeds(
					 FeedID
					,UserID
					,Realname
					,CreateDate
					) VALUES(
					 @FeedID
					,@TargetUserID
					,@TargetNickname
					,@CreateDate
					);
	UPDATE bx_Users SET UpdateDate = GETDATE() WHERE [UserID] = @UserID  -- 用户最后更新时间也放在这
	SELECT @FeedID AS FeedID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CreateFeedFilter</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CreateFeedFilter">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_CreateFeedFilter
	 @AppID           uniqueidentifier
	,@UserID          int
	,@FriendUserID    int
	,@ActionType      tinyint
AS
BEGIN

   SET NOCOUNT ON;
   
   DECLARE @EmptyGuid uniqueidentifier;
   SET @EmptyGuid = '00000000-0000-0000-0000-000000000000'

   BEGIN TRANSACTION
   
   IF @FriendUserID IS NULL BEGIN --屏蔽所有好友的当前应用动作
	   IF EXISTS(SELECT * FROM [bx_FeedFilters] WHERE [AppID]=@AppID AND [ActionType]=@ActionType AND [UserID]=@UserID AND [FriendUserID] IS NULL)
			GOTO CommitTrans;
	   DELETE [bx_FeedFilters] WHERE [UserID]=@UserID AND [AppID] = @AppID
	   IF(@@error&lt;&gt;0)
					GOTO Cleanup;
   END                
   ELSE IF @ActionType IS null BEGIN 
			IF EXISTS(SELECT * FROM [bx_FeedFilters] WHERE [AppID]=@AppID AND [ActionType] IS NULL AND [UserID]=@UserID AND [FriendUserID]=@FriendUserID)
				GOTO CommitTrans; 
	        IF @AppID = @EmptyGuid BEGIN --屏蔽当前好友的所有动态
				DELETE [bx_FeedFilters] WHERE [UserID]=@UserID AND [FriendUserID]=@FriendUserID
				IF(@@error&lt;&gt;0)
					GOTO Cleanup;
		    END
   END
   ELSE BEGIN
		IF EXISTS(SELECT * FROM [bx_FeedFilters] WHERE [AppID]=@AppID AND [ActionType]=@ActionType AND [UserID]=@UserID AND [FriendUserID] IS NULL)
			GOTO CommitTrans;
		IF EXISTS(SELECT * FROM [bx_FeedFilters] WHERE [AppID]=@EmptyGuid AND [UserID]=@UserID AND [FriendUserID]=@FriendUserID)
			GOTO CommitTrans;
		IF EXISTS(SELECT * FROM [bx_FeedFilters] WHERE [AppID]=@AppID AND [ActionType]=@ActionType AND [UserID]=@UserID AND [FriendUserID]=@FriendUserID)
			GOTO CommitTrans;
   END

    INSERT INTO [bx_FeedFilters](
                     [AppID] 
                    ,[UserID]
                    ,[FriendUserID]
                    ,[ActionType]
                    ) VALUES (
                     @AppID 
                    ,@UserID
                    ,@FriendUserID
                    ,@ActionType
                    );
    IF(@@error&lt;&gt;0)
		GOTO Cleanup;
	ELSE BEGIN
		GOTO CommitTrans;
	END
	
	
 CommitTrans:
	BEGIN
		COMMIT TRANSACTION
		RETURN (0);
	END
                    
 Cleanup:
    BEGIN
    	ROLLBACK TRANSACTION
    	RETURN (-1)
    END
     
                    
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CreateInviteSerials</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CreateInviteSerials">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_CreateInviteSerials
     @AddNum       int
    ,@UserIDs      varchar(8000)
    ,@ExpiresDate  datetime
    ,@Remark       varchar(200)
AS BEGIN
    SET NOCOUNT ON;

    DECLARE @i int;
    SET @i = 0;
    WHILE @i &lt; @AddNum BEGIN

        INSERT INTO [bx_InviteSerials](UserID,ExpiresDate,Remark)
            SELECT item, @ExpiresDate,@Remark FROM bx_GetIntTable(@UserIDs, ',');
        SET @i=@i+1;
    END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CreateMission</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CreateMission">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_CreateMission
     @CycleTime         int
    ,@SortOrder         int

    ,@Type              nvarchar(200)             
    ,@Name              nvarchar(100)
    ,@IconUrl           nvarchar(200)
    ,@DeductPoint       nvarchar(100)

    ,@Prize             ntext
    ,@Description       ntext
    ,@ApplyCondition    ntext
    ,@FinishCondition   ntext

    ,@EndDate           DateTime
    ,@BeginDate         DateTime
    ,@IsEnable          bit

    ,@CategoryID        int
    ,@ParentID          int
AS
BEGIN

	SET NOCOUNT ON;
    INSERT INTO [bx_Missions](
             [CycleTime]
            ,[SortOrder]

            ,[Type]
            ,[Name]
            ,[IconUrl]
            ,[DeductPoint]

            ,[Prize]
            ,[Description]
            ,[ApplyCondition]
            ,[FinishCondition]

            ,[EndDate]
            ,[BeginDate]
            ,[IsEnable]

            ,[CategoryID]
            ,[ParentID]
            ) VALUES (
             @CycleTime
            ,@SortOrder

            ,@Type
            ,@Name
            ,@IconUrl
            ,@DeductPoint

            ,@Prize
            ,@Description
            ,@ApplyCondition
            ,@FinishCondition

            ,@EndDate
            ,@BeginDate
            ,@IsEnable

            ,@CategoryID
            ,@ParentID
            );

    SELECT @@IDENTITY;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CreateModel</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CreateModel">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_CreateModel
     @CateID      int
    ,@ModelName   nvarchar(50)
    ,@Enable      bit
    ,@SortOrder   int
AS
BEGIN
	SET NOCOUNT ON;
    IF EXISTS(SELECT * FROM bx_ThreadCates WHERE CateID = @CateID) BEGIN
	    INSERT INTO bx_ThreadCateModels(CateID,ModelName,Enable,SortOrder) VALUES(@CateID,@ModelName,@Enable,@SortOrder);
        SELECT 1;
    END
    ELSE
        SELECT 0;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CreatePayItem</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CreatePayItem">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_CreatePayItem
 @UserID      int
,@OrderNo     varchar(50)
,@OrderAmount decimal(18,2)
,@Payment     tinyint
,@PayType     tinyint
,@PayValue    int
,@SubmitIp    varchar(50)
,@Remarks    nvarchar(50)
AS
BEGIN

SET NOCOUNT ON;
    
    IF NOT EXISTS( SELECT * FROM bx_Pay WHERE UserID = @UserID AND OrderNo = @OrderNo) BEGIN
        INSERT INTO bx_Pay(UserID,OrderNo,OrderAmount,Payment,PayType,PayValue,SubmitIp,Remarks) VALUES(@UserID,@OrderNo,@OrderAmount,@Payment,@PayType,@PayValue,@SubmitIp,@Remarks);
        RETURN (1);
    END
    ELSE
        RETURN (0);
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CreatePointLogs</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CreatePointLogs">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_CreatePointLogs
@UserID             int
,@Point0            int
,@Point1            int
,@Point2            int
,@Point3            int
,@Point4            int
,@Point5            int
,@Point6            int
,@Point7            int
,@Current0          int 
,@Current1          int 	
,@Current2          int  
,@Current3          int  
,@Current4          int  
,@Current5          int  
,@Current6          int  
,@Current7          int  
,@Operate           nvarchar(50)
,@Remarks           nvarchar(200)
AS
BEGIN
SET NOCOUNT ON;
DECLARE @LogTypeID int;

IF EXISTS( SELECT * FROM bx_PointLogTypes WHERE  OperateName = @Operate)
 SET @LogTypeID = (SELECT OperateID FROM bx_PointLogTypes WHERE OperateName = @Operate);
ELSE BEGIN
 INSERT INTO bx_PointLogTypes(OperateName) VALUES(@Operate);   
 SET @LogTypeID = @@IDENTITY;
END

IF @Point0 IS NULL
    SET @Point0 = 0;
IF @Point1 IS NULL
    SET @Point1 = 0;
IF @Point2 IS NULL
    SET @Point2 = 0;
IF @Point3 IS NULL
    SET @Point3 = 0;
IF @Point4 IS NULL
    SET @Point4 = 0;
IF @Point5 IS NULL
    SET @Point5 = 0;
IF @Point6 IS NULL
    SET @Point6 = 0;
IF @Point7 IS NULL
    SET @Point7 = 0;

IF @Current0 IS NULL
    SET @Current0 = 0;
IF @Current1 IS NULL
    SET @Current1 = 0;
IF @Current2 IS NULL
    SET @Current2 = 0;
IF @Current3 IS NULL
    SET @Current3 = 0;
IF @Current4 IS NULL
    SET @Current4 = 0;
IF @Current5 IS NULL
    SET @Current5 = 0;
IF @Current6 IS NULL
    SET @Current6 = 0;
IF @Current7 IS NULL
    SET @Current7 = 0;

INSERT INTO bx_PointLogs(UserID, Point0, Point1, Point2, Point3, Point4, Point5, Point6, Point7, 
Current0 ,Current1,Current2 ,Current3 ,Current4 ,Current5 ,Current6 ,Current7 ,  
OperateID, Remarks)
VALUES( @UserID, @Point0, @Point1, @Point2, @Point3, @Point4, @Point5, @Point6, @Point7
,@Current0 ,@Current1,@Current2 ,@Current3 ,@Current4 ,@Current5 ,@Current6 ,@Current7 
, @LogTypeID, @Remarks );
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CreatePointShow</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CreatePointShow">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_CreatePointShow
     @UserID int
    ,@Points int
    ,@Price  int
    ,@Content nvarchar(100)
AS
BEGIN
    SET NOCOUNT ON;
    
    IF Exists( SELECT * FROM bx_PointShows WHERE UserID = @UserID) BEGIN
        RETURN;
    END
    INSERT INTO bx_PointShows( ShowPoints, Price, UserID, Content) VALUES ( @Points, @Price, @UserID, @Content);
    EXEC bx_GetMyPointShowInfo @UserID
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CreateSerial</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CreateSerial">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_CreateSerial
@UserID         int
,@Type          tinyint
,@ExpiresDate   datetime
,@Data          nvarchar(1000)
,@Success		bit out
AS
BEGIN
    SET NOCOUNT ON;	 
	DECLARE @TodayCount int;
	DECLARE @Today datetime;
    DECLARE @Serial uniqueidentifier;

	SET @Success=1;
    SET @Today = CONVERT(varchar(12) , GETDATE(), 102);
    SET @Serial = NEWID(); 
    SELECT @TodayCount = COUNT(*) FROM (SELECT TOP 3 Serial FROM bx_Serials WHERE Type= @Type AND UserID = @UserID AND CreateDate &gt;= @Today) as t;
	IF(@TodayCount &lt; 3) BEGIN
		INSERT INTO bx_Serials( Serial, UserID, CreateDate, ExpiresDate, Type, Data) Values( @Serial, @UserID, GETDATE(), @ExpiresDate, @Type, @Data);
		SELECT * FROM bx_Serials WHERE Serial = @Serial;
	END
	ELSE
		SET @Success=0;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CreateShare</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CreateShare">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_CreateShare
     @UserID               int
    ,@Type                 tinyint
    ,@PrivacyType          tinyint
    ,@Title                nvarchar(100)
    ,@Url                  nvarchar(512)
    ,@Content              nvarchar(2800)
    ,@Description          nvarchar(1000)
    ,@SortOrder            bigint
    ,@TargetID             int
AS
BEGIN
    SET NOCOUNT ON;

    INSERT INTO [bx_Shares] ([UserID], [Type], [Content], [SortOrder],[TargetID],[Url])
    VALUES(@UserID, @Type, @Content, @SortOrder, @TargetID, @Url);

    DECLARE @ShareID int;

    SELECT @ShareID = @@IDENTITY;

    IF @Type = 9 BEGIN --- 主题
        IF @PrivacyType = 2
            UPDATE bx_Threads SET CollectionCount = CollectionCount+1 WHERE ThreadID = @TargetID;
        ELSE
            UPDATE bx_Threads SET ShareCount = ShareCount+1 WHERE ThreadID = @TargetID;
    END 

    INSERT INTO [bx_UserShares] ([UserID], [ShareID], [PrivacyType], [Subject], [Description]) 
    VALUES (@UserID, @ShareID, @PrivacyType, @Title, @Description);

    SELECT @ShareID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CreateTempUploadFile</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CreateTempUploadFile">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_CreateTempUploadFile
    @UserID         int,
    @UploadAction   varchar(100),
    @SearchInfo     nvarchar(100),
    @CustomParams   nvarchar(3000),
    @FileName       nvarchar(256),
    @ServerFileName varchar(100),
    @MD5            char(32),
    @FileSize       bigint,
    @FileID         varchar(50),
    @TempUploadFileID int output
AS BEGIN

    SET NOCOUNT ON;

    INSERT INTO bx_TempUploadFiles (UserID, UploadAction, SearchInfo, CustomParams, FileName, ServerFileName, MD5, FileSize, FileID) VALUES (@UserID, @UploadAction, @SearchInfo, @CustomParams, @FileName, @ServerFileName, @MD5, @FileSize, @FileID);
    SELECT @TempUploadFileID = @@IDENTITY;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CreateThreadCate</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CreateThreadCate">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_CreateThreadCate
     @CateName   nvarchar(50)
    ,@Enable     bit
    ,@SortOrder  int
AS
BEGIN
	SET NOCOUNT ON;
    
    DECLARE @CateID int;
	INSERT INTO bx_ThreadCates(CateName,Enable,SortOrder) VALUES(@CateName,@Enable,@SortOrder);
    SET @CateID = @@IDENTITY;
	INSERT INTO bx_ThreadCateModels(CateID,ModelName,Enable,SortOrder) VALUES(@CateID,'默认模板',1,1);
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CreateThreadCateModelField</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CreateThreadCateModelField">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_CreateThreadCateModelField
     @ModelID    int
    ,@FieldName  nvarchar(50)
    ,@Enable     bit
    ,@SortOrder  int
    ,@FieldType  nvarchar(50)
    ,@FieldTypeSetting  ntext
    ,@Search            bit
    ,@AdvancedSearch    bit
    ,@DisplayInList     bit
    ,@MustFilled        bit
    ,@Description       nvarchar(1000)
AS
BEGIN
	SET NOCOUNT ON;
	IF EXISTS(SELECT * FROM bx_ThreadCateModels WHERE ModelID = @ModelID) BEGIN
	    INSERT INTO bx_ThreadCateModelFields(ModelID,FieldName,Enable,SortOrder,FieldType,FieldTypeSetting,
                    Search,AdvancedSearch,DisplayInList,MustFilled,Description) VALUES(
                        @ModelID,@FieldName,@Enable,@SortOrder,@FieldType,@FieldTypeSetting,
                    @Search,@AdvancedSearch,@DisplayInList,@MustFilled,@Description)
        SELECT 1;
    END
    ELSE
        SELECT 0;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CreateThreadExchange</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CreateThreadExchange">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_CreateThreadExchange 
	@ThreadID       int,
	@UserID         int,
	@Price          int
AS
BEGIN
	SET NOCOUNT ON
    IF NOT EXISTS(SELECT * FROM bx_ThreadExchanges WITH (NOLOCK) WHERE ThreadID = @ThreadID AND UserID = @UserID)
        INSERT INTO bx_ThreadExchanges (ThreadID,UserID,Price) VALUES (@ThreadID,@UserID,@Price);
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_CreateValidateCodeActionRecord</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_CreateValidateCodeActionRecord">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_CreateValidateCodeActionRecord
     @IP            varchar(50)
    ,@Action        varchar(200)
    ,@CreateDate    datetime
    ,@LimitedTime   datetime
    ,@LimitedCount  int
AS
BEGIN
	SET NOCOUNT ON;
    INSERT INTO [bx_ValidateCodeActionRecords]([IP], [Action], [CreateDate]) VALUES (@IP, @Action, @CreateDate);

    SELECT @@IDENTITY;

        
    EXEC('
    DECLARE @Temp table([ID] int);
    INSERT INTO @Temp SELECT TOP ' + @LimitedCount + ' [ID] FROM [bx_ValidateCodeActionRecords] WHERE [IP]=''' + @IP + ''' AND [Action]=''' + @Action + '''
        AND [CreateDate] &gt; ''' + @LimitedTime + ''' ORDER BY [ID] DESC;

    DELETE [bx_ValidateCodeActionRecords] WHERE [ID]&lt;(SELECT ISNULL(MIN([ID]),2147483647) FROM @Temp) AND  [IP]=''' + @IP + ''' AND [Action]=''' + @Action + ''';
    ');
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DeductPointShowPoint</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_DeductPointShowPoint">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_DeductPointShowPoint 
@UserID int
AS
BEGIN
SET NOCOUNT ON;
    DECLARE @OldPrice int,@OldPoints int;
    SELECT @OldPoints = ShowPoints, @OldPrice = Price FROM bx_PointShows WHERE UserID = @UserID;
    UPDATE bx_PointShows SET ShowPoints = ShowPoints - Price WHERE UserID = @UserID AND ShowPoints &gt; 0;
    DELETE FROM bx_PointShows WHERE UserID = @UserID AND ShowPoints &lt;= 0; 
    SELECT @OldPoints-@OldPrice,@OldPrice;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DeleteDiskFiles</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_DeleteDiskFiles">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_DeleteDiskFiles 
	@UserID int,
	@DirectoryID int,
	@DiskFileIds text
AS
BEGIN

	SET NOCOUNT ON;

	IF EXISTS (SELECT * FROM [bx_DiskDirectories] WITH (NOLOCK) WHERE DirectoryID = @DirectoryID AND UserID = @UserID) BEGIN
        SELECT FileID FROM  [bx_DiskFiles] WHERE [DiskFileID] IN (SELECT item FROM bx_GetIntTable(@DiskFileIds,',')) AND [DirectoryID] = @DirectoryID;
		EXEC ('DELETE [bx_DiskFiles] WHERE [DiskFileID] IN (' + @DiskFileIds + ') AND [DirectoryID] = ' + @DirectoryID);
		RETURN (0);
	END
	ELSE
		RETURN (1);
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DeleteDiskTree</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_DeleteDiskTree">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_DeleteDiskTree 
@UserID int,
@DirectoryIds varchar(8000)
AS
BEGIN

    SET NOCOUNT ON;


    DECLARE @DirectoryIDTable TABLE(ID int IDENTITY (1,1) ,DirectoryID int ,ParentID int DEFAULT(0), IsSelected int DEFAULT(0));
    
	INSERT INTO @DirectoryIDTable(DirectoryID, IsSelected) 
    SELECT DirectoryID,1 FROM [bx_DiskDirectories] WITH (NOLOCK)
        WHERE [DirectoryID] IN (SELECT item FROM bx_GetIntTable(@DirectoryIds,',')) AND [UserID] = @UserID;
    
	DECLARE @Num int;
	SET @Num = 1;
    
	WHILE(@Num &gt; 0)
	BEGIN
		INSERT INTO @DirectoryIDTable(DirectoryID)
		SELECT DirectoryID FROM [bx_DiskDirectories] WITH (NOLOCK)
		    WHERE UserID = @UserID AND ParentID IN (SELECT DirectoryID FROM @DirectoryIDTable WHERE IsSelected = 1);
	    
		UPDATE @DirectoryIDTable SET IsSelected = IsSelected + 1 WHERE IsSelected &lt;&gt; 2;

		SELECT @Num = COUNT(*) FROM @DirectoryIDTable WHERE IsSelected = 1;
	END


	DECLARE @ParentIds TABLE(ID_P int IDENTITY (1,1),ParentID_P int DEFAULT 0)

	INSERT INTO @ParentIds(ParentID_P)
	SELECT ParentID FROM bx_DiskDirectories WHERE DirectoryID IN (SELECT DirectoryID FROM @DirectoryIDTable)
	
	UPDATE @DirectoryIDTable SET ParentID = ParentID_P FROM @ParentIds WHERE ID = ID_P;

	DECLARE @DirectoryID int;
	SET @DirectoryID = -1;

	SELECT @DirectoryID = DirectoryID FROM @DirectoryIDTable WHERE DirectoryID NOT IN 
	    (SELECT A.DirectoryID FROM @DirectoryIDTable AS A
	        INNER JOIN @DirectoryIDTable AS B
	        ON A.DirectoryID = B.ParentID);

	BEGIN TRANSACTION
	WHILE(@DirectoryID &gt; 0 AND EXISTS(SELECT DirectoryID FROM bx_DiskDirectories WHERE DirectoryID = @DirectoryID))
	BEGIN
		IF(@UserID &gt; 0)
		BEGIN
			DELETE FROM bx_DiskDirectories WHERE DirectoryID = @DirectoryID AND [UserID] = @UserID;
			IF @@ERROR &lt;&gt; 0
			BEGIN
				ROLLBACK TRANSACTION
			END
		END
		ELSE
		BEGIN
			DELETE FROM bx_DiskDirectories WHERE DirectoryID = @DirectoryID;
			IF @@ERROR &lt;&gt; 0
			BEGIN
				ROLLBACK TRANSACTION
                RETURN -1;
			END
		END

		DELETE FROM @DirectoryIDTable WHERE DirectoryID = @DirectoryID;

		SET @DirectoryID = -1;

		SELECT @DirectoryID = DirectoryID FROM @DirectoryIDTable WHERE DirectoryID NOT IN 
		    (SELECT A.DirectoryID FROM @DirectoryIDTable AS A
		        INNER JOIN @DirectoryIDTable AS B
		        ON A.DirectoryID = B.ParentID);
	END
	COMMIT TRANSACTION
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DeleteForumThreadCatalog</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_DeleteForumThreadCatalog">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_DeleteForumThreadCatalog
    @ForumID            int,
    @ThreadCatalogID    int
AS BEGIN
    SET NOCOUNT ON;
    
    DELETE [bx_ThreadCatalogsInForums] WHERE [ForumID]=@ForumID AND [ThreadCatalogID]=@ThreadCatalogID;

    IF NOT EXISTS(SELECT * FROM [bx_ThreadCatalogsInForums] WHERE [ThreadCatalogID]=@ThreadCatalogID)
        DELETE [bx_ThreadCatalogs] WHERE [ThreadCatalogID] = @ThreadCatalogID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DeleteForumThreads</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_DeleteForumThreads">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_DeleteForumThreads
	@ForumID int,
	@DeleteCount int
AS
BEGIN
	SET NOCOUNT ON;

	EXEC (N'DELETE bx_Threads WHERE ThreadID IN (SELECT TOP ' + @DeleteCount + N' ThreadID FROM bx_Threads WITH (NOLOCK) WHERE ForumID = ' + @ForumID + N')');
	RETURN @@ROWCOUNT;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DeleteFriend</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_DeleteFriend">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_DeleteFriend
    @UserID int,
    @FriendUserID int
AS BEGIN

	SET NOCOUNT ON;

    DELETE FROM [bx_Friends] WHERE UserID = @UserID AND FriendUserID = @FriendUserID;
    DELETE FROM [bx_Friends] WHERE UserID = @FriendUserID AND FriendUserID = @UserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DeleteFriendGroup</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_DeleteFriendGroup">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_DeleteFriendGroup
    @UserID int,
    @GroupID int,
    @DeleteFriends bit
AS BEGIN

	SET NOCOUNT ON;

    IF @GroupID = 0
        RETURN (2);

    IF @DeleteFriends = 0
        UPDATE bx_Friends SET GroupID = 0 WHERE UserID = @UserID AND GroupID = @GroupID;

    DELETE bx_FriendGroups WHERE UserID = @UserID AND GroupID = @GroupID;

    RETURN (0);

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DeleteNotifies</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_DeleteNotifies">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_DeleteNotifies
@UserID    int
,@NotifyIDs  varchar(8000)
AS 
BEGIN
SET NOCOUNT ON;
DECLARE @NotifyIDTable table(NotifyID int);

INSERT @NotifyIDTable SELECT item FROM bx_GetIntTable(@NotifyIDs,',');

IF @UserID IS NULL BEGIN
    DECLARE @TempUserIDs table( userid int);
    INSERT @TempUserIDs SELECT DISTINCT UserID FROM bx_Notify WHERE [NotifyID] IN ( SELECT NotifyID FROM  @NotifyIDTable);
    DELETE FROM [bx_Notify] WHERE [NotifyID] IN ( SELECT NotifyID FROM  @NotifyIDTable);
    SELECT * FROM bx_UnreadNotifies WHERE UserID IN (SELECT userid FROM @TempUserIDs);
END
ELSE BEGIN
    DELETE FROM [bx_Notify] WHERE UserID = @UserID AND [NotifyID] IN ( SELECT NotifyID FROM  @NotifyIDTable); 
    SELECT * FROM bx_UnreadNotifies WHERE UserID = @UserID;
END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DeleteNotifysByType</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_DeleteNotifysByType">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_DeleteNotifysByType
    @UserID             int
   ,@TypeID             tinyint
AS BEGIN
    SET NOCOUNT ON;

    DELETE FROM 
        [bx_Notify] 
    WHERE 
        (@UserID IS NULL OR [UserID] = @UserID) 
    AND 
        [TypeID] = @TypeID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DeletePassportClient</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_DeletePassportClient">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_DeletePassportClient
@ClientID        int

AS 
BEGIN
SET NOCOUNT ON;

UPDATE bx_PassportClients SET Deleted = 1 WHERE ClientID = @ClientID;
DELETE FROM bx_Instructs WHERE InstructID IN( SELECT TOP 200 InstructID FROM bx_Instructs WHERE ClientID = @ClientID );

DECLARE @InsCount int ;

SET @InsCount = 0;

    DELETE FROM bx_PassportClients WHERE ClientID = @ClientID

SELECT @InsCount;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DeletePosts</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_DeletePosts">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_DeletePosts 
	@ForumID int,
	@ThreadID int,
	@UserID int,
	@IsDeleteAnyPost bit,
	@PostIdentities varchar(8000)
AS
BEGIN

	SET NOCOUNT ON 

	IF(@IsDeleteAnyPost=1)
	BEGIN
		EXEC ('DELETE [bx_Posts] WHERE [ForumID]=' + @ForumID + ' AND [ThreadID]=' + @ThreadID + ' AND [PostID] IN (' + @PostIdentities + ')')
	END
	ELSE
		BEGIN
			DECLARE @Count int,@SQLString nvarchar(4000)
			SET @SQLString = N'SELECT @Count=count(*) FROM [bx_Posts] WITH(NOLOCK) WHERE UserID &lt;&gt; '+str(@UserID)+' AND [ForumID]=' + str(@ForumID) + ' AND [ThreadID]=' + str(@ThreadID) + ' AND [PostID] IN (' + @PostIdentities + ')'
			EXECUTE sp_executesql @SQLString,N'@Count int output',@Count output
			IF(@Count&gt;0)
				RETURN 101
			ELSE
				EXEC ('DELETE [bx_Posts] WHERE [UserID]=' + @UserID + ' AND [ForumID]=' + @ForumID + ' AND [ThreadID]=' + @ThreadID + ' AND [PostID] IN (' + @PostIdentities + ')') 
		END
	DECLARE @RowCount int
	SET @RowCount = @@ROWCOUNT
	IF @RowCount &gt; 0 BEGIN
		EXEC [bx_DoCreateStat] @ForumID,8, @RowCount
		RETURN (0)
	END
	ELSE
		RETURN (1)

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DeleteSerialByUser</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_DeleteSerialByUser">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_DeleteSerialByUser
@UserID int
,@Type tinyint
AS
BEGIN
    SET NOCOUNT ON;
    DELETE bx_Serials WHERE UserID = @UserID AND Type = @Type;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DeleteTag</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_DeleteTag">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_DeleteTag
     @ID       int
AS BEGIN
    SET NOCOUNT ON;
    DELETE FROM [bx_Tags] WHERE [ID] = @ID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DeleteThreadImage</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_DeleteThreadImage">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_DeleteThreadImage
    @ThreadID       int
AS BEGIN
    SET NOCOUNT ON;
    DELETE bx_ThreadImages WHERE ThreadID = @ThreadID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DeleteThreads</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_DeleteThreads">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_DeleteThreads
	@ForumID int,
	@ThreadStatus tinyint,
	@ThreadIdentities varchar(8000)
AS
	SET NOCOUNT ON 

	IF @ThreadStatus&lt;4
		EXEC ('DELETE [bx_Threads] WHERE  [ForumID]=' + @ForumID+' AND [ThreadID] IN (' + @ThreadIdentities + ')')
	ELSE IF @ThreadStatus=4
		EXEC ('DELETE [bx_Threads] WHERE  [ForumID]=' + @ForumID+' AND [ThreadID] IN (' + @ThreadIdentities + ') AND ThreadStatus = 4')
	ELSE
		EXEC ('DELETE [bx_Threads] WHERE  [ForumID]=' + @ForumID+' AND [ThreadID] IN (' + @ThreadIdentities + ') AND ThreadStatus = 5')

	DECLARE @RowCount int
	SET @RowCount=@@ROWCOUNT
	IF @RowCount&gt; 0
	BEGIN
		EXEC [bx_DoCreateStat] @ForumID,7, @RowCount
		RETURN (0);
	END
	ELSE
	begin
		RETURN (1)
	end</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DeleteUser</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_DeleteUser">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_DeleteUser
 @UserID             int 
,@Step               int
AS 
BEGIN
    SET NOCOUNT ON;

DECLARE @TotalCount  int
SET @TotalCount=0;

    IF @Step = 1  BEGIN --动态
	    DELETE [bx_Feeds] WHERE [TargetUserID] = @UserID;
        DELETE [bx_UserFeeds] WHERE [UserID] = @UserID;
        SET @TotalCount= 0;
    END

    IF @Step = 2  BEGIN
	    DELETE [bx_Comments] WHERE  [TargetID] = @UserID OR [UserID] = @UserID;
        SET @TotalCount= 0;
    END

    IF @Step = 3  BEGIN
	   DELETE FROM [bx_Notify] WHERE [UserID] = @UserID;
       SET @TotalCount= 0;
    END	

    IF @Step = 4  BEGIN
	    DELETE FROM [bx_InviteSerials]  WHERE UserID = @UserID OR ToUserID = @UserID;
       SET @TotalCount= 0;
    END

    IF @Step = 5  BEGIN
       UPDATE [bx_UserInfos]  SET InviterID = 0 WHERE InviterID = @UserID;
       SET @TotalCount= 0;
    END

    IF @Step = 6  BEGIN
       DECLARE @TopDirID int
       SET @TopDirID= (SELECT TOP 1 DirectoryID  FROM bx_DiskDirectories WHERE UserID = @UserID Order By DirectoryID DESC);
       DELETE FROM bx_DiskFiles WHERE DirectoryID = @TopDirID;
       DELETE FROM bx_DiskDirectories WHERE DirectoryID = @TopDirID;
       SET @TotalCount= (SELECT COUNT(*) FROM bx_DiskDirectories WHERE UserID = @UserID);
    END

    IF @Step = 7  BEGIN
       DECLARE @TopGroupID int
       SET @TopGroupID= (SELECT TOP 1 GroupID  FROM bx_EmoticonGroups WHERE UserID = @UserID Order By GroupID DESC);
       DELETE FROM bx_Emoticons WHERE GroupID = @TopGroupID;
       DELETE FROM bx_EmoticonGroups WHERE GroupID = @TopGroupID;
       SET @TotalCount= (SELECT COUNT(*) FROM bx_EmoticonGroups WHERE UserID = @UserID);
    END

    IF @Step = 8  BEGIN
       DELETE FROM bx_ChatMessages WHERE MessageID IN(SELECT TOP 200 MessageID  FROM bx_ChatMessages WHERE UserID = @UserID OR TargetUserID = @UserID);
       SET @TotalCount= (SELECT COUNT(*) FROM bx_ChatMessages WHERE UserID = @UserID OR TargetUserID = @UserID);
       IF @TotalCount=0 
        DELETE FROM bx_ChatSessions WHERE  UserID = @UserID OR TargetUserID = @UserID;
    END
    
    IF @Step = 9  BEGIN
       DELETE FROM bx_Doings WHERE DoingID IN(SELECT TOP 200 DoingID  FROM bx_Doings WHERE UserID = @UserID);
       SET @TotalCount= (SELECT COUNT(*) FROM bx_Doings WHERE UserID = @UserID);
    END

    IF @Step = 10  BEGIN
       DELETE FROM bx_Shares WHERE ShareID IN(SELECT TOP 200 ShareID  FROM bx_Shares WHERE UserID = @UserID);
       SET @TotalCount= (SELECT COUNT(*) FROM bx_Shares WHERE UserID = @UserID);
    END

    IF @Step = 11  BEGIN
	   DELETE FROM bx_Visitors WHERE UserID = @UserID OR VisitorUserID =@UserID;
       DELETE FROM bx_BlogArticleVisitors WHERE UserID = @UserID;
       SET @TotalCount= 0;
    END

    IF @Step = 12  BEGIN
	Delete [bx_BlogArticles] WHERE ArticleID IN(SELECT TOP 200 ArticleID FROM [bx_BlogArticles] WHERE  [UserID] = @UserID);
    SET @TotalCount= (SELECT Count(*) FROM [bx_BlogArticles] WHERE UserID = @UserID);
    END

    IF @Step = 13  BEGIN
	Delete [bx_Albums] WHERE AlbumID IN(SELECT TOP 200 AlbumID FROM [bx_Albums] WHERE  [UserID] = @UserID);
    SET @TotalCount= (SELECT Count(*) FROM [bx_Albums] WHERE UserID = @UserID);
    END

    IF @Step = 14  BEGIN
    Delete [bx_Attachments] WHERE AttachmentID IN(SELECT TOP 200 AttachmentID FROM [bx_Attachments] WHERE  [UserID] = @UserID);
    SET @TotalCount= (SELECT Count(*) FROM [bx_Attachments] WHERE UserID = @UserID);
    END

    IF @Step = 15 BEGIN
    Delete [bx_Posts] WHERE PostID IN(SELECT TOP 200 PostID FROM [bx_Posts] WHERE  [UserID] = @UserID);
    SET @TotalCount= (SELECT Count(*) FROM [bx_Posts] WHERE UserID = @UserID);
    END

    IF @Step = 16 BEGIN
    Delete [bx_Threads] WHERE ThreadID IN(SELECT TOP 200 ThreadID FROM [bx_Threads] WHERE [PostUserID] = @UserID);
    SET @TotalCount= (SELECT Count(*) FROM [bx_Threads] WHERE PostUserID = @UserID);
    END

    IF @Step = 17 BEGIN
    Delete [bx_Friends] WHERE FriendUserID = @UserID OR UserID = @UserID
    SET @TotalCount= 0;
    END    

    IF @Step = 18 BEGIN
    Delete [bx_Visitors] WHERE ID IN(SELECT TOP 200 ID FROM [bx_Visitors] WHERE UserID = @UserID OR VisitorUserID = @UserID);
    SET @TotalCount= (SELECT Count(*) FROM [bx_Visitors] WHERE UserID = @UserID OR VisitorUserID = @UserID);

    END

    IF @Step = 19 BEGIN
    Delete [bx_PointLogs] WHERE LogID IN(SELECT TOP 200 LogID FROM [bx_PointLogs] WHERE UserID = @UserID);
    SET @TotalCount = (SELECT Count(*) FROM [bx_PointLogs] WHERE UserID = @UserID);

    END

    IF @Step = 20 BEGIN
	    DELETE [bx_Users] WHERE [UserID] = @UserID;
        SET @TotalCount = 0;
    END

    IF @Step = 21 BEGIN
        EXECUTE bx_UpdateNewUserVars 0;
        SET @TotalCount = 0;
    END
    SELECT @TotalCount;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DeleteUserExtendProfile</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_DeleteUserExtendProfile">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_DeleteUserExtendProfile
@Key        varchar(36)
AS
BEGIN
    SET NOCOUNT ON
    DELETE [bx_UserExtendedValues]  WHERE [ExtendedFieldID] = @Key;
    
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DeleteUserTempUploadFile</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_DeleteUserTempUploadFile">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_DeleteUserTempUploadFile
    @UserID         int,
    @TempUploadFileID  int
AS BEGIN

    SET NOCOUNT ON;

    SELECT [ServerFileName] FROM bx_TempUploadFiles WHERE UserID = @UserID AND TempUploadFileID = @TempUploadFileID;
    DELETE bx_TempUploadFiles WHERE UserID = @UserID AND TempUploadFileID = @TempUploadFileID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Denouncing_CheckState</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Denouncing_CheckState">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Denouncing_CheckState
	@UserID		int,
	@TargetID	int,
	@TargetType	tinyint
AS
BEGIN
	SET NOCOUNT ON;

	IF EXISTS (SELECT * FROM bx_Denouncings WHERE IsIgnore = 1 AND TargetID = @TargetID AND Type = @TargetType) 
	BEGIN
		RETURN 2;
	END
	
	IF EXISTS (SELECT * FROM bx_DenouncingContents WHERE UserID = UserID AND DenouncingID IN (
		SELECT A.DenouncingID FROM bx_Denouncings A WHERE  TargetID = @TargetID AND Type = @TargetType))
	BEGIN
		RETURN 3;
	END

	RETURN 1;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Denouncing_Create</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Denouncing_Create">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Denouncing_Create
	@UserID			int,
	@TargetID		int,
	@TargetUserID	int,
	@Type			tinyint,
	@Content		nvarchar(50),
	@CreateIP		varchar(50)
AS
BEGIN
	SET NOCOUNT ON;

	DECLARE @DenouncingID int;

	IF EXISTS(SELECT * FROM bx_Denouncings WHERE TargetID = @TargetID AND Type = @Type)
	BEGIN
		SELECT @DenouncingID = DenouncingID FROM bx_Denouncings WHERE TargetID = @TargetID AND Type = @Type;
	END
	ELSE
	BEGIN
		INSERT INTO bx_Denouncings(TargetID,TargetUserID,Type) VALUES (@TargetID,@TargetUserID,@Type);

		SELECT @DenouncingID = @@IDENTITY;
	END

	IF NOT EXISTS(SELECT * FROM bx_DenouncingContents WHERE DenouncingID = @DenouncingID AND UserID = @UserID)
	BEGIN
		INSERT INTO bx_DenouncingContents (DenouncingID, UserID,Content) VALUES (@DenouncingID, @UserID,@Content);
	END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Denouncing_Delete</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Denouncing_Delete">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Denouncing_Delete
	@DenouncingID	int
AS
BEGIN
	SET NOCOUNT ON;

	DELETE FROM bx_DenouncingContents WHERE DenouncingID = @DenouncingID;

	DELETE FROM bx_Denouncings WHERE DenouncingID = @DenouncingID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Denouncing_GetByID</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Denouncing_GetByID">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Denouncing_GetByID
	@DenouncingID	int
AS
BEGIN
	SET NOCOUNT ON;

	SELECT * FROM bx_Denouncings WHERE DenouncingID = @DenouncingID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Denouncing_GetCount</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Denouncing_GetCount">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Denouncing_GetCount
AS
BEGIN
    SET NOCOUNT ON;

    SELECT COUNT(*) FROM bx_Denouncings WHERE IsIgnore = 0 AND Type = 1;  --photo
    SELECT COUNT(*) FROM bx_Denouncings WHERE IsIgnore = 0 AND Type = 3;  --article
    SELECT COUNT(*) FROM bx_Denouncings WHERE IsIgnore = 0 AND Type = 5;  --share
    SELECT COUNT(*) FROM bx_Denouncings WHERE IsIgnore = 0 AND Type = 4;  --user
    SELECT COUNT(*) FROM bx_Denouncings WHERE IsIgnore = 0 AND Type = 6;  --topic
    SELECT COUNT(*) FROM bx_Denouncings WHERE IsIgnore = 0 AND Type = 7;  --reply
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Denouncing_Ignore</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Denouncing_Ignore">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Denouncing_Ignore
	@DenouncingID	int
AS
BEGIN
	SET NOCOUNT ON;

	UPDATE bx_Denouncings SET IsIgnore = 1 WHERE DenouncingID = @DenouncingID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Disk_GetDiskFileByFileName</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Disk_GetDiskFileByFileName">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Disk_GetDiskFileByFileName 
	@UserID int,
	@DirectoryID int,
	@FileName nvarchar(256)
AS
BEGIN

	SET NOCOUNT ON;

    IF @DirectoryID &lt; 1
		SELECT @DirectoryID = DirectoryID FROM bx_DiskDirectories WHERE ParentID = 0 AND UserID = @UserID;

    SELECT * FROM bx_DiskFiles WITH (NOLOCK) WHERE DirectoryID = @DirectoryID AND [FileName] = @FileName AND UserID = @UserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Disk_GetDiskFileByID</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Disk_GetDiskFileByID">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Disk_GetDiskFileByID
	@DiskFileID int
AS
BEGIN

	SET NOCOUNT ON;

    SELECT * FROM bx_DiskFiles WHERE DiskFileID = @DiskFileID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Disk_GetDiskFileByUserAndID</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Disk_GetDiskFileByUserAndID">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Disk_GetDiskFileByUserAndID
	@UserID int,
	@DiskFileID int
AS
BEGIN

	SET NOCOUNT ON;

    SELECT * FROM bx_DiskFiles WHERE DiskFileID = @DiskFileID AND UserID = @UserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_DoCreateStat</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_DoCreateStat">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE [bx_DoCreateStat] 
	@ForumID int,
	@StatType int,
	@Count int
AS
BEGIN
SET NOCOUNT ON;
IF EXISTS (SELECT * FROM bx_Stats WHERE StatType=@StatType AND [Year]=year(getdate()) AND [Month]=month(getdate()) AND [Day]=day(getdate()) AND [Hour]=DATEPART(hh, GETDATE()) AND [Param]=@ForumID )
		UPDATE bx_Stats SET [Count]=[Count]+@Count WHERE StatType=@StatType AND [Year]=year(getdate()) AND [Month]=month(getdate()) AND [Day]=day(getdate()) AND [Hour]=DATEPART(hh, GETDATE()) AND [Param]=@ForumID
		ELSE
		INSERT INTO bx_Stats(StatType,[Year],[Month],[Day],[Hour],[Count],[Param])
		VALUES (@StatType,year(getdate()),month(getdate()),day(getdate()),DATEPART(hh, GETDATE()),@Count,@ForumID)
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Doing_Add</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Doing_Add">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Doing_Add 
    @UserID       int,
    @Content      nvarchar(200),
    @CreateIP     varchar(50)
AS BEGIN
    SET NOCOUNT ON;

    IF LEN(@Content)&gt;0 BEGIN
        INSERT INTO bx_Doings([UserID],[TotalComments],[Content],[CreateIP]) VALUES(@UserID,0,@Content,@CreateIP);
        SELECT @@IDENTITY;
    END 
    ELSE BEGIN
        SELECT 0;
    END
    UPDATE bx_Users SET Doing = @Content, DoingDate = getdate() WHERE UserID = @UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Doing_DeleteDoing</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Doing_DeleteDoing">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Doing_DeleteDoing 
    @DoingID    int
AS BEGIN
    SET NOCOUNT ON;

    DELETE FROM bx_Doings WHERE DoingID = @DoingID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Doing_GetDoing</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Doing_GetDoing">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Doing_GetDoing
	@DoingID	int
AS
BEGIN
    SET NOCOUNT ON;
	SELECT * FROM bx_Doings WHERE DoingID = @DoingID
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Doing_GetPostDoingCount</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Doing_GetPostDoingCount">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Doing_GetPostDoingCount
	@UserID		int,
	@BeginDate	datetime,
	@EndDate	datetime
AS
BEGIN
	SET NOCOUNT ON;

	SELECT COUNT(*) FROM bx_Doings WHERE [UserID] = @UserID AND [CreateDate] BETWEEN @BeginDate AND @EndDate;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Doing_GetTodayPostDoingCount</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Doing_GetTodayPostDoingCount">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Doing_GetTodayPostDoingCount
	@UserID		int,
	@Today  	datetime
AS
BEGIN
	SET NOCOUNT ON;

	SELECT COUNT(*) FROM bx_Doings WHERE [UserID] = @UserID AND [CreateDate] &gt;= @Today;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Doing_UpdateDoingKeywords</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Doing_UpdateDoingKeywords">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Doing_UpdateDoingKeywords
    @DoingID                  int,
    @KeywordVersion           varchar(32),
    @Content                  nvarchar(200),
    @ContentReverter          nvarchar(4000)
AS BEGIN


    SET NOCOUNT ON;

    IF @Content IS NOT NULL BEGIN

        IF @KeywordVersion IS NOT NULL
            UPDATE bx_Doings SET Content = @Content, KeywordVersion = @KeywordVersion WHERE DoingID = @DoingID;
        ELSE
            UPDATE bx_Doings SET Content = @Content WHERE DoingID = @DoingID;

    END

    IF @ContentReverter IS NOT NULL BEGIN

        UPDATE bx_DoingReverters SET ContentReverter = @ContentReverter WHERE DoingID = @DoingID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_DoingReverters (DoingID, ContentReverter) VALUES (@DoingID, @ContentReverter);

    END


END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Drop</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Drop">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

CREATE PROCEDURE bx_Drop @Name sysname
AS
BEGIN

	IF OBJECT_ID(@Name) IS NULL
		RETURN;


	/* 删除指定名称的表 */
	IF EXISTS (SELECT * FROM [sysobjects] WHERE [type] = 'U' AND [name] = @Name) BEGIN
		
		DECLARE cs_trgs CURSOR FOR SELECT [name] FROM [sysobjects] WHERE [type] = 'F' and parent_obj = OBJECT_ID(@Name) FOR READ ONLY
		DECLARE @t_name NVARCHAR(100)

		OPEN cs_trgs

		FETCH NEXT FROM cs_trgs INTO @t_name
		WHILE @@FETCH_STATUS = 0 BEGIN
			EXEC('ALTER TABLE [' + @Name + '] DROP CONSTRAINT [' + @t_name + '];');
			FETCH NEXT FROM cs_trgs INTO @t_name;
		END

		CLOSE cs_trgs;
		DEALLOCATE cs_trgs;
		
		EXEC('DROP TABLE ' + @Name);
    END

	/* 删除指定名称的外键 */
	ELSE IF EXISTS (SELECT * FROM [sysobjects] WHERE [type] = 'F' AND [name] = @Name) BEGIN

		DECLARE @TableName nvarchar(200)
		SELECT @TableName = OBJECT_NAME(fkeyid) FROM [sysforeignkeys] WHERE constid = OBJECT_ID(@Name)
		EXEC('ALTER TABLE [' + @TableName + '] DROP CONSTRAINT [' + @Name + '];');

	END

	/* 删除指定名称的存储过程 */
	ELSE IF EXISTS (SELECT * FROM [sysobjects] WHERE [type] = 'P' AND [name] = @Name)
		EXEC('DROP PROCEDURE [' + @Name + '];');

	/* 删除指定名称的自定义函数 */
	ELSE IF EXISTS (SELECT * FROM [sysobjects] WHERE [type] = 'TF' AND [name] = @Name)
		EXEC('DROP FUNCTION [' + @Name + '];');


END
</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_EmailIsExists</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_EmailIsExists">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_EmailIsExists 
    @Email    nvarchar(200)
AS BEGIN

    SET NOCOUNT ON;

    IF EXISTS(SELECT [UserID] FROM bx_Users WITH(NOLOCK) WHERE [Email] = @Email) BEGIN
	    SELECT 1;
    END
    ELSE BEGIN
        SELECT 0;
    END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Emoticon_AdminDeleteEmoticons</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Emoticon_AdminDeleteEmoticons">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Emoticon_AdminDeleteEmoticons
     @UserID             int 
    ,@EmoticonIDs        varchar(8000)
AS
BEGIN
    SET NOCOUNT ON;

    DECLARE @BeAboutToDelete TABLE( EmoticonID int,ImageSrc varchar(256) COLLATE Chinese_PRC_CI_AS_WS);
    INSERT @BeAboutToDelete SELECT EmoticonID,ImageSrc FROM bx_Emoticons WHERE EmoticonID IN ( SELECT item FROM bx_GetIntTable(@EmoticonIDs,','))  AND GroupID IN ( SELECT GroupID FROM bx_EmoticonGroups WHERE UserID = @UserID);
    DELETE FROM bx_Emoticons WHERE EmoticonID IN ( SELECT EmoticonID FROM @BeAboutToDelete );
    SELECT  ImageSrc FROM @BeAboutToDelete WHERE ImageSrc NOT IN ( SELECT ImageSrc FROM bx_Emoticons WHERE ImageSrc IN ( SELECT ImageSrc FROM @BeAboutToDelete ));
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Emoticon_CreateEmoticonGroup</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Emoticon_CreateEmoticonGroup">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Emoticon_CreateEmoticonGroup
     @UserID         int
    ,@GroupName      nvarchar(50)
AS
BEGIN
    SET NOCOUNT ON;
    INSERT INTO bx_EmoticonGroups( UserID, GroupName) VALUES (@UserID, @GroupName);
    SELECT * FROM bx_EmoticonGroups WHERE GroupID = @@IDENTITY;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Emoticon_DeleteEmoticonGroup</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Emoticon_DeleteEmoticonGroup">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Emoticon_DeleteEmoticonGroup
 @UserID         int
,@GroupID        int
AS 
BEGIN
    SET NOCOUNT ON;
    IF EXISTS(SELECT * FROM bx_EmoticonGroups WHERE UserID = @UserID AND GroupID = @GroupID)   BEGIN
        DECLARE @DeleteTable TABLE(TempID int IDENTITY, EmoticonID int, ImageSrc varchar(255) COLLATE Chinese_PRC_CI_AS_WS);
        INSERT  @DeleteTable SELECT EmoticonID, ImageSrc FROM bx_Emoticons WHERE GroupID = @GroupID;
        DELETE  bx_EmoticonGroups WHERE GroupID = @GroupID;
        SELECT  ImageSrc FROM @DeleteTable WHERE ImageSrc NOT IN ( SELECT ImageSrc FROM bx_Emoticons WHERE ImageSrc IN ( SELECT ImageSrc FROM @DeleteTable ) );
    END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Emoticon_DeleteEmoticons</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Emoticon_DeleteEmoticons">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Emoticon_DeleteEmoticons
 @GroupID            int
,@UserID             int
,@EmoticonIDs        varchar(8000)
AS 
BEGIN 

    SET NOCOUNT ON;

    IF EXISTS(SELECT * FROM bx_EmoticonGroups WHERE UserID = @UserID AND GroupID = @GroupID)   BEGIN
        DECLARE @DeleteTable TABLE(TempID int IDENTITY, EmoticonID int, ImageSrc varchar(255) COLLATE Chinese_PRC_CI_AS_WS);
        INSERT  @DeleteTable SELECT EmoticonID, ImageSrc FROM bx_Emoticons WHERE EmoticonID IN ( SELECT item FROM bx_GetIntTable(@EmoticonIDs,',')) AND GroupID = @GroupID;
        DELETE  bx_Emoticons WHERE EmoticonID IN ( SELECT EmoticonID FROM @DeleteTable );
        SELECT  ImageSrc FROM @DeleteTable WHERE ImageSrc NOT IN ( SELECT ImageSrc FROM bx_Emoticons WHERE ImageSrc IN ( SELECT ImageSrc FROM @DeleteTable ) );
    END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Emoticon_DeleteUserAllEmoticons</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Emoticon_DeleteUserAllEmoticons">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Emoticon_DeleteUserAllEmoticons
    @UserID     int
AS 
BEGIN
    SET NOCOUNT ON;

    DECLARE @DeleteTable TABLE(TempID int IDENTITY, EmoticonID int, ImageSrc varchar(255) COLLATE Chinese_PRC_CI_AS_WS);
    INSERT  @DeleteTable SELECT EmoticonID, ImageSrc FROM bx_Emoticons WHERE GroupID IN(SELECT GroupID FROM bx_EmoticonGroups WHERE UserID = @UserID)
    DELETE  bx_EmoticonGroups WHERE UserID = @UserID;
    SELECT  ImageSrc FROM @DeleteTable WHERE ImageSrc NOT IN ( SELECT ImageSrc FROM bx_Emoticons WHERE ImageSrc IN ( SELECT ImageSrc FROM @DeleteTable ));
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Emoticon_GetEmoticonGroup</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Emoticon_GetEmoticonGroup">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Emoticon_GetEmoticonGroup
    @UserID int
    ,@GroupID int
AS
BEGIN
    SET NOCOUNT ON;

    SELECT * FROM bx_EmoticonGroups WHERE GroupID = @GroupID AND UserID = @UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Emoticon_GetEmoticonsByGroupID</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Emoticon_GetEmoticonsByGroupID">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Emoticon_GetEmoticonsByGroupID
    @UserID int
    ,@GroupID int
AS
BEGIN
    SET NOCOUNT ON;

    SELECT * FROM bx_Emoticons WHERE GroupID = (SELECT GroupID FROM bx_EmoticonGroups WHERE GroupID = @GroupID AND UserID = @UserID);
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Emoticon_GetEmoticonsByUserID</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Emoticon_GetEmoticonsByUserID">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Emoticon_GetEmoticonsByUserID
    @UserID int
AS
BEGIN
    SET NOCOUNT ON;

    SELECT * FROM bx_Emoticons WHERE GroupID IN (SELECT GroupID FROM bx_EmoticonGroups WHERE UserID = @UserID);
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Emoticon_GetGroups</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Emoticon_GetGroups">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Emoticon_GetGroups
    @UserID             int
AS 
BEGIN 

    SET NOCOUNT ON;

    SELECT * FROM bx_EmoticonGroups WHERE UserID = @UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Emoticon_RenameGroup</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Emoticon_RenameGroup">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Emoticon_RenameGroup
 @GroupID            int
,@UserID             int
,@GroupName        nvarchar(50)
AS 
BEGIN 

    SET NOCOUNT ON;

    UPDATE bx_EmoticonGroups SET GroupName = @GroupName WHERE GroupID = @GroupID AND UserID = @UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_FinishTask</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_FinishTask">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_FinishTask
    @TaskID uniqueidentifier
AS
BEGIN

    SET NOCOUNT ON;

    DELETE [bx_StepByStepTasks] WHERE TaskID = @TaskID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetAlbumsByUserID</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetAlbumsByUserID">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetAlbumsByUserID
    @UserID         int
AS BEGIN
    SET NOCOUNT ON;

    SELECT * FROM [bx_Albums] WHERE [UserID] = @UserID;    
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetAllBannedUsers</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetAllBannedUsers">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetAllBannedUsers
AS
BEGIN
    SET NOCOUNT ON;
    SELECT * FROM bx_BannedUsers WHERE EndDate &gt; GETDATE() ORDER BY ForumID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetAllCates</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetAllCates">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetAllCates
AS
BEGIN
	SET NOCOUNT ON;
	SELECT * FROM bx_ThreadCates ORDER BY SortOrder;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetAllForums</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetAllForums">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetAllForums
AS
BEGIN
	SET NOCOUNT ON;
	SELECT * FROM bx_Forums WITH (NOLOCK) WHERE [ClubID]=0 ORDER BY [ParentID],[SortOrder] ASC;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetAllJobStatus</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetAllJobStatus">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetAllJobStatus
AS
BEGIN
	SET NOCOUNT ON;
    SELECT * FROM [bx_JobStatus];
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetAllMissions</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetAllMissions">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetAllMissions
AS
BEGIN
	SET NOCOUNT ON;
    SELECT * FROM [bx_Missions] ORDER BY [SortOrder] ASC,[ID] DESC;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetAllModels</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetAllModels">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetAllModels
AS
BEGIN
	SET NOCOUNT ON;
	SELECT * FROM bx_ThreadCateModels ORDER BY SortOrder;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetAllModerators</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetAllModerators">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetAllModerators
AS
BEGIN
	SET NOCOUNT ON
	SELECT * FROM [bx_Moderators] WHERE EndDate&gt;GETDATE() ORDER BY ForumID, SortOrder ASC;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetAllStickThreadForums</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetAllStickThreadForums">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetAllStickThreadForums
AS
BEGIN
	SET NOCOUNT ON;
	SELECT * FROM bx_StickThreads  WITH (NOLOCK);
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetAllThreadCatalogs</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetAllThreadCatalogs">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetAllThreadCatalogs
AS
BEGIN
	SET NOCOUNT ON
	SELECT * FROM bx_ThreadCatalogs WHERE ThreadCatalogID&lt;&gt;0
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetAllThreadCateModelField</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetAllThreadCateModelField">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetAllThreadCateModelField
AS
BEGIN
	SET NOCOUNT ON;
	SELECT * FROM bx_ThreadCateModelFields ORDER BY SortOrder;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetAttachmentByDiskFileID</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetAttachmentByDiskFileID">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetAttachmentByDiskFileID
     @DiskFileID  int
    ,@PostID      int
AS BEGIN
    SET NOCOUNT ON;
    SELECT * FROM [bx_Attachments] WITH (NOLOCK) WHERE [PostID] = @PostID AND [FileID] = (SELECT [FileID] FROM [bx_DiskFiles] WITH (NOLOCK) WHERE [DiskFileID] = @DiskFileID);
    SELECT * FROM [bx_Posts] WITH (NOLOCK) WHERE [PostID] = @PostID; 
    SELECT * FROM [bx_Threads] WITH (NOLOCK) WHERE ThreadID = (SELECT ThreadID FROM [bx_Posts] WITH (NOLOCK) WHERE [PostID] = @PostID);
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetAuthUser</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetAuthUser">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetAuthUser
	 @Username               nvarchar(50)
	,@UserID                 int
AS
BEGIN

	SET NOCOUNT ON;

	IF @UserID &lt;= 0
        SELECT @UserID = [UserID] FROM [bx_Users] WHERE [Username] = @Username;

    IF @UserID &lt;= 0
        RETURN;

	SELECT * FROM [bx_AuthUsers] WHERE UserID = @UserID;

	SELECT * FROM [bx_Friends] WITH (NOLOCK) WHERE UserID = @UserID ORDER BY [Hot] DESC,[CreateDate] ASC;

    SELECT * FROM [bx_UnreadNotifies] WHERE UserID = @UserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetAuthUserByEmail</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetAuthUserByEmail">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetAuthUserByEmail
     @Email                nvarchar(50)
AS
BEGIN

    SET NOCOUNT ON;

    DECLARE @RepeatCount int;

    SELECT @RepeatCount = COUNT(*) FROM (SELECT TOP 2 UserID FROM bx_Users WHERE Email =@Email) AS T;
    
    IF @RepeatCount &gt; 1
        RETURN (2);

    ELSE IF @RepeatCount &lt; 1
        RETURN (3);

    ELSE BEGIN


        DECLARE @UserID int;
        SET @UserID = -1;

        SELECT @UserID = [UserID] FROM [bx_Users] WHERE [Email] = @Email;

        IF @UserID &gt; 0 BEGIN

            SELECT * FROM [bx_AuthUsers] WHERE UserID = @UserID;
            SELECT * FROM [bx_Friends] WITH (NOLOCK) WHERE UserID = @UserID ORDER BY [Hot] DESC, [CreateDate] ASC;
            SELECT * FROM [bx_UnreadNotifies] WHERE UserID = @UserID;

        END
        ELSE
            RETURN (3);

    END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetCurrentAndParentDirectories</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetCurrentAndParentDirectories">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetCurrentAndParentDirectories
(
    @UserID int,
    @DirectoryID int
)
AS
BEGIN

    SET NOCOUNT ON;
 
	DECLARE @Run bit;

	IF @DirectoryID &lt; 1 BEGIN
		SELECT @DirectoryID = DirectoryID FROM [bx_DiskDirectories] WITH (NOLOCK) WHERE UserID = @UserID AND ParentID = 0 AND Name = N'\';
		IF(@DirectoryID &gt; 0)
			SELECT @Run = 1;
	    ELSE
			SELECT @Run = 0;
	END
	ELSE BEGIN
		IF EXISTS (SELECT * FROM [bx_DiskDirectories] WITH (NOLOCK) WHERE DirectoryID = @DirectoryID AND UserID = @UserID)
			SELECT @Run = 1;
		ELSE
			SELECT @Run = 0;
	END
	
	IF(@Run = 1) BEGIN
	    DECLARE @ParentID int;
	    SET @ParentID = 1;
	    DECLARE @CurrentDirectoryID int;
	    SET @CurrentDirectoryID = @DirectoryID;

	    WHILE(@ParentID &gt; 0) BEGIN

			SELECT @ParentID = ParentID FROM [bx_DiskDirectories] WHERE DirectoryID = @CurrentDirectoryID;
			
			SELECT *
			FROM
				bx_DiskDirectories WITH (NOLOCK)
			WHERE UserID = @UserID AND ParentID = @CurrentDirectoryID
			ORDER BY Name;

			IF(@ParentID &gt; 0) BEGIN
				SET @CurrentDirectoryID = @ParentID;
			END
			
	    END
	END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetDisabledTriggerForumIDs</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetDisabledTriggerForumIDs">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE [bx_GetDisabledTriggerForumIDs]
				@ForumIDs nvarchar(64) output
			AS
			BEGIN
				SET NOCOUNT ON;
				set @ForumIDs='';
			END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetDiskDirectoryByID</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetDiskDirectoryByID">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetDiskDirectoryByID 
(
 @DirectoryID int,
 @UserID int
)
AS
BEGIN

    SET NOCOUNT ON;

	IF(@DirectoryID &lt;= 0) BEGIN
	   SELECT * FROM [bx_DiskDirectories] WHERE ParentID = 0 AND UserID = @UserID;
	END 
	ELSE BEGIN
	   SELECT * FROM [bx_DiskDirectories] WHERE DirectoryID = @DirectoryID AND UserID = @UserID;
	END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetDiskFiles</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetDiskFiles">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetDiskFiles
@UserID int,
@DirectoryID int

AS
BEGIN

	SET NOCOUNT ON;

	DECLARE @Run bit;

	IF @DirectoryID &lt; 1 BEGIN
		SELECT @DirectoryID = DirectoryID FROM [bx_DiskDirectories] WITH (NOLOCK) WHERE UserID = @UserID AND ParentID = 0 AND Name = N'\';
		IF(@DirectoryID&gt;0)
			SELECT @Run = 1;
		ELSE
		    SELECT @Run=0;
	END
	ELSE BEGIN
		IF EXISTS (SELECT * FROM [bx_DiskDirectories] WITH (NOLOCK) WHERE DirectoryID = @DirectoryID AND UserID = @UserID)
			SELECT @Run = 1;
		ELSE
			SELECT @Run = 0;
	END

    IF @Run = 1 BEGIN
		SELECT *
		    FROM bx_DiskDirectories WITH (NOLOCK)
		    WHERE UserID = @UserID AND ParentID = @DirectoryID
		    ORDER BY Name;

		SELECT * FROM bx_DiskFiles WITH (NOLOCK) WHERE (DirectoryID = @DirectoryID) ORDER BY [FileName];


	END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetFeedFilters</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetFeedFilters">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetFeedFilters
    @UserID int
AS
BEGIN
	SET NOCOUNT ON;
    SELECT * FROM [bx_FeedFilters] WHERE [UserID]=@UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetFeedTemplates</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetFeedTemplates">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetFeedTemplates
AS
BEGIN
	SET NOCOUNT ON;
    SELECT * FROM [bx_FeedTemplates] ORDER BY [AppID],[ActionType];
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetFileByID</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetFileByID">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetFileByID
    @FileID    varchar(50)
AS BEGIN

    SET NOCOUNT ON;

    SELECT * FROM [bx_Files] WHERE [FileID] = @FileID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetFriendGroups</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetFriendGroups">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetFriendGroups
    @UserID int
AS BEGIN

	SET NOCOUNT ON;

    SELECT * FROM [bx_FriendGroups] WITH (NOLOCK) WHERE UserID = @UserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetFriendsAndBlacklist</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetFriendsAndBlacklist">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetFriendsAndBlacklist
    @UserID int
AS BEGIN

	SET NOCOUNT ON;

    SELECT * FROM [bx_Friends] WITH (NOLOCK) WHERE UserID = @UserID ORDER BY [Hot] DESC,[CreateDate] ASC;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetGlobalThreads</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetGlobalThreads">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetGlobalThreads
AS
BEGIN
    SET NOCOUNT ON;

	SELECT  *  FROM [bx_Threads] WITH (NOLOCK) WHERE [ThreadStatus] = 3 ORDER BY [SortOrder] DESC;
     
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetInviteRelation</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetInviteRelation">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetInviteRelation
    @UserID     int
AS BEGIN
    SET NOCOUNT ON;

    DECLARE @tempID int,@Serial uniqueidentifier;
    DECLARE @T table(Serial uniqueidentifier)
    WHILE @UserID&gt;0
    BEGIN
	    SET @tempID=0
	    SELECT TOP 1 @tempID=UserID,@Serial=Serial FROM bx_InviteSerials WHERE ToUserID=@UserID
	    SET @UserID=@tempID
	    IF(@UserID&gt;0)
		    INSERT INTO @T SELECT @Serial
    END
    SELECT * FROM bx_InviteSerials WHERE [Serial] IN(SELECT Serial FROM @T)
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetInviteSerialBySerial</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetInviteSerialBySerial">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetInviteSerialBySerial
    @Serial     uniqueidentifier
AS BEGIN
    SET NOCOUNT ON;

    SELECT * FROM [bx_InviteSerials] WHERE Serial = @Serial;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetInviteSerialByToEmail</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetInviteSerialByToEmail">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetInviteSerialByToEmail
    @ToEmail     nvarchar(200)
AS BEGIN
    SET NOCOUNT ON;

    SELECT TOP 1 * FROM [bx_InviteSerials] WHERE ToEmail = @ToEmail;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetInviteSerialByToUserID</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetInviteSerialByToUserID">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetInviteSerialByToUserID
    @ToUserID     int
AS BEGIN
    SET NOCOUNT ON;

    SELECT TOP 1 * FROM [bx_InviteSerials] WHERE ToUserID=@ToUserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetMyPointShowInfo</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetMyPointShowInfo">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetMyPointShowInfo
@UserID  int
AS 
BEGIN

SET NOCOUNT ON;

    DECLARE @Rank int
    SET @Rank=(SELECT COUNT(Price) FROM bx_PointShows WHERE Price&gt;( SELECT Price FROM bx_PointShows WHERE  UserID = @UserID));
    SELECT *,@Rank+1 AS RANK FROM bx_PointShows WHERE UserID =@UserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetNewUserMission</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetNewUserMission">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetNewUserMission
     @UserID int
AS BEGIN
	SET NOCOUNT ON;
    
    SELECT TOP 1 * FROM [bx_Missions] WHERE
    getdate() &gt; [BeginDate] AND getdate() &lt; [EndDate] AND [IsEnable] = 1 
    AND
    (
            ([ID] NOT IN (SELECT [MissionID] FROM [bx_UserMissions] WHERE [UserID] = @UserID)
        OR
            ([CycleTime] &gt; 0 AND [ID] IN(
                SELECT [MissionID] FROM [bx_UserMissions] WHERE [UserID] = @UserID AND [FinishPercent]=1 AND [Status]&lt;&gt;3 AND [CreateDate]&lt;DATEADD(second,0-[CycleTime],getdate())
                )
            ))
    ) 
    ORDER BY [SortOrder] ASC,[ID] DESC;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetNotify</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetNotify">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetNotify
    @UserID          int
   ,@NotifyID        int
   ,@SetRead         bit
AS BEGIN
    SET NOCOUNT ON;

    IF @SetRead = 1 BEGIN

        IF @UserID IS NULL
            UPDATE [bx_Notify] SET [IsRead] = 1 WHERE [NotifyID] = @NotifyID;
        ELSE
            UPDATE [bx_Notify] SET [IsRead] = 1 WHERE [UserID] = @UserID AND [NotifyID] = @NotifyID;

    END;

    IF @UserID IS NULL
        SELECT * FROM [bx_Notify] WHERE [NotifyID] = @NotifyID;
    ELSE
        SELECT * FROM [bx_Notify] WHERE [UserID] = @UserID AND [NotifyID] = @NotifyID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetNotUseUserIDs</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetNotUseUserIDs">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetNotUseUserIDs
     @BeginID     int
    ,@EndID       int
AS BEGIN
    SET NOCOUNT ON;

    SELECT (T1.UserID + 1) FROM bx_Users T1 WITH (NOLOCK)
     WHERE
	    (T1.UserID + 1) NOT IN 
            (SELECT T2.UserID FROM bx_Users T2 WITH (NOLOCK) WHERE T2.UserID &gt; @BeginID AND T2.UserID &lt; @EndID)
	    AND T1.UserID &gt; @BeginID AND T1.UserID &lt; @EndID
    ORDER BY T1.UserID;

    SELECT (T1.UserID - 1) FROM bx_Users T1 WITH (NOLOCK)
     WHERE 
	    (T1.UserID - 1) NOT IN 
            (SELECT T2.UserID FROM bx_Users T2 WITH (NOLOCK) WHERE T2.UserID &gt; @BeginID AND T2.UserID &lt; @EndID)
	    AND T1.UserID &gt; @BeginID AND T1.UserID &lt; @EndID
    ORDER BY T1.UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetPagePosts</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetPagePosts">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetPagePosts
     @ThreadID          int
    ,@PageIndex         int
    ,@PageSize          int
    ,@TotalCount        int
    ,@ThreadType        int
    ,@GetExtendedInfo   bit    
    ,@GetThread         bit 
    ,@CheckThreadType   bit
    ,@GetBestPost       bit 
    ,@GetThreadContent  bit
    ,@TopMarkCount      int
    ,@OnlyNormal        bit
AS
BEGIN
    SET NOCOUNT ON;

    DECLARE @S VARCHAR(8000);

    DECLARE @BestPostID int;--,@ProcessBestPost bit;
    DECLARE @RealThreadType tinyint;
    DECLARE @TempCount int,@ContentID int;
    
    DECLARE @D1 datetime;
    SELECT @D1 = GETDATE();    

    SELECT @RealThreadType = ThreadType,@TempCount = TotalReplies + 1,@ContentID = ContentID  FROM bx_Threads WITH (NOLOCK) WHERE ThreadID = @ThreadID; 
    
    IF @TempCount &lt; 1 BEGIN
        SELECT @TempCount = COUNT(*) FROM bx_Posts WITH(NOLOCK) WHERE ThreadID = @ThreadID;
        UPDATE bx_Threads SET TotalReplies = @TempCount - 1 WHERE ThreadID = @ThreadID;
    END

    SET @S = '1='+  CONVERT(varchar(100), getdate()-@D1, 14) ;

    SET @BestPostID = 0;

    IF @CheckThreadType = 1 BEGIN

        IF @RealThreadType &gt;= 10
            SET @RealThreadType = 0;
        SELECT @RealThreadType;
        IF @RealThreadType != @ThreadType 
            RETURN;

    END 


    DECLARE @SQLString nvarchar(4000),@SQLString2 nvarchar(4000);
    SET @SQLString = '';
    SET @SQLString2 = '';
    
    DECLARE @PostFieldsString nvarchar(4000);
    

        SET @PostFieldsString = '
            DECLARE @S2 VARCHAR(8000),@D2 DATETIME;
            DECLARE @PostIDTable table(ID int identity(1,1),
[PostID] [int] NOT NULL
,[MarkCount] [int] NULL
,[HistoryAttachmentIDs]   varchar(500) NULL
);
'

    IF @RealThreadType = 2 BEGIN --问题帖
            SELECT @BestPostID = BestPostID FROM bx_Questions WITH (NOLOCK) WHERE ThreadID = @ThreadID;
            IF NOT EXISTS(SELECT * FROM bx_Posts WITH (NOLOCK) WHERE PostID = @BestPostID AND SortOrder &lt; 4000000000000000) BEGIN -- 最佳答案被删除了
                SET @BestPostID = 0;
                UPDATE bx_Questions SET BestPostID = 0 WHERE ThreadID = @ThreadID; -- 顺便把BestPostID更新为0 免得每次都来查询
            END
        
            IF @BestPostID &lt;&gt; 0 AND @GetBestPost = 1 BEGIN
                IF @GetExtendedInfo = 0
                    SET @SQLString = 'SELECT * FROM bx_Posts WITH (NOLOCK) WHERE PostID = @BID;';-- + CAST(@BestPostID AS varchar(16)) + '';
                ELSE BEGIN
                    SET @PostFieldsString = @PostFieldsString + ' INSERT INTO @PostIDTable(
[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]
) SELECT 
[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]
 FROM bx_Posts WITH (NOLOCK) WHERE PostID = @BID; ';
                    
                END
            END
    END

    IF @GetThreadContent = 1  BEGIN ---  都取出来吧 AND (@RealThreadType = 2 OR @RealThreadType = 4) --问题帖 或者 辩论帖 才取出主题内容
        
        IF @GetExtendedInfo = 0
            SET @SQLString2 = ' SELECT * FROM bx_Posts WITH (NOLOCK) WHERE PostID = @CID;';-- + CAST(@ContentID as varchar(16));
        ELSE
            SET @PostFieldsString = @PostFieldsString + ' INSERT INTO @PostIDTable(
[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]
) SELECT 
[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]
 FROM bx_Posts WITH (NOLOCK) WHERE PostID = @CID';

    END

    IF @GetExtendedInfo = 0 BEGIN
        IF @SQLString &lt;&gt; '' OR @SQLString2 &lt;&gt;'' BEGIN
            SELECT 1;
            IF @SQLString &lt;&gt; ''  BEGIN
                SELECT @D1 = GETDATE();
                EXECUTE sp_executesql 
                  @SQLString,
                  N'@BID INT'
                 ,@BID = @BestPostID 
                SET @S =@S + '|2='+  CONVERT(varchar(100), getdate()-@D1, 14) ;
            END
            IF @SQLString2 &lt;&gt; ''  BEGIN
                SELECT @D1 = GETDATE();
                EXECUTE sp_executesql 
                  @SQLString2,
                  N'@CID INT'
                 ,@CID = @ContentID
                SET @S =@S + '|3='+  CONVERT(varchar(100), getdate()-@D1, 14) ;
            END
            IF @SQLString = '' OR @SQLString2 = ''
                SELECT 0 AS PostID;
        END
        ELSE
            SELECT 0;
    END 
    ELSE
        SELECT 0;
    
    IF @GetThread = 1 BEGIN
        IF @OnlyNormal = 1 BEGIN
            SELECT @D1 = GETDATE();
            SELECT  *  FROM bx_Threads WITH (NOLOCK) WHERE ThreadID = @ThreadID AND ThreadStatus &lt; 4;
            
    SET @S =@S + '|4='+  CONVERT(varchar(100), getdate()-@D1, 14) ;
        END
        ELSE BEGIN
            SELECT @D1 = GETDATE();
            SELECT  *  FROM bx_Threads WITH (NOLOCK) WHERE ThreadID = @ThreadID;
            
    SET @S =@S + '|5='+  CONVERT(varchar(100), getdate()-@D1, 14) ;
        END
    END    


    IF @TotalCount IS NULL OR @OnlyNormal = 0 BEGIN
        IF @OnlyNormal = 0 BEGIN
            SELECT @D1 = GETDATE();
            SELECT @TotalCount = Count(*) FROM bx_Posts WITH (NOLOCK) WHERE ThreadID = @ThreadID;
            
    SET @S =@S + '|6='+  CONVERT(varchar(100), getdate()-@D1, 14) ;
        END
        ELSE BEGIN
            SELECT @D1 = GETDATE();
            SELECT @TotalCount = @TempCount;
            
    SET @S =@S + '|7='+  CONVERT(varchar(100), getdate()-@D1, 14) ;
        END
    END
    
    IF @OnlyNormal = 0
        SELECT @TotalCount;

    IF @BestPostID &lt;&gt; 0 -- 减掉最佳答案 
        SET @TotalCount = @TotalCount - 1;

    IF (@PageIndex * @PageSize) &gt; @TotalCount BEGIN --如果大于最大页 就取最后页
        SET @PageIndex = @TotalCount / @PageSize - 1;
        IF  @TotalCount = 0 OR @TotalCount % @PageSize &gt; 0
            SET @PageIndex = @PageIndex + 1;
    END

	SET @SQLString='';

    DECLARE @Condition nvarchar(4000);
    
    IF @BestPostID &gt; 0 
        SET @Condition = '[PostID]&lt;&gt;@BID AND [ThreadID]=@TID ';
    ELSE
        SET @Condition = '[ThreadID]=@TID ';

    IF @OnlyNormal = 1
        SET @Condition = @Condition + ' AND [SortOrder]&lt;4000000000000000 ';

	DECLARE @ResetOrder bit;

    IF @GetExtendedInfo = 0 BEGIN
        
        SELECT @D1 = GETDATE();
	    EXECUTE bx_Common_GetRecordsByPageSQLString 
				    @PageIndex,
				    @PageSize,
				    N'bx_Posts',
				    N'*',
				    @Condition,
				    N'[SortOrder]',
				    0,
				    @TotalCount,
				    @ResetOrder OUTPUT,
				    @SQLString OUTPUT
        
    SET @S =@S + '|8='+  CONVERT(varchar(100), getdate()-@D1, 14) ;
        SELECT @D1 = GETDATE();

    IF @BestPostID &gt; 0 BEGIN
        EXECUTE sp_executesql 
          @SQLString,
          N'@TID INT,@BID INT',
          @TID = @ThreadID
         ,@BID = @BestPostID
    END
    ELSE BEGIN
        EXECUTE sp_executesql 
          @SQLString,
          N'@TID INT',
          @TID = @ThreadID
    END

    SET @S =@S + '|9='+  CONVERT(varchar(100), getdate()-@D1, 14) ;
        SELECT @ResetOrder;
    END
    ELSE BEGIN
        SELECT @D1 = GETDATE();
	    EXECUTE bx_Common_GetRecordsByPageSQLString 
				    @PageIndex,
				    @PageSize,
				    N'bx_Posts',
				    N'
[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]
',
				    @Condition,
				    N'[SortOrder]',
				    0,
				    @TotalCount,
				    @ResetOrder OUTPUT,
				    @SQLString OUTPUT

    SET @PostFieldsString = @PostFieldsString + ' 
    SELECT @D2 = GETDATE();
INSERT INTO @PostIDTable(
[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]
)'+@SQLString+'
    SET @S2 =@S2 + ''|A1=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
';

    SET @S =@S + '|10='+  CONVERT(varchar(100), getdate()-@D1, 14) ;
        SELECT @D1 = GETDATE();
    SET @PostFieldsString = @PostFieldsString + 
'
		    DECLARE @HistoryAttach table(PostID int,AttachID int);
		    DECLARE @Count int,@I int;
            SELECT @D2 = GETDATE();
		    SELECT @Count = COUNT(*) FROM @PostIDTable;
            
            DECLARE @PostMarkIDTable table(MarkID int);
    SET @S2 =@S2 + ''|A3=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
		    SET @I = 1;
    		
            SELECT @D2 = GETDATE();
		    WHILE(@I &lt; @Count+1) BEGIN
			    DECLARE @PID int,@HistoryAttachmentString varchar(500),@PostMarkCount int;
			    SELECT @PID = PostID,@HistoryAttachmentString = HistoryAttachmentIDs,@PostMarkCount = MarkCount FROM @PostIDTable WHERE ID = @I;
			    IF @HistoryAttachmentString IS NOT NULL AND @HistoryAttachmentString &lt;&gt; ''''
				    INSERT INTO @HistoryAttach(PostID,AttachID) SELECT @PID,item FROM bx_GetIntTable(@HistoryAttachmentString,'','');
			    SET @I = @I + 1;
                IF @PostMarkCount &gt; 0
                    INSERT INTO @PostMarkIDTable(MarkID) SELECT TOP ' + CAST(@TopMarkCount as varchar(16)) + ' m.PostMarkID FROM [bx_PostMarks] m WHERE m.PostID = @PID ORDER BY m.PostMarkID DESC;
		    END
    SET @S2 =@S2 + ''|A4=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();
		    SELECT p.* FROM @PostIDTable i INNER JOIN [bx_Posts] p WITH (NOLOCK) ON i.PostID = p.PostID ORDER BY p.SortOrder;
 
    SET @S2 =@S2 + ''|A5=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();

		    SELECT a.* FROM [bx_Attachments] a WITH (NOLOCK) INNER JOIN @PostIDTable i ON a.PostID = i.PostID ORDER BY a.AttachmentID;

            
    SET @S2 =@S2 + ''|A6=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();

		    SELECT h.PostID as HPostID, a.* FROM [bx_Attachments] a WITH (NOLOCK), @HistoryAttach h WHERE a.AttachmentID = h.AttachID;
    		
    SET @S2 =@S2 + ''|A7=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();
            SELECT * FROM [bx_PostMarks] WHERE PostMarkID in(SELECT MarkID FROM @PostMarkIDTable);

    SET @S2 =@S2 + ''|A8=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            
            SELECT @S2;
'


    IF @BestPostID &gt; 0 BEGIN
        EXECUTE sp_executesql 
          @PostFieldsString,
          N'@TID INT,@BID INT,@CID INT',
          @TID = @ThreadID
         ,@BID = @BestPostID
         ,@CID = @ContentID
    END
    ELSE BEGIN
        EXECUTE sp_executesql 
          @PostFieldsString,
          N'@TID INT,@CID INT',
          @TID = @ThreadID
         ,@CID = @ContentID
    END


    SET @S =@S + '|11='+  CONVERT(varchar(100), getdate()-@D1, 14) ;
        SET @ResetOrder = 0;
        SELECT @ResetOrder;
    END
    SELECT @S;
    
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetPhotosAndAlbum</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetPhotosAndAlbum">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetPhotosAndAlbum
    @PhotoID        int
AS BEGIN
    SET NOCOUNT ON;   
    DECLARE @AlbumID int;
    SELECT @AlbumID = AlbumID FROM [bx_Photos] WHERE [PhotoID] = @PhotoID;
    SELECT * FROM [bx_Photos] WHERE AlbumID=@AlbumID;
    SELECT * FROM [bx_Albums] WHERE AlbumID=@AlbumID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetPolemizePosts</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetPolemizePosts">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE [bx_GetPolemizePosts]
	@ThreadID int,
	@PageIndex int,
	@PageSize int,
	@PostType tinyint
AS
	SET NOCOUNT ON;
	
	DECLARE @TotalCount INT;
	DECLARE @Condition nvarchar(4000);
	
	SELECT @TotalCount=COUNT(*) FROM [bx_Posts] WHERE [ThreadID] = @ThreadID AND  PostType = @PostType AND [SortOrder]&lt;4000000000000000 ;
	
	
	SET @Condition = '[ThreadID]=' + CAST(@ThreadID as varchar(16))+' AND  PostType = '+CAST(@PostType AS VARCHAR(16))+' AND [SortOrder]&lt;4000000000000000 ';
	
	DECLARE @SQLString Nvarchar(4000);
		
	SET @SQLString='';
	
	DECLARE @ResetOrder bit
	EXECUTE bx_Common_GetRecordsByPageSQLString 
				@PageIndex,
				@PageSize,
				N'bx_Posts',
				N'*',
				@Condition,
				N'[SortOrder]',
				1,
				@TotalCount,
				@ResetOrder OUTPUT,
				@SQLString OUTPUT
	
	EXECUTE (@SQLString)
	
	SELECT @TotalCount,@ResetOrder;
	
	
	EXECUTE bx_Common_GetRecordsByPageSQLString 
			@PageIndex,
			@PageSize,
			N'bx_Posts',
			N'PostID,HistoryAttachmentIDs',
			@Condition,
			N'[SortOrder]',
			1,
			@TotalCount,
			@ResetOrder OUTPUT,
			@SQLString OUTPUT
	
	EXEC ('DECLARE @PostIDTable table(ID int identity(1,1), PostID int NOT NULL, HistoryAttachmentIDs varchar(500) NULL);

	INSERT INTO @PostIDTable (PostID,HistoryAttachmentIDs) ' + @SQLString + ';
	
	DECLARE @HistoryAttach table(PostID int,AttachID int);
	DECLARE @Count int,@I int;
	SELECT @Count = COUNT(*) FROM @PostIDTable;
	SET @I = 1;
	
	WHILE(@I &lt; @Count+1) BEGIN
		DECLARE @PID int,@HistoryAttachmentString varchar(500);
		SELECT @PID = PostID,@HistoryAttachmentString = HistoryAttachmentIDs FROM @PostIDTable WHERE ID = @I;
		IF @HistoryAttachmentString IS NOT NULL AND @HistoryAttachmentString &lt;&gt; ''''
			INSERT INTO @HistoryAttach(PostID,AttachID) SELECT @PID,item FROM bx_GetIntTable(@HistoryAttachmentString,'','');
		SET @I = @I + 1;
	END
	

	
	SELECT a.* FROM [bx_Attachments] a WITH (NOLOCK) INNER JOIN @PostIDTable i ON a.PostID = i.PostID ORDER BY a.AttachmentID;
	SELECT h.PostID as HPostID, a.* FROM [bx_Attachments] a, @HistoryAttach h WHERE a.AttachmentID = h.AttachID;
	
	SELECT m.* FROM [bx_PostMarks] m WITH (NOLOCK) INNER JOIN @PostIDTable i ON m.PostID = i.PostID ORDER BY m.PostMarkID DESC;')</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetPolemizeWithReplies</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetPolemizeWithReplies">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetPolemizeWithReplies
     @ThreadID          int
    ,@PageIndex         int
    ,@PageSize          int
    ,@TotalCount        int
    ,@GetExtendedInfo   bit    
    ,@GetThread         bit 
    ,@GetThreadContent  bit
    ,@CheckThreadType   bit
    ,@PostType          tinyint
    ,@TopMarkCount      int
AS
BEGIN
    SET NOCOUNT ON;

    DECLARE @RealThreadType tinyint;
    SELECT @RealThreadType = ThreadType FROM bx_Threads WITH (NOLOCK) WHERE ThreadID = @ThreadID; 

    IF @CheckThreadType = 1 BEGIN

        IF @RealThreadType &gt;= 10
            SET @RealThreadType = 0;
        SELECT @RealThreadType;
        IF @RealThreadType != 4 
            RETURN;

    END 

    DECLARE @GetPostCondition nvarchar(4000);
    SET @GetPostCondition = '';
    
    IF @GetThreadContent = 1
        SET @GetPostCondition = ' ThreadID = ' + CAST(@ThreadID as varchar(16));

    DECLARE @SQLString nvarchar(4000);
    DECLARE @PostFieldsString nvarchar(4000);

    IF @GetPostCondition &lt;&gt; '' BEGIN
        SELECT 1;
        IF @GetExtendedInfo = 0
            EXEC('SELECT TOP 1 * FROM bx_Posts WITH (NOLOCK) WHERE '+ @GetPostCondition + ' ORDER BY PostID');
        ELSE BEGIN
            SET @SQLString = 'SELECT TOP 1 
[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]
 FROM bx_Posts WITH (NOLOCK) WHERE ' + @GetPostCondition + ' ORDER BY PostID';
            

        SET @PostFieldsString = '

DECLARE @S2 VARCHAR(8000),@D2 DATETIME;

            DECLARE @PostIDTable table(ID int identity(1,1),
[PostID] [int] NOT NULL
,[MarkCount] [int] NULL
,[HistoryAttachmentIDs]   varchar(500) NULL
);
SELECT @D2 = GETDATE();
		    INSERT INTO @PostIDTable (

[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]

) ' + @SQLString + ';

    SET @S2 =''|A1=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
'+
'
		    DECLARE @HistoryAttach table(PostID int,AttachID int);
		    DECLARE @Count int,@I int;
            SELECT @D2 = GETDATE();
		    SELECT @Count = COUNT(*) FROM @PostIDTable;
            
            DECLARE @PostMarkIDTable table(MarkID int);
    SET @S2 =@S2 + ''|A3=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
		    SET @I = 1;
    		
            SELECT @D2 = GETDATE();
		    WHILE(@I &lt; @Count+1) BEGIN
			    DECLARE @PID int,@HistoryAttachmentString varchar(500),@PostMarkCount int;
			    SELECT @PID = PostID,@HistoryAttachmentString = HistoryAttachmentIDs,@PostMarkCount = MarkCount FROM @PostIDTable WHERE ID = @I;
			    IF @HistoryAttachmentString IS NOT NULL AND @HistoryAttachmentString &lt;&gt; ''''
				    INSERT INTO @HistoryAttach(PostID,AttachID) SELECT @PID,item FROM bx_GetIntTable(@HistoryAttachmentString,'','');
			    SET @I = @I + 1;
                IF @PostMarkCount &gt; 0
                    INSERT INTO @PostMarkIDTable(MarkID) SELECT TOP ' + CAST(@TopMarkCount as varchar(16)) + ' m.PostMarkID FROM [bx_PostMarks] m WHERE m.PostID = @PID ORDER BY m.PostMarkID DESC;
		    END
    SET @S2 =@S2 + ''|A4=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();
		    SELECT p.* FROM @PostIDTable i INNER JOIN [bx_Posts] p WITH (NOLOCK) ON i.PostID = p.PostID ORDER BY p.SortOrder;
 
    SET @S2 =@S2 + ''|A5=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();

		    SELECT a.* FROM [bx_Attachments] a WITH (NOLOCK) INNER JOIN @PostIDTable i ON a.PostID = i.PostID ORDER BY a.AttachmentID;

            
    SET @S2 =@S2 + ''|A6=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();

		    SELECT h.PostID as HPostID, a.* FROM [bx_Attachments] a WITH (NOLOCK), @HistoryAttach h WHERE a.AttachmentID = h.AttachID;
    		
    SET @S2 =@S2 + ''|A7=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();
            SELECT * FROM [bx_PostMarks] WHERE PostMarkID in(SELECT MarkID FROM @PostMarkIDTable);

    SET @S2 =@S2 + ''|A8=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            
            SELECT @S2;
'
; EXEC (@PostFieldsString); 
        END
    END
    ELSE
        SELECT 0;
    
    IF @GetThread = 1 BEGIN
        SELECT  *  FROM bx_Threads WITH (NOLOCK) WHERE ThreadID = @ThreadID AND ThreadStatus &lt; 4;
    END    


    IF @TotalCount IS NULL BEGIN
        IF @PostType IS NULL
            SELECT @TotalCount = TotalReplies + 1 FROM bx_Threads WITH (NOLOCK) WHERE ThreadID = @ThreadID;
        ELSE
            SELECT @TotalCount = Count(*) FROM bx_Posts WITH (NOLOCK) WHERE ThreadID = @ThreadID AND PostType = @PostType AND [SortOrder]&lt;4000000000000000;
    END

    SELECT @TotalCount;

    IF (@PageIndex * @PageSize) &gt; @TotalCount BEGIN --如果大于最大页 就取最后页
        SET @PageIndex = @TotalCount / @PageSize - 1;
        IF @TotalCount = 0 OR @TotalCount % @PageSize &gt; 0
            SET @PageIndex = @PageIndex + 1;
    END

	SET @SQLString='';

    DECLARE @Condition nvarchar(4000);
    
    IF @PostType IS NULL
        SET @Condition = '[ThreadID]=' + CAST(@ThreadID as varchar(16)) + ' AND [SortOrder]&lt;4000000000000000 ';
    ELSE
        SET @Condition = '[ThreadID]=' + CAST(@ThreadID as varchar(16)) + ' AND [SortOrder]&lt;4000000000000000 AND [PostType]=' + CAST(@PostType as varchar(16));

	DECLARE @ResetOrder bit;

    IF @GetExtendedInfo = 0 BEGIN
	    EXECUTE bx_Common_GetRecordsByPageSQLString 
				    @PageIndex,
				    @PageSize,
				    N'bx_Posts',
				    N'*',
				    @Condition,
				    N'[SortOrder]',
				    0,
				    @TotalCount,
				    @ResetOrder OUTPUT,
				    @SQLString OUTPUT

        EXECUTE ('' + @SQLString + '');
        
        SELECT @ResetOrder;
    END
    ELSE BEGIN
	    EXECUTE bx_Common_GetRecordsByPageSQLString 
				    @PageIndex,
				    @PageSize,
				    N'bx_Posts',
				    N'
[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]
',
				    @Condition,
				    N'[SortOrder]',
				    0,
				    @TotalCount,
				    @ResetOrder OUTPUT,
				    @SQLString OUTPUT

        

        SET @PostFieldsString = '

DECLARE @S2 VARCHAR(8000),@D2 DATETIME;

            DECLARE @PostIDTable table(ID int identity(1,1),
[PostID] [int] NOT NULL
,[MarkCount] [int] NULL
,[HistoryAttachmentIDs]   varchar(500) NULL
);
SELECT @D2 = GETDATE();
		    INSERT INTO @PostIDTable (

[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]

) ' + @SQLString + ';

    SET @S2 =''|A1=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
'+
'
		    DECLARE @HistoryAttach table(PostID int,AttachID int);
		    DECLARE @Count int,@I int;
            SELECT @D2 = GETDATE();
		    SELECT @Count = COUNT(*) FROM @PostIDTable;
            
            DECLARE @PostMarkIDTable table(MarkID int);
    SET @S2 =@S2 + ''|A3=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
		    SET @I = 1;
    		
            SELECT @D2 = GETDATE();
		    WHILE(@I &lt; @Count+1) BEGIN
			    DECLARE @PID int,@HistoryAttachmentString varchar(500),@PostMarkCount int;
			    SELECT @PID = PostID,@HistoryAttachmentString = HistoryAttachmentIDs,@PostMarkCount = MarkCount FROM @PostIDTable WHERE ID = @I;
			    IF @HistoryAttachmentString IS NOT NULL AND @HistoryAttachmentString &lt;&gt; ''''
				    INSERT INTO @HistoryAttach(PostID,AttachID) SELECT @PID,item FROM bx_GetIntTable(@HistoryAttachmentString,'','');
			    SET @I = @I + 1;
                IF @PostMarkCount &gt; 0
                    INSERT INTO @PostMarkIDTable(MarkID) SELECT TOP ' + CAST(@TopMarkCount as varchar(16)) + ' m.PostMarkID FROM [bx_PostMarks] m WHERE m.PostID = @PID ORDER BY m.PostMarkID DESC;
		    END
    SET @S2 =@S2 + ''|A4=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();
		    SELECT p.* FROM @PostIDTable i INNER JOIN [bx_Posts] p WITH (NOLOCK) ON i.PostID = p.PostID ORDER BY p.SortOrder;
 
    SET @S2 =@S2 + ''|A5=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();

		    SELECT a.* FROM [bx_Attachments] a WITH (NOLOCK) INNER JOIN @PostIDTable i ON a.PostID = i.PostID ORDER BY a.AttachmentID;

            
    SET @S2 =@S2 + ''|A6=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();

		    SELECT h.PostID as HPostID, a.* FROM [bx_Attachments] a WITH (NOLOCK), @HistoryAttach h WHERE a.AttachmentID = h.AttachID;
    		
    SET @S2 =@S2 + ''|A7=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();
            SELECT * FROM [bx_PostMarks] WHERE PostMarkID in(SELECT MarkID FROM @PostMarkIDTable);

    SET @S2 =@S2 + ''|A8=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            
            SELECT @S2;
'
; EXEC (@PostFieldsString); 
    END
     
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetPollItemDetails</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetPollItemDetails">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetPollItemDetails 
	@ThreadID           int
AS
	SET NOCOUNT ON

    SELECT * FROM [bx_PollItemDetails] WITH(NOLOCK) WHERE ItemID IN(SELECT ItemID FROM [bx_PollItems] WHERE ThreadID=@ThreadID);</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetPosts</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetPosts">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetPosts
	@ThreadID int
AS
	SET NOCOUNT ON
	SELECT * FROM [bx_Posts] WITH(NOLOCK) WHERE ThreadID=@ThreadID AND [SortOrder]&lt;4000000000000000 ORDER BY [SortOrder]
	RETURN</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetPostsByIdentities</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetPostsByIdentities">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE [bx_GetPostsByIdentities]
	@PostIdentities varchar(8000)
AS
BEGIN
	SET NOCOUNT ON;
	EXEC ('SELECT * FROM [bx_Posts] WITH (NOLOCK) WHERE PostID in (' + @PostIdentities +  ')');
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetRootDiskDirectory</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetRootDiskDirectory">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetRootDiskDirectory
(
 	@UserID int
)
AS
BEGIN

	SET NOCOUNT ON;

    SELECT * FROM bx_DiskDirectories WHERE UserID = @UserID AND ParentID = 0;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetRunningStepByStepTask</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetRunningStepByStepTask">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetRunningStepByStepTask
    @UserID int,
    @TaskID uniqueidentifier
AS
BEGIN

    SET NOCOUNT ON;

    SELECT * FROM bx_StepByStepTasks WHERE TaskID = @TaskID AND (UserID = @UserID OR InstanceMode IN (2, 4));

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetRunningStepByStepTasks</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetRunningStepByStepTasks">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetRunningStepByStepTasks
    @UserID int
AS
BEGIN

    SET NOCOUNT ON;

    SELECT * FROM bx_StepByStepTasks WHERE UserID = @UserID OR InstanceMode IN (2, 4);

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetRunningStepByStepTasksByType</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetRunningStepByStepTasksByType">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetRunningStepByStepTasksByType
    @UserID int,
    @TaskType varchar(200),
    @Param nvarchar(3500)
AS
BEGIN

    SET NOCOUNT ON;


    IF @Param IS NULL
        SELECT * FROM bx_StepByStepTasks WHERE (UserID = @UserID OR InstanceMode IN (2, 4))
        AND Type = @TaskType;
    ELSE
        SELECT * FROM bx_StepByStepTasks WHERE (UserID = @UserID OR InstanceMode IN (2, 4))
        AND Type = @TaskType AND Param = @Param;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetSerial</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetSerial">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetSerial
@Serial uniqueidentifier
,@Type tinyint
AS
BEGIN
    SET NOCOUNT ON;
    SELECT * FROM bx_Serials Where Serial = @Serial AND ExpiresDate &gt;= GETDATE();
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetShare</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetShare">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetShare
     @ShareID   int
AS
BEGIN
	SET NOCOUNT ON;
    SELECT * FROM [bx_SharesView] WHERE [ShareID] = @ShareID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetSimpleUser</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetSimpleUser">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetSimpleUser
    @UserID int
AS
BEGIN
    SET NOCOUNT ON;
    SELECT * FROM bx_SimpleUser WITH(NOLOCK) WHERE UserID = @UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetSortOrder</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetSortOrder">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE [bx_GetSortOrder]
	@PostType tinyint,--1正常,2置顶,3总置顶,5待审核,4回收站
	@PostRandNumber bigint,
	@PostDate datetime,
	@IsThread bit,
	@SortOrder bigint output
AS
BEGIN
	SET NOCOUNT ON;
	IF @PostRandNumber &gt; 0
		SELECT @SortOrder = (CAST(DATEDIFF(second, '1970-01-01 00:00:00', @PostDate) AS bigint) * 100000) + (DATEPART(millisecond, @PostDate) * 100) + @PostRandNumber % 100
	ELSE
		SELECT @SortOrder = (CAST(DATEDIFF(second, '1970-01-01 00:00:00', @PostDate) AS bigint) * 100000) + (DATEPART(millisecond, @PostDate) * 100)
	
	IF @IsThread = 1
		SET @SortOrder = @SortOrder;
	ELSE
		SET @SortOrder = @SortOrder+@PostType*1000000000000000;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetTag</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetTag">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetTag
    @ID          int
AS BEGIN
    SET NOCOUNT ON;
    SELECT * FROM [bx_Tags] WHERE [ID] = @ID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetTagsByTargetID</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetTagsByTargetID">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetTagsByTargetID
    @Type      tinyint,
    @TargetID  int
AS BEGIN
    SET NOCOUNT ON;
    SELECT * FROM
        [bx_Tags]
    WHERE
        [ID] IN (SELECT [TagID] FROM [bx_TagRelation] WHERE [Type] = @Type AND [TargetID] = @TargetID)
    AND 
        [IsLock] = 0;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetThreadByID</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetThreadByID">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetThreadByID
    @ThreadID int
AS
BEGIN
    SET NOCOUNT ON;

	SELECT  *  FROM [bx_Threads] WITH (NOLOCK) WHERE ThreadID = @ThreadID;
     
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetThreadCatalogsInForums</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetThreadCatalogsInForums">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetThreadCatalogsInForums
AS
BEGIN
	SET NOCOUNT ON
	SELECT * FROM [bx_ThreadCatalogsInForums] ORDER BY SortOrder ASC
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetThreadCount</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetThreadCount">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetThreadCount
    @ForumID        int
   ,@IncludeStick   bit
   ,@BeginDate      DateTime
   ,@EndDate        DateTime
AS
BEGIN
    SET NOCOUNT ON;
    
    DECLARE @ThreadStatus tinyint;
    IF @IncludeStick = 1
        SET @ThreadStatus = 4;
    ELSE
        SET @ThreadStatus = 2;

    IF @BeginDate IS NULL AND @EndDate IS NULL
        SELECT COUNT(*) FROM [bx_Threads] WITH (NOLOCK) WHERE [ForumID] = @ForumID AND [ThreadStatus] &lt; @ThreadStatus;
    ELSE IF @BeginDate IS NULL
        SELECT COUNT(*) FROM [bx_Threads] WITH (NOLOCK) WHERE [ForumID] = @ForumID AND [ThreadStatus] &lt; @ThreadStatus AND [CreateDate] &lt;= @EndDate;
    ELSE
        SELECT COUNT(*) FROM [bx_Threads] WITH (NOLOCK) WHERE [ForumID] = @ForumID AND [ThreadStatus] &lt; @ThreadStatus AND [CreateDate] &gt;= @BeginDate; 
     
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetThreadsByPostCreateDate</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetThreadsByPostCreateDate">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetThreadsByPostCreateDate
    @CreateDate     datetime
AS
BEGIN

    SET NOCOUNT ON;
	
	
	SELECT T1.* 
	 FROM bx_Threads T1 WITH (NOLOCK) WHERE ThreadStatus = 1 AND [UpdateDate]&gt;@CreateDate ORDER BY [UpdateDate] DESC

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetThreadUserPosts</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetThreadUserPosts">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetThreadUserPosts
     @ThreadID          int
    ,@UserID            int
    ,@PageIndex         int
    ,@PageSize          int
    ,@ThreadType        int
    ,@GetExtendedInfo   bit    
    ,@GetThread         bit 
    ,@CheckThreadType   bit
    ,@TopMarkCount      int
AS
BEGIN
    SET NOCOUNT ON;

    DECLARE @RealThreadType tinyint;
    SELECT @RealThreadType = ThreadType FROM bx_Threads WITH (NOLOCK) WHERE ThreadID = @ThreadID; 

    IF @CheckThreadType = 1 BEGIN

        IF @RealThreadType &gt;= 10
            SET @RealThreadType = 0;
        SELECT @RealThreadType;
        IF @RealThreadType != @ThreadType 
            RETURN;

    END 

    
    IF @GetThread = 1 BEGIN
        SELECT  *  FROM bx_Threads WITH (NOLOCK) WHERE ThreadID = @ThreadID AND ThreadStatus &lt; 4;
    END    


    DECLARE @TotalCount int;
    SELECT @TotalCount = Count(*) FROM bx_Posts WITH (NOLOCK) WHERE ThreadID = @ThreadID AND UserID = @UserID;

    SELECT @TotalCount;

    IF (@PageIndex * @PageSize) &gt; @TotalCount BEGIN --如果大于最大页 就取最后页
        SET @PageIndex = @TotalCount / @PageSize - 1;
        IF @TotalCount = 0 or @TotalCount % @PageSize &gt; 0
            SET @PageIndex = @PageIndex + 1;
    END

    DECLARE @Condition nvarchar(4000);

    SET @Condition = '[UserID] = ' + CAST(@UserID as varchar(16)) + ' AND [ThreadID]=' + CAST(@ThreadID as varchar(16)) + ' AND [SortOrder]&lt;4000000000000000 ';

	DECLARE @ResetOrder bit,@SQLString nvarchar(4000);

    IF @GetExtendedInfo = 0 BEGIN
	    EXECUTE bx_Common_GetRecordsByPageSQLString 
				    @PageIndex,
				    @PageSize,
				    N'bx_Posts',
				    N'*',
				    @Condition,
				    N'[SortOrder]',
				    0,
				    @TotalCount,
				    @ResetOrder OUTPUT,
				    @SQLString OUTPUT

        EXECUTE ('' + @SQLString + '');
        
        SELECT @ResetOrder;
    END
    ELSE BEGIN
        DECLARE @PostFieldsString nvarchar(4000);
	    EXECUTE bx_Common_GetRecordsByPageSQLString 
				    @PageIndex,
				    @PageSize,
				    N'bx_Posts',
				    N'
[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]
',
				    @Condition,
				    N'[SortOrder]',
				    0,
				    @TotalCount,
				    @ResetOrder OUTPUT,
				    @SQLString OUTPUT

        

        SET @PostFieldsString = '

DECLARE @S2 VARCHAR(8000),@D2 DATETIME;

            DECLARE @PostIDTable table(ID int identity(1,1),
[PostID] [int] NOT NULL
,[MarkCount] [int] NULL
,[HistoryAttachmentIDs]   varchar(500) NULL
);
SELECT @D2 = GETDATE();
		    INSERT INTO @PostIDTable (

[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]

) ' + @SQLString + ';

    SET @S2 =''|A1=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
'+
'
		    DECLARE @HistoryAttach table(PostID int,AttachID int);
		    DECLARE @Count int,@I int;
            SELECT @D2 = GETDATE();
		    SELECT @Count = COUNT(*) FROM @PostIDTable;
            
            DECLARE @PostMarkIDTable table(MarkID int);
    SET @S2 =@S2 + ''|A3=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
		    SET @I = 1;
    		
            SELECT @D2 = GETDATE();
		    WHILE(@I &lt; @Count+1) BEGIN
			    DECLARE @PID int,@HistoryAttachmentString varchar(500),@PostMarkCount int;
			    SELECT @PID = PostID,@HistoryAttachmentString = HistoryAttachmentIDs,@PostMarkCount = MarkCount FROM @PostIDTable WHERE ID = @I;
			    IF @HistoryAttachmentString IS NOT NULL AND @HistoryAttachmentString &lt;&gt; ''''
				    INSERT INTO @HistoryAttach(PostID,AttachID) SELECT @PID,item FROM bx_GetIntTable(@HistoryAttachmentString,'','');
			    SET @I = @I + 1;
                IF @PostMarkCount &gt; 0
                    INSERT INTO @PostMarkIDTable(MarkID) SELECT TOP ' + CAST(@TopMarkCount as varchar(16)) + ' m.PostMarkID FROM [bx_PostMarks] m WHERE m.PostID = @PID ORDER BY m.PostMarkID DESC;
		    END
    SET @S2 =@S2 + ''|A4=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();
		    SELECT p.* FROM @PostIDTable i INNER JOIN [bx_Posts] p WITH (NOLOCK) ON i.PostID = p.PostID ORDER BY p.SortOrder;
 
    SET @S2 =@S2 + ''|A5=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();

		    SELECT a.* FROM [bx_Attachments] a WITH (NOLOCK) INNER JOIN @PostIDTable i ON a.PostID = i.PostID ORDER BY a.AttachmentID;

            
    SET @S2 =@S2 + ''|A6=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();

		    SELECT h.PostID as HPostID, a.* FROM [bx_Attachments] a WITH (NOLOCK), @HistoryAttach h WHERE a.AttachmentID = h.AttachID;
    		
    SET @S2 =@S2 + ''|A7=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();
            SELECT * FROM [bx_PostMarks] WHERE PostMarkID in(SELECT MarkID FROM @PostMarkIDTable);

    SET @S2 =@S2 + ''|A8=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            
            SELECT @S2;
'
; EXEC (@PostFieldsString); 
    END
     
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetTop300DeletingFiles</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetTop300DeletingFiles">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetTop300DeletingFiles
AS BEGIN

    SET NOCOUNT ON;

    SELECT TOP 300 * FROM [bx_DeletingFiles] ORDER BY DeletingFileID DESC;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetUnapprovedPosts</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetUnapprovedPosts">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE [bx_GetUnapprovedPosts]
	@ForumID int
AS
	SET NOCOUNT ON 
	
	IF(@ForumID&gt;0)
	begin
		SELECT * FROM [bx_Threads] WITH(NOLOCK) WHERE ForumID=@ForumID AND ThreadID IN(SELECT DISTINCT(ThreadID) FROM [bx_Posts] WHERE ForumID=@ForumID AND SortOrder &gt;= 5000000000000000)
		SELECT * FROM [bx_Posts] WITH(NOLOCK) WHERE ThreadID IN (SELECT ThreadID FROM [bx_Threads]  WITH(NOLOCK) WHERE ForumID=@ForumID) AND ForumID=@ForumID AND SortOrder &gt;= 5000000000000000 ORDER BY ThreadID,SortOrder DESC
	end
	ELSE
	begin
		SELECT * FROM [bx_Threads] WITH(NOLOCK) WHERE ThreadID IN(SELECT DISTINCT(ThreadID) FROM [bx_Posts] WHERE SortOrder &gt;= 5000000000000000)
		SELECT * FROM [bx_Posts] WITH(NOLOCK) WHERE SortOrder &gt;= 5000000000000000 ORDER BY ThreadID,SortOrder DESC
	end</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetUnapprovedPostThreads</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetUnapprovedPostThreads">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetUnapprovedPostThreads
	@ForumID int,--大于0时按版块获取
	@UserID int,--大于0时按用户获取
	@PageIndex int,
	@PageSize int
AS
BEGIN
	SET NOCOUNT ON;

    DECLARE @Condition varchar(8000),@User nvarchar(100)
	
	IF @UserID&gt;0
		SET @User=' P.UserID='+str(@UserID)+' AND '
	ELSE
		SET @User=''

	IF @ForumID=0
		SET @Condition='ThreadID in (SELECT DISTINCT P.ThreadID FROM [bx_Posts] P WITH (NOLOCK) INNER JOIN [bx_Threads] T WITH (NOLOCK) ON P.ThreadID=T.ThreadID WHERE '+@User+' P.SortOrder &gt;= 5000000000000000 AND T.ThreadStatus&lt;4)'
	ELSE
		SET @Condition='ThreadID in (SELECT DISTINCT P.ThreadID FROM [bx_Posts] P WITH (NOLOCK) INNER JOIN [bx_Threads] T WITH (NOLOCK) ON P.ThreadID=T.ThreadID WHERE '+@User+' T.ForumID='+str(@ForumID)+' AND P.SortOrder &gt;= 5000000000000000 AND T.ThreadStatus&lt;4)'

	DECLARE @TotalCount INT,@SQLString NVARCHAR(4000)
	
	IF @ForumID=0
		SET @SQLString='SELECT @TotalCount=COUNT(DISTINCT P.ThreadID) FROM [bx_Posts] P WITH (NOLOCK) INNER JOIN [bx_Threads] T WITH (NOLOCK) ON P.ThreadID=T.ThreadID WHERE '+@User+' P.SortOrder &gt;= 5000000000000000 AND T.ThreadStatus&lt;4'
	ELSE
		SET @SQLString='SELECT @TotalCount=COUNT(DISTINCT P.ThreadID) FROM [bx_Posts] P WITH (NOLOCK) INNER JOIN [bx_Threads] T WITH (NOLOCK) ON P.ThreadID=T.ThreadID WHERE '+@User+' P.SortOrder &gt;= 5000000000000000 AND T.ForumID='+str(@ForumID)+' AND T.ThreadStatus&lt;4'
	EXECUTE sp_executesql @SQLString,N'@TotalCount int output',@TotalCount output


	DECLARE @ResetOrder bit----------- 1表示读取数据的时候 排序要反过来
	EXECUTE bx_Common_GetRecordsByPageSQLString
						@PageIndex,
						@PageSize,
						N'bx_Threads',
						N'ThreadID',
						@Condition,
						N'[SortOrder]',
						1,
						@TotalCount,
						@ResetOrder OUTPUT,
						@SQLString OUTPUT
	
	EXEC ('DECLARE @ThreadIDTable table(ThreadID int NOT NULL);

		INSERT INTO @ThreadIDTable ' + @SQLString + ';

		SELECT T.*
		,(SELECT COUNT(1) FROM bx_Posts WITH (NOLOCK) WHERE ThreadID=T.ThreadID  AND SortOrder &gt;= 5000000000000000) as UnApprovedPostsCount FROM bx_Threads T WITH (NOLOCK)  WHERE T.ThreadID in (SELECT ThreadID FROM @ThreadIDTable) ORDER BY SortOrder DESC')
		
	
	
	SELECT @TotalCount; 
     
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetUser</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetUser">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetUser
	 @Username               nvarchar(50)
	,@UserID                 int
    ,@GetFriends             bit
AS
BEGIN

	SET NOCOUNT ON;

	IF @UserID &lt;= 0
        SELECT @UserID = [UserID] FROM [bx_Users] WITH(NOLOCK) WHERE [Username] = @Username;

    IF @UserID &lt;= 0
        RETURN;

	SELECT * FROM [bx_Users] WITH(NOLOCK) WHERE UserID = @UserID;

    IF @GetFriends = 1
	    SELECT * FROM [bx_Friends] WITH (NOLOCK) WHERE UserID = @UserID ORDER BY [Hot] DESC,[CreateDate] ASC;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetUserAllPhotos</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetUserAllPhotos">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetUserAllPhotos
    @UserID        int
AS BEGIN
    SET NOCOUNT ON;    

    SELECT * FROM [bx_Photos] WHERE [UserID] = @UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetUserIDByNotifyID</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetUserIDByNotifyID">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetUserIDByNotifyID
    @NotifyID        int
AS BEGIN
    SET NOCOUNT ON;

    SELECT [UserID] FROM [bx_Notify] WHERE [NotifyID] = @NotifyID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetUserIDsBySearch</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetUserIDsBySearch">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetUserIDsBySearch
	@Keyword   nvarchar(100)
AS BEGIN

	SET NOCOUNT ON;

	SELECT [UserID] FROM [bx_Users] WITH (NOLOCK) WHERE [Username] like'%'+@Keyword+'%';

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetUserMission</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetUserMission">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetUserMission
     @UserID       int
    ,@MissionID    int
AS
BEGIN
	SET NOCOUNT ON;
    SELECT * FROM [bx_UserMissions] WHERE [UserID] = @UserID AND [MissionID] = @MissionID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetUserMissionCount</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetUserMissionCount">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetUserMissionCount
     @UserID   int
    ,@Status   tinyint
AS BEGIN
	SET NOCOUNT ON;
    
    SELECT COUNT(*) FROM bx_UserMissions UM INNER JOIN bx_Missions M ON UM.MissionID = M.ID  WHERE  M.IsEnable = 1 AND UserID = @UserID AND Status = @Status;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetUserNoAddFeedApps</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetUserNoAddFeedApps">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetUserNoAddFeedApps
    @UserID int
AS
BEGIN
	SET NOCOUNT ON;
    SELECT * FROM [bx_UserNoAddFeedApps] WHERE [UserID]=@UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetUserNotifySetting</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetUserNotifySetting">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetUserNotifySetting
@UserID      int
AS
BEGIN
    SET NOCOUNT ON
    SELECT NotifySetting FROM bx_UserInfos WITH (NOLOCK) WHERE UserID = @UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetUserPassword</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetUserPassword">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetUserPassword
	@UserID                 int
AS
BEGIN

	SET NOCOUNT ON;

	SELECT UserID, Password, PasswordFormat FROM [bx_UserVars] WHERE UserID = @UserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetUserPosts</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetUserPosts">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetUserPosts
     @UserID               int
    ,@BeginDate            datetime
    ,@EndDate              datetime
AS
BEGIN
    SET NOCOUNT ON;
    SELECT * FROM [bx_Posts] WITH (NOLOCK) WHERE [UserID] = @UserID AND [CreateDate] &gt;= @BeginDate AND [CreateDate] &lt;= @EndDate;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetUserTempUploadFile</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetUserTempUploadFile">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetUserTempUploadFile
    @UserID        int,
    @TempUploadFileID int
AS BEGIN

    SET NOCOUNT ON;

    SELECT * FROM bx_TempUploadFiles WHERE TempUploadFileID = @TempUploadFileID AND UserID = @UserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetUserTempUploadFiles</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetUserTempUploadFiles">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetUserTempUploadFiles
    @UserID        int,
    @UploadAction  varchar(100),
    @SearchInfo   nvarchar(100),
    @TimeLife   int
AS BEGIN

    SET NOCOUNT ON;

    IF @SearchInfo IS NULL
        SELECT * FROM bx_TempUploadFiles WHERE UserID = @UserID AND UploadAction = @UploadAction AND CreateDate &gt; DATEADD(hh, 0 - @TimeLife, GETDATE());
    ELSE
        SELECT * FROM bx_TempUploadFiles WHERE UserID = @UserID AND UploadAction = @UploadAction AND SearchInfo = @SearchInfo AND CreateDate &gt; DATEADD(hh, 0 - @TimeLife, GETDATE());

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetValidateCodeActionRecords</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetValidateCodeActionRecords">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetValidateCodeActionRecords
    @IP varchar(50)
AS
BEGIN
	SET NOCOUNT ON;
    SELECT * FROM [bx_ValidateCodeActionRecords] WHERE [IP]=@IP ORDER BY [ID];
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetVars</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_GetVars">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_GetVars
AS
BEGIN
    SET NOCOUNT ON;
    SELECT TOP 1 * FROM [bx_Vars];
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_IgnoreNotifies</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_IgnoreNotifies">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_IgnoreNotifies
@UserID    int
,@NotifyIDs  varchar(8000)
AS 
BEGIN
SET NOCOUNT ON;

DECLARE @NotifyIDTable table(NotifyID int);
INSERT @NotifyIDTable SELECT item FROM bx_GetIntTable(@NotifyIDs,',');


DELETE FROM bx_Notify WHERE UserID = @UserID AND NotifyID IN( SELECT NotifyID FROM  @NotifyIDTable) AND TypeID IN( SELECT TypeID FROM bx_NotifyTypes WHERE [Keep] &lt;&gt; 1 );

UPDATE bx_Notify SET IsRead = 1 WHERE UserID = @UserID AND NotifyID IN( SELECT NotifyID FROM  @NotifyIDTable) AND TypeID IN( SELECT TypeID FROM bx_NotifyTypes WHERE [Keep] = 1 );

SELECT * FROM bx_UnreadNotifies WHERE UserID = @UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_IgnoreNotifyByType</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_IgnoreNotifyByType">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_IgnoreNotifyByType
@UserID    int
,@TypeID   int
AS 
BEGIN
SET NOCOUNT ON;

IF @TypeID &lt;&gt;0 BEGIN
DECLARE @Keep bit

SET @Keep = ( SELECT [Keep] FROM bx_NotifyTypes WHERE TypeID = @TypeID );

    IF @Keep &lt;&gt; 1 BEGIN
        DELETE FROM bx_Notify WHERE UserID = @UserID AND TypeID = @TypeID;
        RETURN;
    END
    ELSE BEGIN
        UPDATE bx_Notify SET IsRead = 1 WHERE UserID = @UserID AND TypeID = @TypeID;
        RETURN;
    END
END

UPDATE bx_Notify SET IsRead = 1 WHERE UserID = @UserID AND TypeID IN( SELECT TypeID FROM bx_NotifyTypes WHERE [Keep] = 1);
DELETE FROM bx_Notify WHERE UserID = @UserID AND TypeID IN( SELECT TypeID FROM bx_NotifyTypes WHERE [Keep] &lt;&gt; 1);

SELECT * FROM bx_UnreadNotifies WHERE UserID = @UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Impression_Create</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Impression_Create">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Impression_Create
    @UserID        int,
    @TargetUserID  int,
    @Text          nvarchar(100),
    @TimeLimit     int
AS
BEGIN
    SET NOCOUNT ON;

    DECLARE @Now AS datetime;
    DECLARE @Ago AS datetime;

    SET @Now = GETDATE();
    SET @Ago = DATEADD(hh,-@TimeLimit,GETDATE());

    IF NOT EXISTS(SELECT * FROM bx_ImpressionRecords WHERE UserID = @UserID AND TargetUserID = @TargetUserID AND CreateDate &gt;= @Ago AND CreateDate &lt;= @Now)
    BEGIN
        DECLARE @TypeID AS int;

        SELECT @TypeID = TypeID FROM bx_ImpressionTypes WHERE Text = @Text;

        IF @TypeID IS NULL
        BEGIN
            INSERT INTO bx_ImpressionTypes (Text) VALUES (@Text);

            SELECT @TypeID = @@IDENTITY;
        END

        INSERT INTO bx_ImpressionRecords (UserID, TargetUserID, TypeID) VALUES (@UserID, @TargetUserID, @TypeID);

        IF NOT EXISTS(SELECT * FROM bx_Impressions WHERE UserID = @TargetUserID AND TypeID = @TypeID)
        BEGIN
            INSERT INTO bx_Impressions (UserID, TypeID) VALUES (@TargetUserID, @TypeID);
        END

        SELECT 1;
    END
    ELSE
    BEGIN
        SELECT 0;
    END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Impression_DeleteByType</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Impression_DeleteByType">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Impression_DeleteByType
    @UserID  int,
    @TypeID  int
AS
BEGIN
    SET NOCOUNT ON;

    DELETE FROM bx_Impressions WHERE UserID = @UserID AND TypeID = @TypeID;

    DELETE FROM bx_ImpressionRecords WHERE TargetUserID = @UserID AND TypeID = @TypeID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Impression_GetLastRecord</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Impression_GetLastRecord">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Impression_GetLastRecord
    @UserID        int,
    @TargetUserID  int
AS
BEGIN
    SET NOCOUNT ON;
    SELECT TOP 1 *, B.Text, B.KeywordVersion FROM bx_ImpressionRecords A LEFT JOIN bx_ImpressionTypes B ON B.TypeID = A.TypeID WHERE UserID = @UserID AND TargetUserID = @TargetUserID ORDER BY RecordID DESC;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Impression_UpdateImpressionRecordKeywords</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Impression_UpdateImpressionRecordKeywords">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Impression_UpdateImpressionRecordKeywords
    @TypeID                int,
    @KeywordVersion        varchar(32),
    @Text                  nvarchar(100),
    @TextReverter          nvarchar(1000)
AS BEGIN


    SET NOCOUNT ON;

    IF @Text IS NOT NULL BEGIN

        IF @KeywordVersion IS NOT NULL
            UPDATE bx_ImpressionTypes SET Text = @Text, KeywordVersion = @KeywordVersion WHERE TypeID = @TypeID;
        ELSE
            UPDATE bx_ImpressionTypes SET Text = @Text WHERE TypeID = @TypeID;

    END

    IF @TextReverter IS NOT NULL BEGIN

        UPDATE bx_ImpressionTypeReverters SET TextReverter = @TextReverter WHERE TypeID = @TypeID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_ImpressionTypeReverters (TypeID, TextReverter) VALUES (@TypeID, @TextReverter);

    END


END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_IPIsExistInMinutes</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_IPIsExistInMinutes">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_IPIsExistInMinutes
     @IP        nvarchar(50)
    ,@TimeSpan  int
AS BEGIN
    SET NOCOUNT ON;

    IF EXISTS (SELECT [UserID] FROM [bx_Users] WITH (NOLOCK) WHERE CreateIP = @IP AND abs(datediff(mi,CreateDate,getdate())) &lt; @TimeSpan AND [UserID]&lt;&gt;0)
	    SELECT 1;
    ELSE
	    SELECT 0;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_IPLogs_Create</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_IPLogs_Create">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_IPLogs_Create
	@UserID		    int,
	@Username		nvarchar(50),
	@NewIP		    varchar(50),
	@CreateDate		datetime,
    @OldIP          varchar(50),
    @VisitUrl       varchar(200)
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO [bx_IPLogs] (
		UserID,
        Username,
        NewIP,
		CreateDate,
        OldIP,
        VisitUrl
	) VALUES (
		@UserID,
        @Username,
        @NewIP,
		@CreateDate,
        @OldIP,
        @VisitUrl
	);
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_IsAvailibleClick</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_IsAvailibleClick">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_IsAvailibleClick 
     @Ip                          varchar(50)
    ,@UserIdentify                varchar(200)
    ,@AllowUserLastClickDateTime  datetime
    ,@AllowIpLastClickDateTime    datetime
    ,@AllowIpTotalClicks            int
    ,@SourceType                  int
    ,@TargetID                      int
AS
BEGIN

 SET NOCOUNT ON;

DECLARE @Var1 int;

SET @Var1 = (SELECT COUNT(*) FROM bx_ClickLogs WHERE Ip = @Ip AND ClickDate &gt;= @AllowIpLastClickDateTime AND SourceType = @SourceType AND TargetID = @TargetID);

IF @Var1&gt;@AllowIpTotalClicks BEGIN
SELECT 0;
RETURN;
END

IF EXISTS (SELECT * FROM bx_ClickLogs WHERE UserIdentify = @UserIdentify  AND TargetID = @TargetID AND ClickDate &gt; @AllowUserLastClickDateTime AND SourceType = @SourceType) BEGIN
    SELECT 0;
    RETURN;
END

INSERT INTO bx_ClickLogs(Ip,UserIdentify,SourceType, TargetID) VALUES(@Ip, @UserIdentify, @SourceType, @TargetID);
SELECT 1;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_IsBuyThread</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_IsBuyThread">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_IsBuyThread 
	@ThreadID       int,
	@UserID         int
AS
BEGIN
	SET NOCOUNT ON
    IF EXISTS(SELECT * FROM bx_ThreadExchanges WITH (NOLOCK) WHERE ThreadID = @ThreadID AND UserID = @UserID)
        SELECT 1;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_IsPointShowUser</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_IsPointShowUser">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_IsPointShowUser

@UserID int 
AS
BEGIN
SET NOCOUNT ON;

SELECT COUNT(UserID) FROM bx_PointShows WHERE UserID = @UserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_LoadAllNotifyType</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_LoadAllNotifyType">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_LoadAllNotifyType 
AS
BEGIN
SET NOCOUNT ON;
SELECT * FROM bx_NotifyTypes;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_LoadAllSettings</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_LoadAllSettings">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_LoadAllSettings
AS
BEGIN

    SET NOCOUNT ON;

    SELECT * FROM [bx_Settings] ORDER BY [TypeName];

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_LockTag</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_LockTag">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_LockTag
     @ID       int
AS BEGIN
    SET NOCOUNT ON;
    UPDATE [bx_Tags] SET [IsLock] = 1 WHERE [ID] = @ID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Mission_CreateCategory</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Mission_CreateCategory">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Mission_CreateCategory
    @Name nvarchar(20)
AS
BEGIN
    SET NOCOUNT ON;

    IF NOT EXISTS(SELECT * FROM bx_MissionCategories WHERE [Name] = @Name) BEGIN
        INSERT INTO bx_MissionCategories ([Name]) VALUES (@Name);
	END
	ELSE BEGIN
		SELECT -1;
	END

    SELECT @@IDENTITY;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Mission_GetCategories</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Mission_GetCategories">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Mission_GetCategories 
AS
BEGIN
    SET NOCOUNT ON

    SELECT * FROM bx_MissionCategories;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Mission_GetCategory</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Mission_GetCategory">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Mission_GetCategory
    @CategoryID int
AS
BEGIN
    SET NOCOUNT ON;

    SELECT * FROM bx_MissionCategories WHERE [ID] = @CategoryID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Mission_UpdateCategory</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Mission_UpdateCategory">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Mission_UpdateCategory
    @CategoryID      int
   ,@Name            nvarchar(50)
AS BEGIN
    SET NOCOUNT ON;

    UPDATE 
        [bx_MissionCategories]
    SET 
        [Name] = @Name
    WHERE
        [ID] = @CategoryID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_MoveDirectoriesAndFiles</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_MoveDirectoriesAndFiles">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_MoveDirectoriesAndFiles
(
 	@UserID int,--user ID
	@DirectoryID int,--the parentID of @DiskFileIDs and @DiskDirectoryIDs 
	@NewDirectoryID int,--move to the directory ID
	@DiskFileIDs text=NULL,--the file ids will be moved
	@DiskDirectoryIDs text = NULL--the directoryIDs will be moved
)
AS
BEGIN
	SET NOCOUNT ON;
    
    IF(@DirectoryID&lt;1) BEGIN
       SELECT @DirectoryID=DirectoryID FROM [bx_DiskDirectories] WHERE UserID=@UserID AND ParentID=0;
    END
    
    IF(@NewDirectoryID&lt;1) BEGIN
       SELECT @NewDirectoryID=DirectoryID FROM [bx_DiskDirectories] WHERE UserID=@UserID AND ParentID=0;
    END
    
    IF(EXISTS(SELECT * FROM [bx_DiskDirectories] WITH(NOLOCK) WHERE DirectoryID=@DirectoryID AND UserID=@UserID)) 
    BEGIN
        
        DECLARE @MoveFileDirectoryNames table([FileDirectoryName] nvarchar(256) COLLATE Chinese_PRC_CI_AS_WS);
        
        IF(datalength(@DiskDirectoryIDs)&lt;&gt; 0) BEGIN
            INSERT INTO @MoveFileDirectoryNames([FileDirectoryName])
            SELECT [Name] AS FileDirectoryName FROM [bx_DiskDirectories] WITH(NOLOCK) WHERE DirectoryID IN (SELECT item FROM bx_GetIntTable(@DiskDirectoryIDs,',')) AND ParentID=@DirectoryID AND UserID=@UserID;          
        END
        
        IF(datalength(@DiskFileIDs)&lt;&gt;0) BEGIN
            INSERT INTO @MoveFileDirectoryNames([FileDirectoryName])
            SELECT [FileName] AS FileDirectoryName FROM [bx_DiskFiles] WITH(NOLOCK) WHERE DiskFileID IN(SELECT item FROM bx_GetIntTable(@DiskFileIDs,',')) AND DirectoryID=@DirectoryID;
        END      
        
        IF(NOT EXISTS(SELECT * FROM [bx_DiskDirectories] WHERE ParentID=@NewDirectoryID AND UserID=@UserID AND [Name] IN (SELECT FileDirectoryName FROM @MoveFileDirectoryNames))
           AND
           NOT EXISTS(SELECT * FROM [bx_DiskFiles] WHERE DirectoryID=@NewDirectoryID AND [FileName] IN (SELECT FileDirectoryName FROM @MoveFileDirectoryNames)))
        BEGIN
            IF(datalength(@DiskFileIDs)&lt;&gt;0) BEGIN
			  UPDATE [bx_DiskFiles]
			  SET DirectoryID=@NewDirectoryID
			  WHERE DiskFileID IN (SELECT item FROM bx_GetIntTable(@DiskFileIDs,','))
	        END
	        
	        IF(datalength(@DiskDirectoryIDs)&lt;&gt; 0) BEGIN    
			  UPDATE [bx_DiskDirectories]
			  SET ParentID=@NewDirectoryID
			  WHERE DirectoryID IN (SELECT item FROM bx_GetIntTable(@DiskDirectoryIDs,','))
            END
            
            RETURN(0);            
        END 
        ELSE BEGIN 
            RETURN(-1);
        END
    END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_MoveEmoticons</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_MoveEmoticons">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE [bx_MoveEmoticons]
	@GroupID int,
	@NewGroupID int,
	@UserID int,
	@EmoticonIdentities varchar(8000)
AS
	SET NOCOUNT ON
	IF (EXISTS (SELECT * FROM [bx_EmoticonGroups] WITH (NOLOCK) WHERE GroupID=@GroupID and UserID=@UserID) AND 
	    EXISTS (SELECT * FROM [bx_EmoticonGroups] WITH (NOLOCK) WHERE GroupID=@NewGroupID and UserID=@UserID))
	BEGIN
		DECLARE @MaxSortOrder int
		SELECT @MaxSortOrder=MAX(SortOrder)+1 FROM [bx_Emoticons] WITH (NOLOCK) WHERE GroupID=@NewGroupID
		IF(@MaxSortOrder IS NULL)
			SET @MaxSortOrder=0
		EXEC('Update [bx_Emoticons] SET GroupID = ' + @NewGroupID + ',SortOrder=SortOrder+'+@MaxSortOrder+' WHERE EmoticonID IN ('+ @EmoticonIdentities +') and GroupID = '+@GroupID);
		RETURN (0)
	END
	ELSE
	RETURN (-1)</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_MoveForum</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_MoveForum">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_MoveForum
    @forumID int,
    @parentID int
AS
SET NOCOUNT ON;
IF (EXISTS(SELECT * FROM [bx_Forums] WITH(NOLOCK) WHERE ForumID=@parentID ) or @parentID=0)
	BEGIN
		DECLARE @MaxSortOrder int
		SELECT @MaxSortOrder=MAX(SortOrder) FROM bx_Forums WITH(NOLOCK) WHERE ParentID=@parentID
		IF @MaxSortOrder IS NULL
			SET @MaxSortOrder=0
		UPDATE bx_Forums 
		SET ParentID=@parentID, SortOrder=@MaxSortOrder+1
		WHERE ForumID = @forumID
		RETURN (0)
	END
ELSE
	RETURN (1)</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_MoveForumThreads</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_MoveForumThreads">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_MoveForumThreads
	@OldForumID int,
	@NewForumID int,
	@MoveCount int
AS
BEGIN
	SET NOCOUNT ON 
	EXEC (N'Update bx_Threads SET ForumID='+@NewForumID+' WHERE ThreadID IN (SELECT TOP ' + @MoveCount + N' ThreadID FROM bx_Threads WITH (NOLOCK) WHERE ForumID = ' + @OldForumID + N')');
	RETURN @@ROWCOUNT;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_MoveFriend</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_MoveFriend">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_MoveFriend
    @UserID int,
    @FriendUserID int,
    @FriendGroupID int
AS BEGIN

	SET NOCOUNT ON;

    UPDATE [bx_Friends] SET GroupID = @FriendGroupID WHERE UserID = @UserID AND FriendUserID = @FriendUserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_MoveThreads</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_MoveThreads">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_MoveThreads 
	@OldForumID                 int,
	@NewForumID                 int,
	@ThreadIdentities           varchar(8000),
	@IsKeepLink                 bit
AS
BEGIN
	SET NOCOUNT ON;
	IF EXISTS (SELECT * FROM [bx_Forums] WITH (NOLOCK) WHERE ForumID=@NewForumID AND ParentID&lt;&gt;0)
		BEGIN
			DECLARE @ThreadID int,@SortOrder bigint,@i int
			BEGIN TRANSACTION

			SET @ThreadIdentities=@ThreadIdentities+N','
			SELECT @i=CHARINDEX(',',@ThreadIdentities)
			
			DECLARE @tempTable1 TABLE(TempThreadID INT,TempSortOrder BIGINT)
			DECLARE @tempTable2 TABLE(TempThreadID INT,TempSortOrder BIGINT,TempThreadCatalogID INT,TempThreadType TINYINT,TempThreadStatus TINYINT,TempIconID INT,TempSubject NVARCHAR(256),TempPostUserID INT,TempPostNickName NVARCHAR(64),TempLastPostUserID INT,TempLastPostNickName NVARCHAR(64),TempCreateDate datetime,TempUpdateDate datetime,TempLastPostID int)
			DECLARE @tempTable3 TABLE(TempCatalogID INT,TempTotalThreads INT)

			SELECT @SortOrder=ISNULL(MAX(SortOrder),0) FROM bx_Threads WITH (NOLOCK)

			DECLARE @ThreadCount INT
			SET @ThreadCount=0;
			WHILE(@i&gt;1) BEGIN
				SELECT @ThreadID=SUBSTRING(@ThreadIdentities,0, @i)
				IF(@IsKeepLink=1) BEGIN
                    DECLARE @LSortOrder bigint;
                    DECLARE @LPostID int;
                    SELECT @LSortOrder = ISNULL(MAX(SortOrder),0)+1 FROM bx_Posts WITH (NOLOCK) WHERE SortOrder&lt;2000000000000000;
                    INSERT INTO bx_Posts(ForumID,ThreadID,Subject,Content,NickName,SortOrder) VALUES(@OldForumID,@ThreadID,'','','',@LSortOrder);
                    IF @@error&lt;&gt;0 BEGIN
				        ROLLBACK TRANSACTION
				        RETURN (-1)
			        END

                    SELECT @LPostID = @@IDENTITY;
                    DELETE bx_Posts WHERE PostID = @LPostID;                    
                    IF @@error&lt;&gt;0 BEGIN
				        ROLLBACK TRANSACTION
				        RETURN (-1)
			        END

					INSERT INTO @tempTable2 SELECT @ThreadID,SortOrder,ThreadCatalogID,ThreadType,6,IconID,(CAST(ThreadID as nvarchar(16))+N','+Subject),PostUserID,PostNickName,LastPostUserID,LastPostNickName,CreateDate,UpdateDate,@LPostID FROM  bx_Threads WITH (NOLOCK) WHERE ForumID = @OldForumID AND ThreadID=@ThreadID
					DECLARE @CatalogID int
					SELECT @CatalogID=TempThreadCatalogID FROM @tempTable2 WHERE  TempThreadID=@ThreadID
					IF EXISTS(SELECT * FROM @tempTable3 WHERE TempCatalogID=@CatalogID) 
						UPDATE @tempTable3 SET TempTotalThreads=TempTotalThreads+1 WHERE TempCatalogID=@CatalogID
					ELSE
						INSERT INTO @tempTable3 VALUES(@CatalogID,1)
				END
				SET @SortOrder=@SortOrder+1;
				INSERT INTO @tempTable1 VALUES(@ThreadID,@SortOrder)

				SELECT @ThreadIdentities=SUBSTRING(@ThreadIdentities,@i+1,LEN(@ThreadIdentities)-@i)
				SELECT @i=CHARINDEX(',',@ThreadIdentities)
				
				SET @ThreadCount=@ThreadCount+1;
			END

			UPDATE bx_Threads SET ForumID=@NewForumID,SortOrder=TempSortOrder FROM @tempTable1 WHERE ThreadID = TempThreadID
			IF @@error&lt;&gt;0 BEGIN
				ROLLBACK TRANSACTION
				RETURN (-1)
			END
			IF(@IsKeepLink=1) BEGIN
				INSERT INTO bx_Threads(ForumID,ThreadCatalogID,ThreadType,IconID,Subject,PostUserID,PostNickName,LastPostUserID,LastPostNickName,CreateDate,UpdateDate,SortOrder,LastPostID) select @OldForumID,TempThreadCatalogID,12,TempIconID,TempSubject,TempPostUserID,TempPostNickName,TempLastPostUserID,TempLastPostNickName,TempCreateDate,TempUpdateDate,TempSortOrder,TempLastPostID FROM @tempTable2
				IF @@error&lt;&gt;0 BEGIN
					ROLLBACK TRANSACTION
					RETURN (-1)
				END
				UPDATE bx_Forums SET TotalThreads=TotalThreads+@ThreadCount WHERE  ForumID=@OldForumID
				UPDATE bx_ThreadCatalogsInForums SET TotalThreads=TotalThreads+T3.TempTotalThreads FROM  @tempTable3 T3 WHERE ForumID=@OldForumID AND ThreadCatalogID=T3.TempCatalogID
			END
			COMMIT TRANSACTION
			RETURN 0
		END
	ELSE
		RETURN (-1)

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_OperationLog_Create</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_OperationLog_Create">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_OperationLog_Create
	@OperatorID		int,
	@TargetID_1		int,
	@TargetID_2		int,
	@TargetID_3		int,
	@OperatorIP		varchar(50),
	@OperationType	varchar(100),
	@Message		nvarchar(1000),
	@CreateTime		datetime
AS
BEGIN
	SET NOCOUNT ON;

	INSERT INTO [bx_OperationLogs] (
		OperatorID, 
		TargetID_1, 
		TargetID_2, 
		TargetID_3, 
		OperatorIP,
		OperationType, 
		Message, 
		CreateTime
	) VALUES (
		@OperatorID, 
		@TargetID_1, 
		@TargetID_2, 
		@TargetID_3, 
		@OperatorIP, 
		@OperationType, 
		@Message, 
		@CreateTime
	);
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Post_UpdatePostKeywords</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Post_UpdatePostKeywords">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Post_UpdatePostKeywords
    @PostID            int,
    @KeywordVersion    varchar(32),
    @Subject           nvarchar(256),
    @SubjectReverter   nvarchar(4000),
    @Content           ntext,
    @ContentReverter   ntext
AS BEGIN

    SET NOCOUNT ON;

    IF @Subject IS NOT NULL OR @Content IS NOT NULL BEGIN

        IF @KeywordVersion IS NOT NULL BEGIN

            IF @Subject IS NOT NULL AND @Content IS NOT NULL
                UPDATE bx_Posts SET Subject = @Subject, Content = @Content, KeywordVersion = @KeywordVersion WHERE PostID = @PostID;
            ELSE IF @Subject IS NOT NULL
                UPDATE bx_Posts SET Subject = @Subject, KeywordVersion = @KeywordVersion WHERE PostID = @PostID;
            ELSE
                UPDATE bx_Posts SET Content = @Content, KeywordVersion = @KeywordVersion WHERE PostID = @PostID;

        END
        ELSE BEGIN

           IF @Subject IS NOT NULL AND @Content IS NOT NULL
                UPDATE bx_Posts SET Subject = @Subject, Content = @Content WHERE PostID = @PostID;
            ELSE IF @Subject IS NOT NULL
                UPDATE bx_Posts SET Subject = @Subject WHERE PostID = @PostID;
            ELSE
                UPDATE bx_Posts SET Content = @Content WHERE PostID = @PostID;

        END

    END

    IF (@SubjectReverter IS NOT NULL AND @ContentReverter IS NOT NULL) BEGIN

        UPDATE bx_PostReverters SET SubjectReverter = @SubjectReverter, ContentReverter = @ContentReverter WHERE PostID = @PostID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_PostReverters (PostID, SubjectReverter, ContentReverter) VALUES (@PostID, @SubjectReverter, @ContentReverter);

    END
    ELSE IF (@SubjectReverter IS NOT NULL) BEGIN

        UPDATE bx_PostReverters SET SubjectReverter = @SubjectReverter WHERE PostID = @PostID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_PostReverters (PostID, SubjectReverter, ContentReverter) VALUES (@PostID, @SubjectReverter, N'');

    END
    ELSE IF (@ContentReverter IS NOT NULL) BEGIN

        UPDATE bx_PostReverters SET ContentReverter = @ContentReverter WHERE PostID = @PostID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_PostReverters (PostID, SubjectReverter, ContentReverter) VALUES (@PostID, N'', @ContentReverter);

    END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Prop_AddPropLog</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Prop_AddPropLog">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Prop_AddPropLog
  @UserID int
 ,@Type   tinyint
 ,@Log    ntext
AS
BEGIN
    SET NOCOUNT ON;
  INSERT INTO bx_PropLogs (UserID, Type, Log) VALUES (@UserID, @Type, @Log);
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Prop_BuyProp</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Prop_BuyProp">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Prop_BuyProp
  @UserID int
 ,@PropID int
 ,@BuyCount int
 ,@MaxPackageSize int
AS
BEGIN
    SET NOCOUNT ON;

    IF EXISTS(SELECT * FROM bx_Props WHERE PropID = @PropID AND TotalNumber &gt;= @BuyCount) BEGIN

        DECLARE @PackageSize int;

        SELECT @PackageSize = SUM(B.PackageSize * (A.[Count] + A.[SellingCount])) FROM bx_UserProps A LEFT JOIN bx_Props B ON B.PropID = A.PropID WHERE UserID = @UserID;

        SELECT @PackageSize = ISNULL(@PackageSize, 0) + PackageSize * @BuyCount FROM bx_Props WHERE PropID = @PropID;

        IF @PackageSize &lt;= @MaxPackageSize BEGIN
            IF EXISTS(SELECT * FROM bx_UserProps WHERE UserID = @UserID AND PropID = @PropID) BEGIN
                UPDATE bx_UserProps SET [Count] = [Count] + @BuyCount WHERE UserID = @UserID AND PropID = @PropID;
            END
            ELSE BEGIN
                INSERT INTO bx_UserProps ([UserID],[PropID],[Count]) VALUES (@UserID, @PropID, @BuyCount);
            END
        END
        ELSE BEGIN
            RETURN 3;
        END

        UPDATE bx_Props SET SaledNumber = SaledNumber + @BuyCount, TotalNumber = TotalNumber - @BuyCount WHERE PropID = @PropID;

        UPDATE bx_Props SET TotalNumber = 0 WHERE TotalNumber &lt; 0;

        INSERT INTO [bx_UserGetPropLogs](UserID,[bx_Users].Username,GetPropType,PropID,PropName,PropCount) 
        SELECT @UserID,Username,1,@PropID,[Name],@BuyCount
        FROM [bx_Users] LEFT JOIN [bx_Props] ON [bx_Props].PropID=@PropID
        WHERE [bx_Users].UserID=@UserID;

        RETURN 1;
    END

    RETURN 2;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Prop_BuyUserProp</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Prop_BuyUserProp">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Prop_BuyUserProp
    @SalerUserID int
    ,@BuyerUserID int
    ,@PropID int
    ,@Count int
    ,@MaxPackageSize int
AS
BEGIN
    SET NOCOUNT ON;

    IF EXISTS (SELECT * FROM bx_UserProps WHERE @Count &gt; 0 AND UserID = @SalerUserID AND PropID = @PropID AND SellingCount &gt;= @Count) BEGIN

        DECLARE @PackageSize int;

        SELECT @PackageSize = SUM(B.PackageSize * (A.[Count] + A.[SellingCount])) FROM bx_UserProps A LEFT JOIN bx_Props B ON B.PropID = A.PropID WHERE UserID = @BuyerUserID;

        SELECT @PackageSize = ISNULL(@PackageSize, 0) + PackageSize * @Count FROM bx_Props WHERE PropID = @PropID;

        IF @PackageSize &lt;= @MaxPackageSize BEGIN
            IF EXISTS (SELECT * FROM bx_UserProps WHERE UserID = @BuyerUserID AND PropID = @PropID)BEGIN
                UPDATE bx_UserProps SET [Count] = [Count] + @Count WHERE UserID = @BuyerUserID AND PropID = @PropID;
            END
            ELSE BEGIN
                INSERT INTO bx_UserProps ([UserID], [PropID], [Count]) VALUES (@BuyerUserID, @PropID, @Count);
            END
        END
        ELSE BEGIN
            RETURN 3;
        END

        UPDATE bx_UserProps SET [SellingCount] = [SellingCount] - @Count WHERE UserID = @SalerUserID AND PropID = @PropID;

        DELETE FROM bx_UserProps WHERE UserID = @SalerUserID AND PropID = @PropID AND [SellingCount] = 0 AND [Count] = 0;

        RETURN 1;
    END

    RETURN 2;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Prop_CreateProp</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Prop_CreateProp">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Prop_CreateProp
 @Icon nvarchar(255)
 ,@Name nvarchar(100)
 ,@Price int
 ,@PriceType int
 ,@PropType nvarchar(512)
 ,@PropParam ntext
 ,@Description nvarchar(255)
 ,@PackageSize int
 ,@TotalNumber int
 ,@AllowExchange bit
 ,@AutoReplenish bit
 ,@ReplenishNumber int
 ,@ReplenishTimeSpan int
 ,@BuyCondition ntext
 ,@ReplenishLimit int
 ,@SortOrder int
AS
BEGIN
  SET NOCOUNT ON;
  INSERT INTO bx_Props (
    [Icon]
   ,[Name]
   ,[Price]
   ,[PriceType]
   ,[PropType]
   ,[PropParam]
   ,[Description]
   ,[PackageSize]
   ,[TotalNumber]
   ,[AllowExchange]
   ,[AutoReplenish]
   ,[ReplenishNumber]
   ,[ReplenishTimeSpan]
   ,[BuyCondition]
   ,[ReplenishLimit]
   ,[SortOrder]
  ) VALUES (
    @Icon
   ,@Name
   ,@Price
   ,@PriceType
   ,@PropType
   ,@PropParam
   ,@Description
   ,@PackageSize
   ,@TotalNumber
   ,@AllowExchange
   ,@AutoReplenish
   ,@ReplenishNumber
   ,@ReplenishTimeSpan
   ,@BuyCondition
   ,@ReplenishLimit
   ,@SortOrder
  );

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Prop_DropProp</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Prop_DropProp">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Prop_DropProp
    @UserID int
    ,@PropID int
    ,@Count int
AS
BEGIN
    SET NOCOUNT ON;

    IF EXISTS (SELECT * FROM bx_UserProps WHERE @Count &gt; 0 AND UserID = @UserID AND PropID = @PropID AND [Count] &gt;= @Count) BEGIN

        UPDATE bx_UserProps SET [Count] = [Count] - @Count WHERE UserID = @UserID AND PropID = @PropID;

        DELETE FROM bx_UserProps WHERE UserID = @UserID AND PropID = @PropID AND [SellingCount] = 0 AND [Count] = 0;

        RETURN 1;
    END

    RETURN 2;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Prop_GetPropByID</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Prop_GetPropByID">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Prop_GetPropByID
  @PropID int
AS
BEGIN
    SET NOCOUNT ON;

    SELECT * FROM bx_Props WHERE PropID = @PropID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Prop_GetUserPropByType</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Prop_GetUserPropByType">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Prop_GetUserPropByType
    @PropType nvarchar(512)
AS
BEGIN
    SET NOCOUNT ON;

    SELECT TOP 1 * FROM bx_UserProps A RIGHT JOIN bx_Props B ON B.PropID = A.PropID WHERE PropType = @PropType;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Prop_GetUserProps</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Prop_GetUserProps">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Prop_GetUserProps
    @UserID int
AS
BEGIN
    SET NOCOUNT ON;

    SELECT * FROM bx_Props A
    LEFT JOIN bx_UserProps B ON A.PropID = B.PropID WHERE B.UserID = @UserID ORDER BY UserPropID DESC;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Prop_GetUserPropStatus</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Prop_GetUserPropStatus">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Prop_GetUserPropStatus
    @UserID int
AS
BEGIN
    SET NOCOUNT ON;
    SELECT SUM([Count]) AS [Count], SUM([SellingCount]) AS [SellingCount], SUM(B.PackageSize * (A.[Count] + A.[SellingCount])) AS UsedPackageSize FROM bx_UserProps A LEFT JOIN bx_Props B ON B.PropID = A.PropID WHERE UserID = @UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Prop_GetUserSellingProp</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Prop_GetUserSellingProp">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Prop_GetUserSellingProp
    @UserID int
    ,@PropID int
AS
BEGIN
    SET NOCOUNT ON;
    
    SELECT * FROM bx_UserPropsView WHERE UserID = @UserID AND PropID = @PropID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Prop_GiftProp</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Prop_GiftProp">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Prop_GiftProp
    @UserID int
    ,@TargetUserID int
    ,@PropID int
    ,@Count int
    ,@MaxPackageSize int
AS
BEGIN
    SET NOCOUNT ON;

    IF EXISTS (SELECT * FROM bx_UserProps WHERE @Count &gt; 0 AND UserID = @UserID AND PropID = @PropID AND [Count] &gt;= @Count) BEGIN

        DECLARE @PackageSize int;

        SELECT @PackageSize = SUM(B.PackageSize * (A.[Count] + A.SellingCount)) FROM bx_UserProps A LEFT JOIN bx_Props B ON B.PropID = A.PropID WHERE UserID = @TargetUserID;

        SELECT @PackageSize = ISNULL(@PackageSize, 0) + PackageSize * @Count FROM bx_Props WHERE PropID = @PropID;

        IF @PackageSize &lt;= @MaxPackageSize BEGIN
            IF EXISTS(SELECT * FROM bx_UserProps WHERE UserID = @TargetUserID AND PropID = @PropID) BEGIN
                UPDATE bx_UserProps SET [Count] = [Count] + @Count WHERE UserID = @TargetUserID AND PropID = @PropID;
            END
            ELSE BEGIN
                INSERT INTO bx_UserProps ([UserID], [PropID], [Count]) VALUES (@TargetUserID, @PropID, @Count);
            END
        END
        ELSE BEGIN
            RETURN 3;
        END

        UPDATE bx_UserProps SET [Count] = [Count] - @Count WHERE UserID = @UserID AND PropID = @PropID;

        DELETE FROM bx_UserProps WHERE UserID = @UserID AND PropID = @PropID AND [SellingCount] = 0 AND [Count] = 0;

        INSERT INTO [bx_UserGetPropLogs](UserID,[bx_Users].Username,GetPropType,PropID,PropName,PropCount) 
        SELECT @UserID,Username,2,@PropID,[Name],@Count
        FROM [bx_Users] LEFT JOIN [bx_Props] ON [bx_Props].PropID=@PropID
        WHERE [bx_Users].UserID=@TargetUserID;

        RETURN 1;
    END

    RETURN 2;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Prop_Replenish</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Prop_Replenish">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Prop_Replenish
AS
BEGIN
    SET NOCOUNT ON;
    UPDATE bx_Props 
    SET 
        TotalNumber = TotalNumber + ReplenishNumber * DATEDIFF(hh, LastReplenishTime, GETDATE()), 
        LastReplenishTime = GETDATE() 
    WHERE 
        AutoReplenish = 1 AND TotalNumber &lt;= ReplenishLimit AND LastReplenishTime &lt;= DATEADD(hh, 0 - ReplenishTimeSpan, GETDATE());
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Prop_SaleUserProp</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Prop_SaleUserProp">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Prop_SaleUserProp
    @UserID int
    ,@PropID int
    ,@Count int
    ,@Price int
AS
BEGIN
    SET NOCOUNT ON;

    IF EXISTS(SELECT * FROM bx_UserProps WHERE UserID = @UserID AND PropID = @PropID AND [Count] + [SellingCount] &gt;= @Count) BEGIN
        UPDATE bx_UserProps
        SET
            [SellingDate] = GETDATE()
        WHERE
            UserID = @UserID AND PropID = @PropID AND SellingCount = 0;

        UPDATE bx_UserProps 
        SET 
            [Count] = [Count] + [SellingCount] - @Count, 
            [SellingCount] = @Count, 
            [SellingPrice] = @Price
        WHERE 
            UserID = @UserID AND PropID = @PropID;
    END
    ELSE BEGIN
        RETURN 2;
    END

    RETURN 1;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Prop_UpdateProp</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Prop_UpdateProp">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Prop_UpdateProp
  @PropID int
 ,@Icon nvarchar(255)
 ,@Name nvarchar(100)
 ,@Price int
 ,@PriceType int
 ,@PropType nvarchar(512)
 ,@PropParam ntext
 ,@Description nvarchar(255)
 ,@PackageSize int
 ,@TotalNumber int
 ,@AllowExchange bit
 ,@AutoReplenish bit
 ,@ReplenishNumber int
 ,@ReplenishTimeSpan int
 ,@BuyCondition ntext
 ,@ReplenishLimit int
 ,@SortOrder int
AS
BEGIN
  SET NOCOUNT ON;
  UPDATE bx_Props SET
    [Icon] = @Icon
   ,[Name] = @Name
   ,[Price] = @Price
   ,[PriceType] = @PriceType
   ,[PropType] = @PropType
   ,[PropParam] = @PropParam
   ,[Description] = @Description
   ,[PackageSize] = @PackageSize
   ,[TotalNumber] = @TotalNumber
   ,[AllowExchange] = @AllowExchange
   ,[AutoReplenish] = @AutoReplenish
   ,[ReplenishNumber] = @ReplenishNumber
   ,[ReplenishTimeSpan] = @ReplenishTimeSpan
   ,[BuyCondition] = @BuyCondition
   ,[ReplenishLimit] = @ReplenishLimit
   ,[SortOrder] = @SortOrder
  WHERE
   [PropID] = @PropID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Prop_UseProp</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Prop_UseProp">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Prop_UseProp
    @UserID int,
    @PropID int
AS
BEGIN
    SET NOCOUNT ON;

    IF EXISTS(SELECT * FROM bx_UserProps WHERE UserID = @UserID AND PropID = @PropID AND Count &gt; 0) BEGIN

        UPDATE bx_UserProps SET Count = Count - 1 WHERE UserID = @UserID AND PropID = @PropID AND Count &gt; 0;

        DELETE FROM bx_UserProps WHERE UserID = @UserID AND PropID = @PropID AND [SellingCount] = 0 AND [Count] = 0;
        
        RETURN 1;
    END

    RETURN 2;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_QueryForBeforeRequestIn3M</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_QueryForBeforeRequestIn3M">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_QueryForBeforeRequestIn3M
AS
BEGIN

    SET NOCOUNT ON;
	
    SELECT * FROM [bx_TopicStatus] WHERE EndDate &lt;= GETDATE();






	SELECT Q.*, T.PostUserID,T.ForumID FROM [bx_Questions] Q INNER JOIN [bx_Threads] T ON Q.ThreadID = T.ThreadID WHERE Q.IsClosed = 0 AND Q.ExpiresDate &lt; getdate();

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ReCountTopicsAndPosts</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_ReCountTopicsAndPosts">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_ReCountTopicsAndPosts
    @RecountToday       bit,
    @RecountYestoday    bit,
    @Today              datetime,
    @Yestoday           datetime
AS BEGIN
    SET NOCOUNT ON;

    IF @RecountYestoday = 1 BEGIN
        DECLARE @YestodayTopics int;
        DECLARE @YestodayPosts int;
        SELECT @YestodayTopics=COUNT(*) FROM bx_Threads WITH(NOLOCK)  WHERE ThreadStatus&lt;4 AND CreateDate&gt;@Yestoday AND CreateDate&lt;@Today;
        SELECT @YestodayPosts=COUNT(*) FROM bx_Posts WITH(NOLOCK)  WHERE SortOrder&lt;4000000000000000 AND CreateDate&gt;@Yestoday AND CreateDate&lt;@Today;

        DECLARE @MaxPosts int
        SELECT top 1 @MaxPosts=MaxPosts FROM bx_Vars;

        IF @YestodayPosts &gt; @MaxPosts
           UPDATE bx_Vars SET  @MaxPosts=@YestodayPosts,MaxPostDate='',LastResetDate=GETDATE(),YestodayPosts=@YestodayPosts,YestodayTopics=@YestodayTopics;
        ELSE
           UPDATE bx_Vars SET  LastResetDate=GETDATE(),YestodayPosts=@YestodayPosts,YestodayTopics=@YestodayTopics;
    END

    
    IF @RecountToday = 1 BEGIN
        BEGIN TRANSACTION
        UPDATE bx_Forums SET TodayThreads=0,TodayPosts=0;
        IF(@@error&lt;&gt;0)
		        GOTO Cleanup;

        UPDATE bx_Forums SET TodayThreads = T.TotalCount FROM(
        SELECT COUNT(*) as TotalCount,ForumID FROM bx_Threads WITH(NOLOCK)  WHERE ThreadStatus&lt;4 AND CreateDate&gt;@Today GROUP BY ForumID
        ) AS T WHERE T.ForumID = bx_Forums.ForumID;
        IF(@@error&lt;&gt;0)
		        GOTO Cleanup;

        UPDATE bx_Forums SET TodayPosts = T.TotalCount FROM(
        SELECT COUNT(*) as TotalCount,ForumID FROM bx_Posts WITH(NOLOCK)  WHERE SortOrder&lt;4000000000000000 AND CreateDate&gt;@Today GROUP BY ForumID
        ) AS T WHERE T.ForumID = bx_Forums.ForumID;
        IF(@@error&lt;&gt;0)
		        GOTO Cleanup;
        

        COMMIT TRANSACTION
            RETURN 0;
        Cleanup:
            BEGIN
    	        ROLLBACK TRANSACTION
    	        RETURN (-1);
            END

    END
    
    RETURN 0;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Register</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Register">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Register
	 @Username               nvarchar(50)
	,@Password               nvarchar(50)
	,@Email                  nvarchar(200)
	,@CreateIP               nvarchar(50)
	,@IPSameInterval         int     
	,@PasswordFormat         int
	,@Serial                 uniqueidentifier
	,@IsActive               bit

	,@BlogPrivacy			tinyint = 0
	,@FeedPrivacy			tinyint = 0
	,@BoardPrivacy			tinyint = 0
	,@DoingPrivacy			tinyint = 0
	,@AlbumPrivacy			tinyint = 0
	,@SpacePrivacy			tinyint = 0
	,@SharePrivacy			tinyint = 0
	,@FriendListPrivacy		tinyint = 0
	,@InformationPrivacy	tinyint = 0

	,@InviterID              int 
	,@Point0                 int
	,@Point1                 int
	,@Point2                 int
	,@Point3                 int
	,@Point4                 int
	,@Point5                 int
	,@Point6                 int
	,@Point7                 int
	
	,@RoleIDs	             text
	,@RoleEndDates           text  
	
	,@UserID                 int OUTPUT
	AS
BEGIN

	SET NOCOUNT ON;
	
	DECLARE @ErrorCode  int;
	DECLARE @NewUserID  int;
	
	BEGIN TRANSACTION  REGISTER

    IF EXISTS(SELECT [UserID] FROM bx_Users WHERE [Username]=@Username) BEGIN
		SET @ErrorCode = 1;
		GOTO Cleanup;
	END

	IF EXISTS(SELECT [UserID] FROM bx_Users WHERE [Email]=@Email) BEGIN
		SET @ErrorCode = 2;
		GOTO Cleanup;
	END
	
	IF @IPSameInterval&gt;0 BEGIN
		DECLARE @LastSameIPDate DATETIME
		
		SET @LastSameIPDate = (SELECT MAX([CreateDate]) FROM [bx_Users] WHERE [CreateIP] = @CreateIP )
		
		IF NOT @LastSameIPDate IS NULL BEGIN
		
			DECLARE @Interval INT;
			SET @Interval = DATEDIFF(n, @LastSameIPDate, GETDATE());
			IF @Interval &lt;= @IPSameInterval BEGIN
				SET @ErrorCode = 5;
				GOTO Cleanup;
			END
		END
	END

	IF @Serial IS NOT NULL AND @Serial&lt;&gt;'00000000-0000-0000-0000-000000000000' BEGIN
		SELECT @InviterID = UserID FROM [bx_InviteSerials] WHERE Serial = @Serial AND Status = 0 AND ExpiresDate &gt; GETDATE();
		
		IF @InviterID IS NULL OR @InviterID = 0 BEGIN
			SET @ErrorCode = 3;
			GOTO Cleanup;
		END

	END

	IF @UserID&gt;0 BEGIN
		IF EXISTS (SELECT [UserID] FROM [bx_Users] WHERE [UserID] = @UserID)
		BEGIN
			SET @ErrorCode = 4;
			GOTO Cleanup;
		END
		INSERT INTO [bx_Users](
					[UserID]
				   ,[Username]
				   ,[Realname]
				   ,[Email]
                   ,[CreateIP]
                   ,[LastVisitIP]  
                   ,[IsActive]
                   ,[Point_1]
                   ,[Point_2]
                   ,[Point_3]
                   ,[Point_4]
                   ,[Point_5]
                   ,[Point_6]
                   ,[Point_7]
                   ,[Point_8]
				   )
				VALUES (
					@UserID
				   ,@Username
				   ,N''
				   ,@Email
                   ,@CreateIP
                   ,@CreateIP
                   ,@IsActive
                   ,@Point0
                   ,@Point1
                   ,@Point2
                   ,@Point3
                   ,@Point4
                   ,@Point5
                   ,@Point6
                   ,@Point7
				   );
				   
			IF( @@ERROR &lt;&gt; 0 )
			BEGIN
				SET @ErrorCode = -1;
				GOTO Cleanup;
			END		   
		
		SET @NewUserID = @UserID;
	END	
	ELSE BEGIN
		INSERT INTO [bx_Users](
						[Username]
					   ,[Realname]
					   ,[Email]
                       ,[CreateIP]
                       ,[LastVisitIP]
                       ,[IsActive]
                       ,[Point_1]
                       ,[Point_2]
                       ,[Point_3]
                       ,[Point_4]
                       ,[Point_5]
                       ,[Point_6]
                       ,[Point_7]
                       ,[Point_8]
					   )
					VALUES(
						@Username
					   ,N''
					   ,@Email
                       ,@CreateIP
                       ,@CreateIP
                       ,@IsActive
                       ,@Point0
                       ,@Point1
                       ,@Point2
                       ,@Point3
                       ,@Point4
                       ,@Point5
                       ,@Point6
                       ,@Point7
					   );		   
		IF(@@ERROR &lt;&gt; 0)
		BEGIN
			SET @ErrorCode = -1;
			GOTO Cleanup;
		END
		
		SET @NewUserID = @@IDENTITY; 	
	END

	IF @NewUserID&lt;=0
	BEGIN
		SET @ErrorCode = -1;
		GOTO Cleanup;
	END

	INSERT INTO [bx_UserVars](
				 UserID
				,Password
				,PasswordFormat
				)
			VALUES(
				 @NewUserID
				,@Password
				,@PasswordFormat
				);
	IF(@@ERROR &lt;&gt; 0)
	BEGIN
		SET @ErrorCode = -1;
		GOTO Cleanup;
	END
	
	INSERT INTO [bx_UserInfos](
				 UserID
				,InviterID
				,BlogPrivacy
				,FeedPrivacy
				,BoardPrivacy
				,DoingPrivacy
				,AlbumPrivacy
				,SpacePrivacy
				,SharePrivacy
				,FriendListPrivacy
				,InformationPrivacy
				)
			VALUES(
				 @NewUserID
				,@InviterID
				,@BlogPrivacy
				,@FeedPrivacy
				,@BoardPrivacy
				,@DoingPrivacy
				,@AlbumPrivacy
				,@SpacePrivacy
				,@SharePrivacy
				,@FriendListPrivacy
				,@InformationPrivacy
				);
	IF(@@ERROR &lt;&gt; 0)
	BEGIN
		SET @ErrorCode = -1;
		GOTO Cleanup;
	END

	
	IF @InviterID IS NOT NULL AND @InviterID &gt; 0 BEGIN

		IF @Serial IS NOT NULL AND @Serial&lt;&gt;'00000000-0000-0000-0000-000000000000'
			UPDATE [bx_InviteSerials] SET Status = 1, ToUserID = @NewUserID WHERE Serial=@Serial;
	
		INSERT INTO bx_Friends([UserID],[FriendUserID],[GroupID],[Hot],[CreateDate]) 
		VALUES(@NewUserID,@InviterID,0,0,GETDATE());

		INSERT INTO bx_Friends([UserID],[FriendUserID],[GroupID],[Hot],[CreateDate]) 
		VALUES(@InviterID,@NewUserID,0,0,GETDATE());

		UPDATE [bx_Users] SET [TotalInvite] = [TotalInvite] + 1 WHERE [UserID] = @InviterID;

	END
	
	IF(@@ERROR &lt;&gt; 0)
	BEGIN
		SET @ErrorCode = -1;
		GOTO Cleanup;
	END


	
	DECLARE @RoleIDsTable table(autoid int, RoleID uniqueidentifier, EndDate datetime);
	
	INSERT @RoleIDsTable (autoid, RoleID) SELECT id,item FROM bx_GetStringTable_text(@RoleIDs,',');
	UPDATE @RoleIDsTable SET EndDate = CAST(t.item as datetime) FROM bx_GetStringTable_text(@RoleEndDates,',') as t WHERE t.id = autoid ;
	
	INSERT bx_UserRoles( UserID, RoleID,BeginDate, EndDate) SELECT @NewUserID, RoleID, '1753-1-1', EndDate FROM @RoleIDsTable;
	
	IF(@@ERROR &lt;&gt; 0)
	BEGIN
		SET @ErrorCode = -1;
		GOTO Cleanup;
	END
	
	
	EXEC bx_UpdateUserGeneralPoint @NewUserID;

	SELECT @UserID = @NewUserID;

	IF(@@ERROR &lt;&gt; 0)
	BEGIN
		SET @ErrorCode = -1;
		GOTO Cleanup;
	END

	INSERT INTO bx_IPLogs(UserID,Username,NewIP) VALUES(@UserID,@Username,@CreateIP);

EXEC bx_CreatePointLogs @UserID
,@Point0
,@Point1
,@Point2
,@Point3
,@Point4
,@Point5
,@Point6
,@Point7
,@Point0
,@Point1
,@Point2
,@Point3
,@Point4
,@Point5
,@Point6
,@Point7
,N'初始化'
,N'新用户注册'   --创建积分记录
	
	GOTO CommitTrans;

 CommitTrans:
	BEGIN
		COMMIT TRANSACTION REGISTER
		RETURN (0);
	END

 Cleanup:
    BEGIN
    	ROLLBACK TRANSACTION REGISTER
    	RETURN (@ErrorCode);
    END     

END


/*
@ErrorCode
  -1 未知错误
  1  用户名被占用
  2  Email被占用
  3  邀请码错误
  4  ID已经存在
  5  注册间隔时间太频繁
*/</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_RegisterNotifyType</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_RegisterNotifyType">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_RegisterNotifyType
@TypeName      nvarchar(50)
,@Keep         bit
,@Description  nvarchar(200)
AS
BEGIN
SET NOCOUNT ON;

IF NOT  EXISTS( SELECT * FROM bx_NotifyTypes WHERE TypeName = @TypeName) BEGIN
INSERT INTO bx_NotifyTypes( TypeName, [Keep], Description ) VALUES( @TypeName ,@Keep ,@Description );
END

SELECT * FROM bx_NotifyTypes WHERE TypeName = @TypeName;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_RenameDiskDirectoriesAndDiskFiles</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_RenameDiskDirectoriesAndDiskFiles">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROC bx_RenameDiskDirectoriesAndDiskFiles
@UserID INT,
	@ParentID INT,
	@DirectoryIDs VARCHAR(8000),
	@DiskFileIDs VARCHAR(8000),
	@DirectoryNames NVARCHAR(4000),
	@DiskFileNames NVARCHAR(4000)
AS
    SET NOCOUNT ON;

	DECLARE @T_Directories TABLE(T_Index INT IDENTITY(1,1),T_DirectoryID INT,T_DirectoryName NVARCHAR(256) COLLATE Chinese_PRC_CI_AS_WS DEFAULT '')
	DECLARE @T_DiskFiles TABLE(T_Index INT IDENTITY(1,1),T_DiskFileID INT,T_DiskFileName NVARCHAR(256) COLLATE Chinese_PRC_CI_AS_WS DEFAULT '')
	
	INSERT INTO @T_Directories(T_DirectoryID)
	SELECT item FROM bx_GetBigIntTable(@DirectoryIDs,'|')

	UPDATE @T_Directories
	SET T_DirectoryName=item
	FROM bx_GetStringTable_nvarchar(@DirectoryNames,'|')
	WHERE T_Index=id


	INSERT INTO @T_DiskFiles(T_DiskFileID)
	SELECT item FROM bx_GetIntTable(@DiskFileIDs,'|')

	UPDATE @T_DiskFiles
	SET T_DiskFileName=item
	FROM bx_GetStringTable_nvarchar(@DiskFileNames,'|')
	WHERE T_Index=id

	IF NOT EXISTS(SELECT * FROM @T_Directories AS M INNER JOIN @T_DiskFiles AS S ON M.T_DirectoryName=S.T_DiskFileName)
	BEGIN
		IF EXISTS (
		SELECT * FROM bx_DiskDirectories 
		INNER JOIN @T_Directories
		ON [Name] = T_DirectoryName
		WHERE [UserID] = @UserID AND ParentID = @ParentID AND DirectoryID NOT IN (SELECT T_DirectoryID FROM @T_Directories))
		OR EXISTS (
		SELECT * FROM [bx_DiskFiles]
		INNER JOIN @T_Directories
		ON [FileName] = T_DirectoryName
		WHERE [DirectoryID] = @ParentID AND DiskFileID NOT IN (SELECT T_DiskFileID FROM @T_DiskFiles))
		OR EXISTS (
		SELECT * FROM bx_DiskDirectories 
		INNER JOIN @T_DiskFiles
		ON [Name] = T_DiskFileName
		WHERE [UserID] = @UserID AND ParentID = @ParentID AND DirectoryID NOT IN (SELECT T_DirectoryID FROM @T_Directories))
		OR EXISTS (
		SELECT * FROM [bx_DiskFiles]
		INNER JOIN @T_DiskFiles
		ON [FileName] = T_DiskFileName
		WHERE [DirectoryID] = @ParentID AND DiskFileID NOT IN (SELECT T_DiskFileID FROM @T_DiskFiles))
		RETURN 3
		BEGIN TRANSACTION
		SELECT * FROM @T_Directories
		UPDATE bx_DiskDirectories 
		SET [Name] = RAND()+T_DirectoryID--临时插入
		FROM @T_Directories
		WHERE DirectoryID = T_DirectoryID
		IF @@ERROR&lt;&gt;0
		BEGIN
			ROLLBACK TRANSACTION
			RETURN -1
		END

		UPDATE bx_DiskDirectories 
		SET [Name] = T_DirectoryName
		FROM @T_Directories
		WHERE DirectoryID = T_DirectoryID
		IF @@ERROR&lt;&gt;0
		BEGIN
			ROLLBACK TRANSACTION
			RETURN -1
		END
		UPDATE bx_DiskFiles 
		SET [FileName] = RAND()+T_DiskFileID--临时插入
		FROM @T_DiskFiles
		WHERE DiskFileID = T_DiskFileID		
		IF @@ERROR&lt;&gt;0
		BEGIN
			ROLLBACK TRANSACTION
			RETURN -1
		END

		UPDATE bx_DiskFiles 
		SET [FileName] = T_DiskFileName
		FROM @T_DiskFiles
		WHERE DiskFileID = T_DiskFileID	
		IF @@ERROR&lt;&gt;0
		BEGIN
			ROLLBACK TRANSACTION
			RETURN -1
		END

		COMMIT TRANSACTION
		RETURN 0
	END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_RenameDiskDirectory</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_RenameDiskDirectory">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_RenameDiskDirectory
	@UserID int,
	@DirectoryID int,
	@NewName nvarchar(256)
AS
BEGIN

	SET NOCOUNT ON;


	DECLARE @ParentID int;

	SELECT @ParentID = [ParentID] FROM bx_DiskDirectories WITH (NOLOCK) WHERE DirectoryID = @DirectoryID AND [UserID] = @UserID;
	IF @@ROWCOUNT &gt; 0 BEGIN
		IF EXISTS (SELECT * FROM bx_DiskDirectories WITH (NOLOCK) WHERE [UserID] = @UserID AND ParentID = @ParentID AND [Name] = @NewName)
			OR EXISTS (SELECT * FROM [bx_DiskFiles] WITH (NOLOCK) WHERE [DirectoryID] = @ParentID AND [FileName] = @NewName)
			RETURN (2);
		ELSE BEGIN

			UPDATE bx_DiskDirectories SET Name = @NewName WHERE DirectoryID = @DirectoryID;
			IF @@ROWCOUNT &gt; 0
				RETURN (1);
			ELSE
				RETURN (-1);
		END
	END
	ELSE
		RETURN (-1);

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_RenameDiskFile</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_RenameDiskFile">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_RenameDiskFile
	@UserID int,
	@DiskFileID int,
	@NewFileName nvarchar(256)
AS
BEGIN

	SET NOCOUNT ON;

	DECLARE @DirectoryID int;
	DECLARE @FileName nvarchar(256);

	SELECT @DirectoryID = DirectoryID, @FileName = [FileName] FROM bx_DiskFiles WITH (NOLOCK) WHERE DiskFileID = @DiskFileID;

	IF EXISTS (SELECT * FROM bx_DiskDirectories WITH (NOLOCK) WHERE DirectoryID = @DirectoryID AND UserID = @UserID) BEGIN
		IF (@FileName = @NewFileName)
			RETURN (0);
		ELSE BEGIN
			IF EXISTS (SELECT * FROM bx_DiskDirectories WITH (NOLOCK) WHERE [UserID] = @UserID AND ParentID = @DirectoryID AND [Name] = @NewFileName)
				OR EXISTS (SELECT * FROM bx_DiskFiles WITH (NOLOCK) WHERE DirectoryID = @DirectoryID AND [FileName] = @NewFileName)
				RETURN (3);
			ELSE BEGIN
				UPDATE bx_DiskFiles SET [FileName] = @NewFileName WHERE DiskFileID = @DiskFileID;
				RETURN (0);
			END
		END
	END
	ELSE
		RETURN (-1);

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_RenameEmoticonShortcut</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_RenameEmoticonShortcut">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE [bx_RenameEmoticonShortcut]
	@UserID INT,
	@GroupID INT,
	@EmoticonIDs  VARCHAR(8000),
	@NewShortcuts NVARCHAR(4000)--注意传进来的快捷方式不能相同
AS
BEGIN
	SET NOCOUNT ON;
	DECLARE @EmotionIDAndShortcutsTable TABLE
	(
		T_Index INT IDENTITY(1,1),
		T_EmoticonID INT DEFAULT 0,
		T_Shortcut NVARCHAR(64)  COLLATE Chinese_PRC_CI_AS_WS DEFAULT ''
	)	
	INSERT INTO @EmotionIDAndShortcutsTable(T_EmoticonID)
	SELECT item FROM bx_GetIntTable(@EmoticonIDs,N'|') 
	
	UPDATE @EmotionIDAndShortcutsTable
	SET T_Shortcut=item
	FROM bx_GetStringTable_nvarchar(@NewShortcuts,N'|')
	WHERE T_Index=id
	

	IF EXISTS(
	SELECT T_Shortcut FROM [bx_Emoticons] 
	INNER JOIN @EmotionIDAndShortcutsTable 
	ON Shortcut=T_Shortcut AND Shortcut&lt;&gt;''
	WHERE  EmoticonID NOT IN(SELECT T_EmoticonID FROM @EmotionIDAndShortcutsTable))
		RETURN 3

	BEGIN TRANSACTION

	UPDATE [bx_Emoticons]
	SET Shortcut= RAND()+T_EmoticonID
	FROM @EmotionIDAndShortcutsTable AS T
	WHERE EmoticonID=T_EmoticonID
	IF @@ERROR&lt;&gt;0
		ROLLBACK TRANSACTION
	
	UPDATE [bx_Emoticons]
	SET Shortcut=T_Shortcut
	FROM @EmotionIDAndShortcutsTable AS T
	WHERE EmoticonID=T_EmoticonID
	IF @@ERROR&lt;&gt;0
		ROLLBACK TRANSACTION

	COMMIT TRANSACTION
		RETURN 0
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_RenameFriendGroup</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_RenameFriendGroup">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_RenameFriendGroup
    @UserID int,
    @GroupID int,
    @NewGroupName nvarchar(50)
AS BEGIN

	SET NOCOUNT ON;

    IF @GroupID = 0
        RETURN (2);

    ELSE IF EXISTS (SELECT * FROM bx_FriendGroups WHERE UserID = @UserID AND GroupName = @NewGroupName AND GroupID &lt;&gt; @GroupID)
        RETURN (3);

    ELSE BEGIN
        UPDATE bx_FriendGroups SET GroupName = @NewGroupName WHERE UserID = @UserID AND GroupID = @GroupID;
        RETURN (0);
    END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_RepairTotalReplyCount</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_RepairTotalReplyCount">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_RepairTotalReplyCount
     @ThreadID   int
AS
BEGIN
	SET NOCOUNT ON;
    DECLARE @Total int;
    SELECT @Total = COUNT(*)-1 FROM bx_Posts WITH(NOLOCK) WHERE ThreadID = @ThreadID AND SortOrder&lt;4000000000000000;
    UPDATE [bx_Threads] SET [TotalReplies] = @Total WHERE [ThreadID] = @ThreadID; 
    SELECT @Total;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ResetTodayPosts</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_ResetTodayPosts">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_ResetTodayPosts
AS
BEGIN
	SET NOCOUNT ON;
    
    DECLARE @Today datetime;
    SELECT @Today = CONVERT(DATETIME, CONVERT(varchar(100), GETDATE(), 23));

    UPDATE bx_Forums SET  
         TodayPosts = (SELECT COUNT(*) FROM bx_Posts P WITH(NOLOCK) WHERE ForumID = F.ForumID AND P.SortOrder&lt;4000000000000000 AND P.CreateDate &gt; @Today)
        ,TodayThreads = (SELECT COUNT(*) FROM bx_Threads T WITH(NOLOCK) WHERE ForumID = F.ForumID AND ThreadStatus&lt;4 AND T.CreateDate &gt; @Today)
        FROM bx_Forums F
        WHERE ForumID = F.ForumID

	UPDATE bx_Forums SET 
		YestodayLastThreadID=(SELECT ISNULL(MAX(ThreadID),0) FROM [bx_Threads] T WITH (NOLOCK) WHERE ForumID=F.ForumID AND ThreadStatus&lt;4 AND T.CreateDate&lt;@Today),
		YestodayLastPostID=(SELECT ISNULL(MAX(PostID),0) FROM [bx_Posts] P WITH (NOLOCK) INNER JOIN [bx_Threads] T2 WITH(NOLOCK) ON P.ThreadID=T2.ThreadID WHERE T2.ForumID=F.ForumID AND P.SortOrder&lt;4000000000000000 AND T2.ThreadStatus&lt;4 AND P.CreateDate&lt;@Today)
		FROM [bx_Forums] F WHERE ForumID=F.ForumID;
/*    
    DECLARE @Today int;
    DECLARE @Yestoday datetime;
    SET @Yestoday = DATEADD(day, -1, GETDATE());
    SELECT @Today = DATEPART(year,@Yestoday)*10000+DATEPART(month,@Yestoday)*100+DATEPART(day,@Yestoday);

    DELETE [bx_DayLastThreads] WHERE [Day] = @Today;
    INSERT INTO [bx_DayLastThreads]([Day],[LastThreadID]) 
	SELECT @Today,(SELECT ISNULL(MAX(ThreadID),0) FROM bx_Threads T WITH(NOLOCK) WHERE CreateDate&lt; CONVERT(DATETIME, CONVERT(varchar(100), GETDATE(), 23)));
*/
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ResetUserPassword</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_ResetUserPassword">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_ResetUserPassword
     @UserID     int
    ,@Password   nvarchar(50)
    ,@Format     tinyint
AS BEGIN
    SET NOCOUNT ON;

    UPDATE [bx_UserVars] SET Password = @Password, PasswordFormat = @Format WHERE UserID = @UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SaveAdvert</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SaveAdvert">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SaveAdvert 
 @ADID            int
,@CategoryID      int
,@Position        tinyint
,@Index           int
,@AdType          tinyint
,@Available       bit
,@Title           nvarchar(50)
,@Href            nvarchar(500)
,@Text            nvarchar(200)
,@FontSize        int
,@Color           varchar(50)
,@Src             nvarchar(500)
,@Width           int
,@Height          int
,@BeginDate       datetime
,@EndDate         datetime
,@Targets         ntext
,@Code            ntext
,@Floor           varchar(1000)  
AS
BEGIN
SET NOCOUNT ON;

    IF @ADID IS NULL OR @ADID = 0 BEGIN
        INSERT INTO bx_Adverts( CategoryID, [Index], Position, Title, Href, [Text], Color, FontSize, ADType, Available, ResourceHref, Width, Height, BeginDate, EndDate, Code, Targets,Floor ) VALUES( @CategoryID, @Index, @Position, @Title, @Href, @Text, @Color, @FontSize, @AdType, @Available, @Src, @Width, @Height, @BeginDate, @EndDate, @Code, @Targets, @Floor );
        SET @ADID = (SELECT @@IDENTITY)
    END
    ELSE BEGIN
        UPDATE bx_Adverts SET CategoryID = @CategoryID, [Index] = @Index, Position = @Position, ADType = @AdType, Title = @Title, [Text] = @Text, Available = @Available, Href = @Href, ResourceHref = @Src, FontSize = @FontSize, Color = @Color, Width = @Width, Height = @Height, BeginDate = @BeginDate, EndDate = @EndDate, Code = @Code, Targets = @Targets, Floor = @Floor  WHERE ADID = @ADID;       
    END
    
    SELECT * FROM bx_Adverts WHERE [ADID] = @ADID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SaveAuthenticUserInfo</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SaveAuthenticUserInfo">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SaveAuthenticUserInfo
@UserID             int
,@Realname          nvarchar(50)
,@Birthday          datetime
,@Gender            tinyint
,@IDNumber          varchar(50)
,@IDCardFileFace    nvarchar(100)
,@IDCardFileBack    nvarchar(100)
,@Area              nvarchar(100) 
AS
BEGIN
SET NOCOUNT ON;
IF EXISTS( SELECT * FROM bx_AuthenticUsers WHERE UserID = @UserID) BEGIN
    UPDATE bx_AuthenticUsers SET [Realname] = @Realname, [Gender] = @Gender, [Birthday] = @Birthday, [IDNumber] = @IDNumber, [IDCardFileFace] = @IDCardFileFace, [IDCardFileBack]=@IDCardFileBack, [Area] = @Area, Processed = 0 WHERE UserID = @UserID
    SELECT 1;
END
ELSE BEGIN
    INSERT INTO bx_AuthenticUsers([UserID], [Realname], [Gender], [Birthday], [IDNumber], [IDCardFileFace],[IDCardFileBack], [Area]) VALUES(@UserID, @Realname, @Gender, @Birthday, @IDNumber, @IDCardFileFace,@IDCardFileBack, @Area)
    SELECT 0;
END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SaveBindOrUnbindSmsCode</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SaveBindOrUnbindSmsCode">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SaveBindOrUnbindSmsCode
 @UserID                int
,@Action                tinyint
,@MobilePhone           bigint
,@ChangedMobilePhone    bigint
,@SmsCode             varchar(10)  
,@ChangedSmsCode      varchar(10)
AS

BEGIN
    SET NOCOUNT ON;
    
    DECLARE @TodayCount int;
    DECLARE @Today datetime;
    DECLARE @ExpiresDate datetime;

    IF (@Action=1 AND EXISTS(SELECT * FROM bx_Users WHERE MobilePhone=@MobilePhone)) OR
        (@Action=3 AND EXISTS(SELECT * FROM bx_Users WHERE MobilePhone=@MobilePhone))
        RETURN(2);

    SET @Today = CONVERT(varchar(12) , GETDATE(), 102);
    SET @ExpiresDate = DATEADD(hour, 24, GETDATE());

    SELECT @TodayCount = COUNT(*) FROM (SELECT TOP 3 SmsCodeID FROM [bx_SmsCodes] WHERE UserID = @UserID AND ActionType = @Action AND CreateDate &gt;= @Today) as t;
    
    IF @TodayCount &lt; 3 BEGIN
        INSERT INTO [bx_SmsCodes]( UserID , ActionType , ExpiresDate , MobilePhone, ChangedMobilePhone, SmsCode, ChangedSmsCode) VALUES( @UserID,@Action ,@ExpiresDate, @MobilePhone, @ChangedMobilePhone, @SmsCode, @ChangedSmsCode);
        RETURN (0);
    END
    ELSE
        RETURN (1);

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SaveFile</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SaveFile">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SaveFile
    @UserID         int,
    @TempUploadFileID  int
AS BEGIN

    SET NOCOUNT ON;

    INSERT INTO bx_Files (FileID, ServerFilePath, MD5, FileSize)
        SELECT T.FileID, REPLACE(T.ServerFileName, '_', '\') AS ServerFilePath, T.MD5, T.FileSize
            FROM bx_TempUploadFiles T LEFT JOIN bx_Files F ON T.FileID = F.FileID
            WHERE T.UserID = @UserID AND T.TempUploadFileID = @TempUploadFileID
                AND F.FileID IS NULL;

    SELECT T.TempUploadFileID AS TempUploadFileID, T.FileName AS TempUploadFileName, T.ServerFileName AS TempUploadServerFileName, F.* FROM bx_TempUploadFiles T LEFT JOIN bx_Files F ON T.FileID = F.FileID WHERE T.UserID = @UserID AND T.TempUploadFileID = @TempUploadFileID;

    DELETE bx_TempUploadFiles WHERE UserID = @UserID AND TempUploadFileID = @TempUploadFileID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SaveUploadFile</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SaveUploadFile">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SaveUploadFile
 @UserID             int
,@DirectoryID        int
,@FileName           nvarchar(256)
,@FileID             varchar(50)
,@FileSize           bigint
,@CanUseSpaceSize    bigint
,@ReplaceExistFile   int

AS
BEGIN

    SET NOCOUNT ON;

    IF @DirectoryID &gt; 0 BEGIN

        IF NOT EXISTS (SELECT * FROM bx_DiskDirectories WHERE DirectoryID = @DirectoryID AND UserID = @UserID)
            SET @DirectoryID = 0;

    END

    IF @DirectoryID = 0 BEGIN

        SELECT @DirectoryID = DirectoryID FROM bx_DiskDirectories WHERE UserID = @UserID AND ParentID = 0;
        IF @@ROWCOUNT = 0 BEGIN
            INSERT INTO bx_DiskDirectories([ParentID], [Name], UserID) VALUES (0, '\', @UserID);
            SET @DirectoryID = @@IDENTITY;
        END

    END

    IF @ReplaceExistFile = 1 BEGIN

        DECLARE @ExistDiskFileID int;
        DECLARE @ExistFileSize bigint;

        SET @ExistDiskFileID = -1;

        SELECT @ExistDiskFileID = DiskFileID, @ExistFileSize = FileSize FROM bx_DiskFiles WHERE DirectoryID = @DirectoryID AND [FileName] = @FileName;

        IF @ExistDiskFileID &lt;&gt; -1 BEGIN

            DELETE bx_DiskFiles WHERE DiskFileID = @ExistDiskFileID;
            SET @CanUseSpaceSize = @CanUseSpaceSize +  @ExistFileSize - @FileSize;

        END

    END

    IF @CanUseSpaceSize &gt; @FileSize BEGIN

        INSERT INTO bx_DiskFiles( FileID, [FileName],UserID,DirectoryID, [FileSize], ThumbPath) VALUES(@FileID ,@FileName,@UserID,@DirectoryID, @FileSize, '');
        RETURN 1;

    END
    ELSE
        RETURN 0;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SaveUserTemporaryData</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SaveUserTemporaryData">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SaveUserTemporaryData
 @Data            ntext
,@UserID          int
,@DataType        smallint
,@OverrideOld     bit
AS

BEGIN
    SET NOCOUNT ON;

    IF @OverrideOld = 1
        DELETE FROM bx_UserTempData WHERE DataType = @DataType AND UserID = @UserID;
    INSERT INTO bx_UserTempData( UserID , DataType , Data) VALUES( @UserID,@DataType , @Data);
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SetJobExecuteTime</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SetJobExecuteTime">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SetJobExecuteTime
     @Type        varchar(200)
    ,@ExecuteTime dateTime
AS
BEGIN
	SET NOCOUNT ON;
    UPDATE [bx_JobStatus] SET [LastExecuteTime] = @ExecuteTime WHERE [Type] = @Type;

    IF @@ROWCOUNT &lt; 1
        INSERT INTO [bx_JobStatus] ([Type], [LastExecuteTime]) VALUES (@Type, @ExecuteTime);
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SetPhoneBySmsCode</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SetPhoneBySmsCode">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SetPhoneBySmsCode
@UserID             int,
@Action             tinyint,
@MobilePhone        bigint,
@SmsCode            varchar(10)
AS
BEGIN
    SET NOCOUNT ON;

    IF EXISTS (
            SELECT * FROM [bx_SmsCodes]
                WHERE UserID = @UserID
                  AND IsUsed = 0
                  AND ActionType = @Action
                  AND MobilePhone = @MobilePhone
                  AND SmsCode = @SmsCode
                  
                  AND ExpiresDate &gt;= GETDATE()
            ) BEGIN

        IF @Action = 2
            UPDATE bx_Users SET MobilePhone = 0 WHERE UserID = @UserID;
        ELSE IF @Action = 1
            UPDATE bx_Users SET MobilePhone = @MobilePhone WHERE UserID = @UserID; 

        UPDATE bx_SmsCodes SET IsUsed = 1 WHERE UserID = @UserID AND IsUsed = 0;
        INSERT INTO bx_UserMobileOperationLogs(UserID,Username,MobilePhone,OperationType) SELECT UserID,Username,@MobilePhone,@Action FROM bx_Users WHERE UserID = @UserID;

        RETURN (1);
    END
    ELSE
        RETURN (0);
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SetPostFloor</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SetPostFloor">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SetPostFloor
	@ThreadID int
AS
BEGIN
	SET NOCOUNT ON;
	DECLARE @Count int;

    DECLARE @T TABLE(id int identity(1,1),pid int);
    INSERT INTO @T(pid) SELECT PostID FROM bx_Posts WHERE ThreadID = @ThreadID ORDER BY SortOrder;

    SELECT @Count = @@rowcount;

    UPDATE bx_Posts SET FloorNumber = id FROM @T  WHERE bx_Posts.PostID = pid;
    UPDATE bx_Threads SET PostedCount = @Count WHERE ThreadID = @ThreadID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SetPostLoveHate</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SetPostLoveHate">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SetPostLoveHate 
	@UserID         int,
	@PostID         int,
	@IsLove         bit,
    @CanSetMore     bit
AS
BEGIN
	SET NOCOUNT ON
	
    IF NOT EXISTS(SELECT * FROM bx_Posts WITH (NOLOCK) WHERE PostID=@PostID)
        RETURN 1; --不存在这个帖子

    DECLARE @LoveCount int,@HateCount int;
    IF @IsLove = 1 BEGIN
        SET @LoveCount = 1;
        SET @HateCount = 0;
    END
    ELSE BEGIN
        SET @LoveCount = 0;
        SET @HateCount = 1;
    END

    IF EXISTS(SELECT * FROM bx_PostLoveHates WITH (NOLOCK) WHERE PostID=@PostID AND UserID=@UserID) BEGIN
        IF @CanSetMore = 0
            RETURN 2; --已经支持反对过了
        ELSE
            UPDATE bx_PostLoveHates SET LoveCount = LoveCount + @LoveCount, HateCount = HateCount + @HateCount WHERE PostID=@PostID AND UserID=@UserID; 
    END 
    ELSE
        INSERT INTO bx_PostLoveHates(PostID,UserID,LoveCount,HateCount) VALUES(@PostID,@UserID,@LoveCount,@HateCount);

    UPDATE bx_Posts SET LoveCount = @LoveCount, HateCount = @HateCount WHERE PostID = @PostID;
    
    SELECT ThreadID FROM bx_Posts WITH (NOLOCK) WHERE PostID = @PostID;

    RETURN 0;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SetRealnameCheck</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SetRealnameCheck">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SetRealnameCheck 
             @OperatorUserID   int
            ,@UserID           int
            ,@IsChecked        bit
            ,@Remark           nvarchar(1000)
            AS
BEGIN
            SET NOCOUNT ON;
            DECLARE @Success bit;
            SET  @Success = 0;
            IF EXISTS( SELECT * FROM bx_AuthenticUsers WHERE UserID = @UserID ) BEGIN 
                IF @IsChecked = 1 BEGIN
                    DECLARE @Realname nvarchar(50);
                    SET @Realname =( SELECT Realname FROM bx_AuthenticUsers WHERE UserID = @UserID) ;
                    UPDATE bx_Users SET Realname = @Realname WHERE UserID = @UserID;
                END
                ELSE BEGIN
                    UPDATE bx_Users SET Realname = '' WHERE UserID = @UserID;
                END

                UPDATE bx_AuthenticUsers SET Verified = @IsChecked, Processed = 1, OperatorUserID = @OperatorUserID,  Remark = @Remark  WHERE UserID = @UserID;
                SET @Success = 1;
            END
    SELECT @Success; 
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SetThreadImage</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SetThreadImage">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SetThreadImage
    @ThreadID       int,
    @AttachmentID   int,
    @ImageUrl       varchar(200),
    @ImageCount     int
AS BEGIN
    SET NOCOUNT ON;
    IF EXISTS(SELECT * FROM bx_ThreadImages WHERE ThreadID = @ThreadID)
        UPDATE bx_ThreadImages SET AttachmentID = @AttachmentID,ImageUrl = @ImageUrl, ImageCount = @ImageCount WHERE ThreadID = @ThreadID;
    ELSE
        INSERT INTO bx_ThreadImages(ThreadID,AttachmentID,ImageUrl,ImageCount)VALUES(@ThreadID,@AttachmentID,@ImageUrl,@ImageCount);
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SetThreadRank</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SetThreadRank">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SetThreadRank 
	@ThreadID       int,
	@UserID         int,
	@Rank           tinyint
AS
BEGIN
	SET NOCOUNT ON
	IF EXISTS (SELECT * FROM [bx_Threads] WITH (NOLOCK) WHERE ThreadID=@ThreadID AND PostUserID=@UserID)
		RETURN (1)--不能给自己评级
	IF EXISTS (SELECT * FROM [bx_ThreadRanks] WHERE ThreadID=@ThreadID AND UserID=@UserID)
		 UPDATE [bx_ThreadRanks] SET Rank=@Rank,UpdateDate=getdate() WHERE ThreadID=@ThreadID AND UserID=@UserID 
	ELSE
		INSERT INTO [bx_ThreadRanks] (
		                                [ThreadID],
		                                [UserID],
		                                [Rank]
		                                ) VALUES (
		                                @ThreadID,
		                                @UserID,
		                                @Rank
		                                );
	DECLARE @Count int,@TotalRank int
	SELECT @Count=COUNT(*) FROM [bx_ThreadRanks] WITH (NOLOCK) WHERE ThreadID=@ThreadID;
	SELECT @TotalRank=SUM(Rank) FROM [bx_ThreadRanks] WITH (NOLOCK) WHERE ThreadID=@ThreadID;
	UPDATE [bx_Threads] SET Rank=@TotalRank/@Count WHERE ThreadID=@ThreadID;
	
    SELECT @TotalRank/@Count AS NewRank;

	RETURN (0)
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SetThreadsLock</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SetThreadsLock">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SetThreadsLock
	@ForumID                    int,
	@ThreadIdentities           varchar(8000),
	@LockThread                 bit
AS
BEGIN
	SET NOCOUNT ON 
	EXEC ('UPDATE bx_Threads SET IsLocked='+@LockThread+' WHERE ThreadID IN (' + @ThreadIdentities + ') AND ForumID = ' + @ForumID) 
	RETURN
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SetThreadsSubjectStyle</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SetThreadsSubjectStyle">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SetThreadsSubjectStyle
	@ForumID            int,
	@ThreadIdentities   varchar(8000),
	@Style              nvarchar(300)
AS
BEGIN
	SET NOCOUNT ON
	EXEC ('UPDATE [bx_Threads] SET SubjectStyle='''+@Style+''' WHERE [ThreadID] IN (' + @ThreadIdentities + ') AND ForumID = ' + @ForumID) 
	IF @@ROWCOUNT &gt; 0
		RETURN (0)
	ELSE
		RETURN (1)
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SetThreadsUp</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SetThreadsUp">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SetThreadsUp
	@ThreadIdentities varchar(8000),
	@ForumID int
AS
BEGIN
	SET NOCOUNT ON;
	DECLARE @ThreadID int;
	DECLARE @i int
	DECLARE @j int
	
	DECLARE @SortOrder BIGINT,@PostDate datetime
	
	SET @PostDate = getdate();
	
	
	SET @ThreadIdentities = @ThreadIdentities + N','
	SELECT @i = CHARINDEX(',', @ThreadIdentities)
	
	SET @j = 0
	
	WHILE ( @i &gt; 1 ) BEGIN
			SELECT @ThreadID = SUBSTRING(@ThreadIdentities,0, @i)	

			EXEC [bx_GetSortOrder] 1, @j, @PostDate, 1, @SortOrder OUTPUT;

			UPDATE bx_Threads SET SortOrder = @SortOrder WHERE ForumID=@ForumID AND ThreadID=@ThreadID
			
			SELECT @ThreadIdentities = SUBSTRING(@ThreadIdentities, @i + 1, LEN(@ThreadIdentities) - @i)
			SELECT @i = CHARINDEX(',',@ThreadIdentities)
			SELECT @j = @j + 1
	END
	RETURN
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SetThreadsValued</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SetThreadsValued">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SetThreadsValued 
	@ForumID INT,
	@ThreadIdentities varchar(8000),
	@IsValued bit
AS
BEGIN
	SET NOCOUNT ON

	DECLARE @RowCount int

	EXEC ('UPDATE bx_Threads SET IsValued=' + @IsValued + ' WHERE ThreadID IN (' + @ThreadIdentities + ') AND ForumID = ' + @ForumID + ' AND IsValued&lt;&gt;' + @IsValued) 
	
	SET @RowCount=@@ROWCOUNT
	IF @RowCount&gt; 0
		
		IF @IsValued=0
			SELECT @RowCount= 0 - @RowCount;

		EXEC [bx_DoCreateStat] @ForumID,2, @RowCount
	RETURN
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SetUserInviteSerial</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SetUserInviteSerial">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SetUserInviteSerial
 @Serial           uniqueidentifier
,@UserID           int
,@InviteID         int
AS
BEGIN

    SET NOCOUNT ON;

    IF @Serial IS NOT NULL AND @Serial &lt;&gt; '00000000-0000-0000-0000-000000000000'  BEGIN
        UPDATE bx_InviteSerials SET ToUserID = @UserID, [Status] = 1 WHERE Serial = @Serial
        SELECT @InviteID = UserID FROM bx_InviteSerials WHERE Serial = @Serial
    END

    IF @InviteID &lt;&gt; @UserID  BEGIN
        UPDATE bx_UserInfos SET InviterID = @InviteID WHERE [UserID] = @UserID
        UPDATE bx_Users SET [TotalInvite] = [TotalInvite] + 1 WHERE [UserID] = @InviteID
        IF NOT EXISTS(SELECT * FROM bx_Friends WHERE UserID = @UserID AND FriendUserID = @InviteID)
	        INSERT INTO bx_Friends([UserID],[FriendUserID],[GroupID],[Hot],[CreateDate]) 
	        VALUES(@UserID,@InviteID,0,0,GETDATE());

        IF NOT EXISTS(SELECT * FROM bx_Friends WHERE UserID = @InviteID AND FriendUserID = @UserID)
	        INSERT INTO bx_Friends([UserID],[FriendUserID],[GroupID],[Hot],[CreateDate]) 
	        VALUES(@InviteID,@UserID,0,0,GETDATE());

    END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SetUserMissionIsPrized</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SetUserMissionIsPrized">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SetUserMissionIsPrized
     @UserID       int
    ,@MissionID    int
AS
BEGIN
	SET NOCOUNT ON;
    DECLARE @FinishPercent float;
    IF EXISTS(SELECT * FROM [bx_UserMissions] WHERE [UserID] = @UserID AND [MissionID] = @MissionID AND [IsPrized] = 1)
        RETURN 3; --已经奖励过
    SELECT @FinishPercent = [FinishPercent] FROM [bx_UserMissions] WHERE [UserID] = @UserID AND [MissionID] = @MissionID;
    IF @FinishPercent IS NULL
        RETURN 1; -- 任务不存在
    ELSE IF @FinishPercent &lt; 1
        RETURN 2; -- 任务未完成

    UPDATE [bx_UserMissions] SET [Status] = 1, [IsPrized] = 1, [FinishDate] = getdate() WHERE [UserID] = @UserID AND [MissionID] = @MissionID;

    RETURN 0;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SetUserPoint</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SetUserPoint">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SetUserPoint
      @UserID       int

    , @Point1       int
    , @Point2       int
    , @Point3       int
    , @Point4       int
    , @Point5       int
    , @Point6       int
    , @Point7       int
    , @Point8       int
    , @Operate      nvarchar(50)
    , @Remarks      nvarchar(200)
AS 
BEGIN
    SET NOCOUNT ON;

    DECLARE @Op0 int,@Op1 int,@Op2 int,@Op3 int,@Op4 int,@Op5 int,@Op6 int,@Op7 int;

    SELECT @Op0 = [Point_1],@Op1 = [Point_2],@Op2 = [Point_3],@Op3 = [Point_4],@Op4 = [Point_5],@Op5 = [Point_6],@Op6 = [Point_7],@Op7 = [Point_8] FROM bx_Users WHERE UserID = @UserID;

     UPDATE [bx_Users] SET [Point_1] = @Point1, [Point_2] = @Point2, [Point_3] = @Point3
    , [Point_4] = @Point4, [Point_5] = @Point5, [Point_6] = @Point6, [Point_7] = @Point7, [Point_8] = @Point8 WHERE [UserID]=@UserID; 

   
    EXECUTE bx_UpdateUserGeneralPoint @UserID;

    SELECT Points FROM [bx_Users] WHERE UserID=@UserID; 

    SET @Op0 = @Point1 - @Op0;
    SET @Op1 = @Point2 - @Op1;
    SET @Op2 = @Point3 - @Op2;
    SET @Op3 = @Point4 - @Op3;
    SET @Op4 = @Point5 - @Op4;
    SET @Op5 = @Point6 - @Op5;
    SET @Op6 = @Point7 - @Op6;
    SET @Op7 = @Point8 - @Op7;
 
    EXEC bx_CreatePointLogs @UserID
    ,@Op0, @Op1, @Op2, @Op3, @Op4, @Op5, @Op6, @Op7 
    ,@Point1, @Point2 , @Point3, @Point4, @Point5 , @Point6  , @Point7 , @Point8
    ,@Operate, @Remarks
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Share_Agree</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Share_Agree">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
create procedure bx_Share_Agree
    @ShareID    int,
    @UserID     int
as
begin
    SET NOCOUNT ON

    if not exists(select * from bx_ShareAgreeOrOpposeLogs where ShareID = @ShareID and UserID = @UserID) begin

        insert into bx_ShareAgreeOrOpposeLogs (ShareID, UserID, IsAgree) values (@ShareID, @UserID, 1);

        update 
            bx_Shares
        set
            AgreeAndOpposeCount = AgreeCount + OpposeCount + 1,
            AgreeCount = AgreeCount + 1,
            SortOrder = SortOrder + 1
        where
            ShareID = @ShareID;

    end
    
end</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Share_GetAgreeStates</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Share_GetAgreeStates">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
create procedure bx_Share_GetAgreeStates
    @UserID     int,
    @ShareIDs   varchar(100)
as
begin
    SET NOCOUNT ON

    declare @sql nvarchar(500);

    set @sql = N'select ShareID, IsAgree from bx_ShareAgreeOrOpposeLogs where UserID = @uid and ShareID IN (' + @ShareIDs + ')';

    exec sp_executesql @sql, N'@uid int', @uid = @UserID;
end</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Share_GetPostShareCount</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Share_GetPostShareCount">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Share_GetPostShareCount
	@UserID		int,
	@BeginDate	datetime,
	@EndDate	datetime
AS
BEGIN
	SET NOCOUNT ON;

	SELECT COUNT(*) FROM [bx_SharesView] WHERE [UserID] = @UserID AND [CreateDate] BETWEEN @BeginDate AND @EndDate;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Share_GetUserShare</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Share_GetUserShare">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Share_GetUserShare
    @UserShareID int
AS
BEGIN
    SET NOCOUNT ON;
    SELECT * FROM bx_SharesView WHERE UserShareID=@UserShareID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Share_Oppose</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Share_Oppose">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
create procedure bx_Share_Oppose
    @ShareID    int,
    @UserID     int
as
begin
    SET NOCOUNT ON

    if not exists(select * from bx_ShareAgreeOrOpposeLogs where ShareID = @ShareID and UserID = @UserID) begin

        insert into bx_ShareAgreeOrOpposeLogs (ShareID, UserID, IsAgree) values (@ShareID, @UserID, 0);

        update 
            bx_Shares
        set
            AgreeAndOpposeCount = AgreeCount + OpposeCount + 1,
            OpposeCount = OpposeCount + 1,
            SortOrder = SortOrder + 1
        where
            ShareID = @ShareID;

    end

end</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Share_ReShare</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Share_ReShare">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
create procedure bx_Share_ReShare
    @ShareID        int,
    @UserID         int,
    @PrivacyType    tinyint,
    @Subject        nvarchar(100),
    @Description    nvarchar(1000)
as
begin
    SET NOCOUNT ON
    
    insert into [bx_UserShares] (ShareID, UserID, PrivacyType, Subject, Description) values (@ShareID, @UserID, @PrivacyType, @Subject, @Description);

    update bx_Shares set ShareCount = ShareCount + 1 where ShareID = @ShareID;
    
    DECLARE @Type tinyint,@TargetID int;
    SELECT @Type = Type, @TargetID = TargetID FROM [bx_Shares] WHERE ShareID = @ShareID;
    IF @Type = 9 BEGIN --- 主题
        IF @PrivacyType = 2
            UPDATE bx_Threads SET CollectionCount = CollectionCount+1 WHERE ThreadID = @TargetID;
        ELSE
            UPDATE bx_Threads SET ShareCount = ShareCount+1 WHERE ThreadID = @TargetID;
    END 

end</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Share_UpdateShareKeywords</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Share_UpdateShareKeywords">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Share_UpdateShareKeywords
    @ShareID               int,
    @KeywordVersion        varchar(32),
    @Subject               nvarchar(1000),
    @SubjectReverter       nvarchar(4000),
    @Description           ntext,
    @DescriptionReverter   ntext
AS BEGIN

    SET NOCOUNT ON;

    IF @Subject IS NOT NULL OR @Description IS NOT NULL BEGIN

        IF @KeywordVersion IS NOT NULL BEGIN

            IF @Subject IS NOT NULL AND @Description IS NOT NULL
                UPDATE [bx_UserShares] SET Subject = @Subject, Description = @Description, KeywordVersion = @KeywordVersion WHERE UserShareID = @ShareID;
            ELSE IF @Subject IS NOT NULL
                UPDATE [bx_UserShares] SET Subject = @Subject, KeywordVersion = @KeywordVersion WHERE UserShareID = @ShareID;
            ELSE
                UPDATE [bx_UserShares] SET Description = @Description, KeywordVersion = @KeywordVersion WHERE UserShareID = @ShareID;

        END
        ELSE BEGIN

           IF @Subject IS NOT NULL AND @Description IS NOT NULL
                UPDATE [bx_UserShares] SET Subject = @Subject, Description = @Description WHERE UserShareID = @ShareID;
            ELSE IF @Subject IS NOT NULL
                UPDATE [bx_UserShares] SET Subject = @Subject WHERE UserShareID = @ShareID;
            ELSE
                UPDATE [bx_UserShares] SET Description = @Description WHERE UserShareID = @ShareID;

        END

    END

    IF (@SubjectReverter IS NOT NULL AND @DescriptionReverter IS NOT NULL) BEGIN

        UPDATE bx_UserShareReverters SET SubjectReverter = @SubjectReverter, DescriptionReverter = @DescriptionReverter WHERE UserShareID = @ShareID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_UserShareReverters (UserShareID, SubjectReverter, DescriptionReverter) VALUES (@ShareID, @SubjectReverter, @DescriptionReverter);

    END
    ELSE IF (@SubjectReverter IS NOT NULL) BEGIN

        UPDATE bx_UserShareReverters SET SubjectReverter = @SubjectReverter WHERE UserShareID = @ShareID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_UserShareReverters (UserShareID, SubjectReverter, DescriptionReverter) VALUES (@ShareID, @SubjectReverter, N'');

    END
    ELSE IF (@DescriptionReverter IS NOT NULL) BEGIN

        UPDATE bx_UserShareReverters SET DescriptionReverter = @DescriptionReverter WHERE UserShareID = @ShareID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_UserShareReverters (UserShareID, SubjectReverter, DescriptionReverter) VALUES (@ShareID, N'', @DescriptionReverter);

    END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Share_UpdateShareKeywords1</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Share_UpdateShareKeywords1">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Share_UpdateShareKeywords1
    @ShareID               int,
    @KeywordVersion        varchar(32),
    @Content               nvarchar(1000),
    @ContentReverter       nvarchar(4000)
AS BEGIN


    SET NOCOUNT ON;

    IF @Content IS NOT NULL BEGIN

        IF @KeywordVersion IS NOT NULL
            UPDATE [bx_Shares] SET Content = @Content, KeywordVersion = @KeywordVersion WHERE ShareID = @ShareID;
        ELSE
            UPDATE [bx_Shares] SET Content = @Content WHERE ShareID = @ShareID;

    END

    IF @ContentReverter IS NOT NULL BEGIN

        UPDATE bx_ShareReverters SET ContentReverter = @ContentReverter WHERE ShareID = @ShareID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_ShareReverters (ShareID, ContentReverter) VALUES (@ShareID, @ContentReverter);

    END


END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ShieldFriendGroup</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_ShieldFriendGroup">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_ShieldFriendGroup
    @UserID int,
    @GroupID int,
    @IsShield bit
AS BEGIN

	SET NOCOUNT ON;

    IF @GroupID = 0
        RETURN (2);

    UPDATE bx_FriendGroups SET IsShield = @IsShield WHERE UserID = @UserID AND GroupID = @GroupID;

    IF @@ROWCOUNT = 1
        RETURN (0);
    ELSE
        RETURN (3);

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SplitThread</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SplitThread">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SplitThread 
	@ThreadID int,
	@PostIdentities varchar(8000),
	@NewSubject nvarchar(256)
AS
	SET NOCOUNT ON 
	DECLARE @SortOrder bigint,@NewThreadID int,@TotalReplies int,@PostUserID int,@PostNickName nvarchar(64),@LastPostUserID int,@LastPostNickName nvarchar(64)
	
	Declare @ForumID int,@ThreadCatalogID int
	SELECT @ForumID = ForumID,@ThreadCatalogID=ThreadCatalogID FROM bx_Threads WITH(NOLOCK) WHERE ThreadID=@ThreadID
	
	DECLARE @E1 int,@E2 int,@E3 int,@E4 int
	BEGIN TRANSACTION
	SELECT @SortOrder = ISNULL(MAX(SortOrder)+1,0) FROM bx_Threads WITH (NOLOCK) WHERE ThreadStatus = 1;
	INSERT bx_Threads(ForumID,ThreadCatalogID,ThreadType,IconID,Subject,PostUserID,PostNickName,SortOrder,LastPostID,ThreadStatus) select ForumID,ThreadCatalogID,ThreadType,IconID,@NewSubject,PostUserID,PostNickName,@SortOrder,0,ThreadStatus from bx_Threads with(nolock) where ThreadID=@ThreadID
	SET @NewThreadID = @@IDENTITY
    
    
    
	
	EXEC ('UPDATE [bx_Posts] SET ThreadID=' + @NewThreadID + ' WHERE [PostID] IN (' + @PostIdentities + ') AND [ThreadID]=' + @ThreadID) 
	SELECT @E1 = @@error

    DECLARE @LastPostIDTable table(Tid int,TLastPostID int);
    DECLARE @OldLastPostID int,@NewLastPostID int;
    SELECT @OldLastPostID = MAX(PostID) FROM bx_Posts WITH (NOLOCK) WHERE ThreadID = @ThreadID AND SortOrder&lt;4000000000000000;
    SELECT @NewLastPostID = MAX(PostID) FROM bx_Posts WITH (NOLOCK) WHERE ThreadID = @NewThreadID AND SortOrder&lt;4000000000000000;

    INSERT INTO @LastPostIDTable(Tid,TLastPostID) VALUES(@ThreadID,@OldLastPostID);
    INSERT INTO @LastPostIDTable(Tid,TLastPostID) VALUES(@NewThreadID,@NewLastPostID);

    UPDATE bx_Threads SET LastPostID = TLastPostID FROM @LastPostIDTable WHERE ThreadID = Tid;
    SELECT @E2 = @@error
	
	SELECT TOP 1 @PostUserID=UserID,@PostNickName=NickName FROM [bx_Posts] WITH(NOLOCK) WHERE ThreadID=@NewThreadID AND SortOrder&lt;4000000000000000 ORDER BY PostID
	SELECT TOP 1 @LastPostUserID=UserID,@LastPostNickName=NickName FROM [bx_Posts] WITH(NOLOCK) WHERE ThreadID=@NewThreadID AND SortOrder&lt;4000000000000000 ORDER BY PostID DESC
	
	UPDATE [bx_Posts] SET PostType=1 WHERE PostID=(SELECT MIN(PostID) FROM [bx_Posts] WITH (NOLOCK) WHERE ForumID=@ForumID AND ThreadID=@NewThreadID)
	SELECT @TotalReplies = COUNT(*)-1 FROM [bx_Posts] WITH(NOLOCK) WHERE ForumID=@ForumID AND ThreadID=@NewThreadID AND SortOrder&lt;4000000000000000--第一个Post是主题内容，不属于回复，所以减1
	UPDATE bx_Threads SET TotalReplies = @TotalReplies, TotalViews = @TotalReplies, PostUserID = @PostUserID, PostNickName = @PostNickName, LastPostUserID = @LastPostUserID, LastPostNickName = @LastPostNickName where ThreadID = @NewThreadID
	SELECT @E3 = @@error
	
	SELECT TOP 1 @LastPostUserID = UserID, @LastPostNickName = NickName FROM [bx_Posts] WITH(NOLOCK)  WHERE ThreadID = @ThreadID AND SortOrder&lt;4000000000000000 ORDER BY PostID DESC
	DECLARE @OldTotalReplies int
	SELECT @OldTotalReplies = COUNT(*) - 1 FROM [bx_Posts] WITH (NOLOCK) WHERE ThreadID = @ThreadID AND SortOrder&lt;4000000000000000 --第一个Post是主题内容，不属于回复，所以减1
	UPDATE bx_Threads SET TotalReplies = @OldTotalReplies, TotalViews = TotalViews - (@TotalReplies + 1), LastPostUserID = @LastPostUserID, LastPostNickName = @LastPostNickName WHERE ThreadID = @ThreadID
	SELECT @E4 = @@error
	
	IF(@E1 = 0 AND @E2 = 0 AND @E3 = 0 AND @E4 = 0)
	BEGIN
        EXECUTE bx_SetPostFloor @NewThreadID;
        EXECUTE bx_SetPostFloor @ThreadID;
		COMMIT TRANSACTION
		UPDATE [bx_Forums] SET [TotalThreads] = TotalThreads+1, [TodayThreads]=TodayThreads+1,[LastThreadID]=@NewThreadID WHERE [ForumID] = @ForumID;
		EXECUTE bx_UpdateForumThreadCatalogsData @ForumID,@ThreadCatalogID
		RETURN (0)
	END
	ELSE
	BEGIN
		ROLLBACK TRANSACTION
		RETURN (-1)
	END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_SubjoinPointShowPrice</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_SubjoinPointShowPrice">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_SubjoinPointShowPrice
 @UserID   int
,@Point    int
AS
BEGIN
    SET NOCOUNT ON;
    UPDATE bx_PointShows SET ShowPoints = ShowPoints + @Point WHERE UserID = @UserID;
    RETURN @@ROWCOUNT;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Tag_GetUserBlogTags</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Tag_GetUserBlogTags">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Tag_GetUserBlogTags 
	@UserID int
AS
BEGIN
    SET NOCOUNT ON;
    
    SELECT * FROM
        [bx_Tags]
    WHERE
        [ID] IN (
			SELECT [TagID] FROM [bx_TagRelation] WHERE [Type] = 1 AND [TargetID] IN (
				SELECT [ArticleID] FROM [bx_BlogArticles] WHERE [UserID] = @UserID
			)
		)
    AND 
        [IsLock] = 0;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_Thread_UpdateThreadKeywords</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_Thread_UpdateThreadKeywords">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_Thread_UpdateThreadKeywords
    @ThreadID              int,
    @KeywordVersion        varchar(32),
    @Subject               nvarchar(256),
    @SubjectReverter       nvarchar(4000)
AS BEGIN


    SET NOCOUNT ON;

    IF @Subject IS NOT NULL BEGIN

        IF @KeywordVersion IS NOT NULL
            UPDATE bx_Threads SET Subject = @Subject, KeywordVersion = @KeywordVersion WHERE ThreadID = @ThreadID;
        ELSE
            UPDATE bx_Threads SET Subject = @Subject WHERE ThreadID = @ThreadID;

    END

    IF @SubjectReverter IS NOT NULL BEGIN

        UPDATE bx_ThreadReverters SET SubjectReverter = @SubjectReverter WHERE ThreadID = @ThreadID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_ThreadReverters (ThreadID, SubjectReverter) VALUES (@ThreadID, @SubjectReverter);

    END


END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateAlbumLogo</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateAlbumLogo">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateAlbumLogo
       @AlbumID        int
     , @Cover     nvarchar(200)
AS BEGIN
    SET NOCOUNT ON;

    UPDATE
        [bx_Albums]
    SET
        [Cover] = @Cover
       ,[UpdateDate] = GETDATE()
    WHERE
        [AlbumID] = @AlbumID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateAllUserPoints</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateAllUserPoints">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateAllUserPoints 
      @MaxPoint1    int
    , @MaxPoint2    int
    , @MaxPoint3    int
    , @MaxPoint4    int
    , @MaxPoint5    int
    , @MaxPoint6    int
    , @MaxPoint7    int
    , @MaxPoint8    int
    , @MinPoint1    int
    , @MinPoint2    int
    , @MinPoint3    int
    , @MinPoint4    int
    , @MinPoint5    int
    , @MinPoint6    int
    , @MinPoint7    int
    , @MinPoint8    int
AS
BEGIN
    SET NOCOUNT ON;
    UPDATE [bx_Users] SET 
        [Point_1]=CASE WHEN [Point_1] &gt; @MaxPoint1 THEN @MaxPoint1 ELSE 
            CASE WHEN [Point_1] &lt; @MinPoint1 THEN @MinPoint1 ELSE [Point_1] END 
        END
        ,[Point_2]=CASE WHEN [Point_2] &gt; @MaxPoint2 THEN @MaxPoint2 ELSE 
            CASE WHEN [Point_2] &lt; @MinPoint2 THEN @MinPoint2 ELSE [Point_2] END 
        END
        ,[Point_3]=CASE WHEN [Point_3] &gt; @MaxPoint3 THEN @MaxPoint3 ELSE 
            CASE WHEN [Point_3] &lt; @MinPoint3 THEN @MinPoint3 ELSE [Point_3] END 
        END
        ,[Point_4]=CASE WHEN [Point_4] &gt; @MaxPoint4 THEN @MaxPoint4 ELSE 
            CASE WHEN [Point_4] &lt; @MinPoint4 THEN @MinPoint4 ELSE [Point_4] END 
        END
        ,[Point_5]=CASE WHEN [Point_5] &gt; @MaxPoint5 THEN @MaxPoint5 ELSE 
            CASE WHEN [Point_5] &lt; @MinPoint5 THEN @MinPoint5 ELSE [Point_5] END 
        END
        ,[Point_6]=CASE WHEN [Point_6] &gt; @MaxPoint6 THEN @MaxPoint6 ELSE 
            CASE WHEN [Point_6] &lt; @MinPoint6 THEN @MinPoint6 ELSE [Point_6] END 
        END
        ,[Point_7]=CASE WHEN [Point_7] &gt; @MaxPoint7 THEN @MaxPoint7 ELSE 
            CASE WHEN [Point_7] &lt; @MinPoint7 THEN @MinPoint7 ELSE [Point_7] END 
        END
        ,[Point_8]=CASE WHEN [Point_8] &gt; @MaxPoint8 THEN @MaxPoint8 ELSE 
            CASE WHEN [Point_8] &lt; @MinPoint8 THEN @MinPoint8 ELSE [Point_8] END 
        END;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateAvatar</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateAvatar">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateAvatar
    @UserID           int
   ,@AvatarSrc        nvarchar(200)
   ,@Checked          bit
AS BEGIN
    SET NOCOUNT ON;

    UPDATE [bx_Users] SET [AvatarSrc] = @AvatarSrc WHERE [UserID] = @UserID; 
    UPDATE [bx_UserVars] SET EverAvatarChecked = @Checked WHERE [UserID] = @UserID;
    
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateEmail</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateEmail">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateEmail
     @UserID     int
    ,@Email      nvarchar(200)
AS BEGIN

    SET NOCOUNT ON;

    IF (EXISTS (SELECT * FROM [bx_Users] WHERE Email = @Email AND [UserID] &lt;&gt; @UserID))
        SELECT 0;
    ELSE BEGIN
        UPDATE bx_Users SET Email = @Email WHERE [UserID] = @UserID;
        SELECT 1;
    END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateFeedPrivacyType</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateFeedPrivacyType">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateFeedPrivacyType
     @PrivacyType     tinyint
    ,@ActionType      tinyint
    ,@TargetID        int
    ,@VisibleUserIDs  varchar(800)
    ,@AppID           uniqueidentifier
AS
BEGIN
	SET NOCOUNT ON;
    UPDATE [bx_Feeds] SET 
        [PrivacyType] = @PrivacyType
      , [VisibleUserIDs] = @VisibleUserIDs 
    WHERE [AppID] = @AppID AND [ActionType] = @ActionType AND [TargetID] = @TargetID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateForumData</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateForumData">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateForumData
	@ForumID int
AS
BEGIN
	SET NOCOUNT ON;

	DECLARE @TotalThreads int;
	DECLARE @TotalPosts int,@LastThreadID INT--@TodayThreads int,@TodayPosts int;

	SELECT @TotalThreads = COUNT(*) FROM [bx_Threads] WITH (NOLOCK) WHERE [ForumID] = @ForumID AND [ThreadStatus] &lt; 4;
	SELECT @TotalPosts = COUNT(*) FROM [bx_Posts] WITH (NOLOCK)  WHERE ForumID = @ForumID AND [SortOrder] &lt; 4000000000000000;
	SELECT @LastThreadID=ISNULL(ThreadID,0) FROM [bx_Posts] WITH(NOLOCK) WHERE PostID = (SELECT ISNULL(MAX(PostID),0) FROM [bx_Posts] T1 WITH (NOLOCK) WHERE T1.ForumID=@ForumID AND T1.SortOrder &lt; 4000000000000000)
	
	UPDATE [bx_Forums] SET [TotalThreads] = @TotalThreads, [TotalPosts] = @TotalPosts, [LastThreadID]=ISNULL(@LastThreadID,0) WHERE [ForumID] = @ForumID;
	
	SELECT * FROM bx_Forums WITH (NOLOCK) WHERE ForumID = @ForumID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateForumReadme</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateForumReadme">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateForumReadme
    @ForumID int,
    @Readme  ntext
AS
BEGIN
    SET NOCOUNT ON;
    UPDATE bx_Forums SET Readme=@Readme WHERE ForumID=@ForumID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateForumStatus</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateForumStatus">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateForumStatus
	@ForumIdentities varchar(8000),
	@ForumStatus tinyint
AS
	SET NOCOUNT ON

	BEGIN TRANSACTION
	
	IF @ForumStatus&lt;2 BEGIN
		EXEC ('Alter PROCEDURE bx_GetDisabledTriggerForumIDs
				@ForumIDs nvarchar(64) output
			AS
			BEGIN
				SET NOCOUNT ON;
				set @ForumIDs='''';
			END')
	END
	ELSE BEGIN

		EXEC ('Alter PROCEDURE bx_GetDisabledTriggerForumIDs
				@ForumIDs nvarchar(64) output
			AS
			BEGIN
				SET NOCOUNT ON;
				set @ForumIDs='''+@ForumIdentities+''';
			END')
	END

	IF @@ERROR&lt;&gt;0 BEGIN
		ROLLBACK TRANSACTION
		RETURN (-1)
	END

	EXEC ('Update [bx_Forums] SET ForumStatus='+@ForumStatus+' WHERE [ForumID] IN (' + @ForumIdentities + ') ') 
	
	IF @@ERROR&lt;&gt;0 BEGIN
		ROLLBACK TRANSACTION
		RETURN (-1)
	END

COMMIT TRANSACTION
RETURN 0;</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateForumThreadCatalogsData</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateForumThreadCatalogsData">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE [bx_UpdateForumThreadCatalogsData]
	@ForumID INT,
	@ThreadCatalogID INT
AS
BEGIN
	SET NOCOUNT ON;
	UPDATE [bx_ThreadCatalogsInForums] SET TotalThreads=(
		SELECT COUNT(1) FROM bx_Threads WITH(NOLOCK) WHERE ForumID=@ForumID AND ThreadCatalogID=@ThreadCatalogID AND SortOrder&lt;4000000000000000
		) WHERE ForumID=@ForumID AND ThreadCatalogID=@ThreadCatalogID
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateForumThreadCatalogStatus</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateForumThreadCatalogStatus">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateForumThreadCatalogStatus
    @ForumID                int,
    @ThreadCatalogStatus    tinyint
AS BEGIN
    SET NOCOUNT ON;
    
    UPDATE [bx_Forums] SET ThreadCatalogStatus = @ThreadCatalogStatus WHERE ForumID = @ForumID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateFriendHot</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateFriendHot">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateFriendHot
    @UserID int,
    @FriendUserID int,
    @Hot int
AS BEGIN

	SET NOCOUNT ON;

    UPDATE [bx_Friends] SET Hot = Hot + @Hot WHERE UserID = @UserID AND FriendUserID = @FriendUserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateFriendPointShow</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateFriendPointShow">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateFriendPointShow
     @UserID int
    ,@Points int
    ,@Username nvarchar(50)
AS
BEGIN
    SET NOCOUNT ON;
    DECLARE @ShowUserID int;
    DECLARE @FriendUserID int;

    SELECT @ShowUserID = UserID FROM bx_Users WHERE Username = @Username;

    IF @ShowUserID IS NULL BEGIN
        SELECT 4;--用户不存在
        RETURN;
    END

    SELECT @FriendUserID = FriendUserID FROM bx_Friends WHERE UserID = @UserID AND FriendUserID = @ShowUserID
    
    IF @FriendUserID IS NULL BEGIN
        SELECT 3;--不是好友
        RETURN;
    END


    IF EXISTS(SELECT * FROM bx_PointShows WHERE UserID = @FriendUserID)
        BEGIN
            UPDATE bx_PointShows SET ShowPoints = ShowPoints + @Points WHERE UserID = @FriendUserID
            
            SELECT 1;--更新
        END
    ELSE
        BEGIN
            INSERT INTO bx_PointShows(ShowPoints,UserID,Content) VALUES (@Points,@FriendUserID,'')
           
            SELECT 2;--新上榜
        END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateLastVisitor</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateLastVisitor">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateLastVisitor
     @UserID int
    ,@VisitorUserID int
    ,@CreateIP varchar(50)
AS
BEGIN
    SET NOCOUNT ON;

	DECLARE @OldCreateIP varchar(50)
	DECLARE @OldCreateDate datetime

	IF(@UserID &lt;&gt; @VisitorUserID AND EXISTS (SELECT * FROM bx_Users WHERE UserID = @VisitorUserID)) BEGIN

		SELECT @OldCreateIP = CreateIP,@OldCreateDate = CreateDate FROM bx_Visitors WHERE UserID = @UserID AND VisitorUserID = @VisitorUserID

		IF (@OldCreateIP IS NOT NULL) AND (@OldCreateDate IS NOT NULL) BEGIN

			UPDATE bx_Visitors SET CreateDate = GETDATE(),CreateIP = @CreateIP WHERE UserID = @UserID AND VisitorUserID = @VisitorUserID;
		END
		ELSE BEGIN
			INSERT INTO bx_Visitors(UserID,VisitorUserID,CreateIP) VALUES (@UserID,@VisitorUserID,@CreateIP);
		END

		UPDATE bx_Users SET SpaceViews = SpaceViews + 1 WHERE UserID = @UserID;

	    SELECT 'ResetUser' AS XCMD, UserID, SpaceViews FROM bx_Users WHERE UserID = @UserID;
	END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateLoginUserCount</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateLoginUserCount">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateLoginUserCount
@UserID      int
,@LoginIP    varchar(50)
AS
BEGIN
    SET NOCOUNT ON
    UPDATE [bx_Users] SET LastVisitIP = @LoginIP,LoginCount = LoginCount + 1  WHERE [UserID] = @UserID;
    
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateMaxSystemNotifyID</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateMaxSystemNotifyID">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateMaxSystemNotifyID
@UserID      int,
@NotifyID    int
AS
BEGIN
    SET NOCOUNT ON
    UPDATE bx_UserVars SET LastReadSystemNotifyID = @NotifyID WHERE UserID = @UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateMission</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateMission">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateMission
     @ID                int
    ,@CycleTime         int
    ,@SortOrder         int
           
    ,@Name              nvarchar(100)
    ,@IconUrl           nvarchar(200)
    ,@DeductPoint       nvarchar(100)

    ,@Prize             ntext
    ,@Description       ntext
    ,@ApplyCondition    ntext
    ,@FinishCondition   ntext

    ,@EndDate           DateTime
    ,@BeginDate         DateTime
    ,@IsEnable          bit

    ,@CategoryID        int
AS
BEGIN

	SET NOCOUNT ON;
    UPDATE [bx_Missions] SET
             [CycleTime] = @CycleTime
            ,[SortOrder] = @SortOrder

            ,[Name] = @Name
            ,[IconUrl] = @IconUrl
            ,[DeductPoint] = @DeductPoint

            ,[Prize] = @Prize
            ,[Description] = @Description
            ,[ApplyCondition] = @ApplyCondition
            ,[FinishCondition] = @FinishCondition

            ,[EndDate] = @EndDate
            ,[BeginDate] = @BeginDate
            ,[IsEnable] = @IsEnable
            ,[CategoryID] = @CategoryID
    WHERE 
            [ID]=@ID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateNewUserVars</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateNewUserVars">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateNewUserVars
    @GetVars bit
AS
BEGIN
    SET NOCOUNT ON;
    DECLARE @NewUserID int,@NewUsername nvarchar(50),@TotalUser int;
    
    SELECT TOP 1 @NewUserID=UserID,@NewUsername=Username FROM [bx_Users] WHERE [IsActive] = 1 AND [UserID]&lt;&gt;0 ORDER BY [UserID] DESC;
    
    SELECT @TotalUser=Count(*) FROM [bx_Users] WHERE [IsActive] = 1 AND [UserID]&lt;&gt;0;

    IF @NewUserID IS NOT NULL BEGIN
        IF EXISTS(SELECT * FROM [bx_Vars])
            UPDATE [bx_Vars] SET  NewUserID = @NewUserID, NewUsername = @NewUsername, TotalUsers = @TotalUser WHERE [ID]=(SELECT TOP 1 ID FROM [bx_Vars]);
        ELSE
            INSERT [bx_Vars] (NewUserID,NewUsername,TotalUsers)VALUES(@NewUserID,@NewUsername,@TotalUser);

        IF @GetVars = 1
            SELECT TOP 1 * FROM [bx_Vars];
        SELECT 'ResetVars' AS XCMD; --, * FROM [bx_Vars];
    END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateOnlineTime</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateOnlineTime">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE [bx_UpdateOnlineTime] 
 	@OnlineTimes varchar(8000),
 	@LastUpdateOnlineTimes varchar(8000),
 	@UserIDs varchar(8000)
AS
BEGIN
	SET NOCOUNT ON;


	DECLARE @i int,@j int,@OnlineTime int,@UserID int,@k int
	DECLARE @NewOnlineTimes varchar(8000),@NewMonthOnlineTimes varchar(8000),@NewWeekOnlineTimes varchar(8000),@NewDayOnlineTimes varchar(8000)
	SET @NewOnlineTimes=''
	SET @NewMonthOnlineTimes=''
	SET @NewWeekOnlineTimes=''
	SET @NewDayOnlineTimes=''

	SET @OnlineTimes = @OnlineTimes + N','
	SELECT @i = CHARINDEX(',', @OnlineTimes)

	SET @UserIDs = @UserIDs + N','
	SELECT @j = CHARINDEX(',', @UserIDs)

	SET @LastUpdateOnlineTimes = @LastUpdateOnlineTimes +N','
	SELECT @k = CHARINDEX(',', @LastUpdateOnlineTimes)
	
	DECLARE @Monday DateTime,@Now DateTime;
	SELECT @Now = GETDATE();
	DECLARE @m int;
	SELECT @m = DATEPART(weekday, @Now);
	IF @m = 1
		SELECT @m = 8;
	SELECT @Monday = CONVERT(varchar(12) , DATEADD(day, 2-@m, @Now),111);
	
	
	WHILE ( @i &gt; 1 ) BEGIN
			SELECT @OnlineTime = SUBSTRING(@OnlineTimes,0, @i)	
			SELECT @UserID = SUBSTRING(@UserIDs,0, @j)	
			
			declare @TotalOnlineTime int,@MonthOnlineTime int,@LastUpdateTime dateTime,@LastVisitDate datetime,@WeekOnlineTime int,@DayOnlineTime int;
			SELECT @LastUpdateTime = SUBSTRING(@LastUpdateOnlineTimes,0, @k)	
			SELECT @TotalOnlineTime=TotalOnlineTime, @MonthOnlineTime=MonthOnlineTime, @WeekOnlineTime = WeekOnlineTime, @DayOnlineTime = DayOnlineTime, @LastVisitDate = LastVisitDate FROM bx_Users WITH(NOLOCK) WHERE UserID=@UserID;
			
			IF (month(@LastVisitDate) &lt;&gt; month(@LastUpdateTime) OR year(@LastVisitDate) &lt;&gt; year(@LastUpdateTime))
				SET @MonthOnlineTime=@OnlineTime;
			ELSE IF(year(@LastUpdateTime)= year(getdate()) and month(@LastUpdateTime)= month(getdate()))
				SET @MonthOnlineTime=@MonthOnlineTime+@OnlineTime;
			ELSE
				SET @MonthOnlineTime=@OnlineTime;
				
			IF (day(@LastVisitDate) &lt;&gt; day(@LastUpdateTime) OR month(@LastVisitDate) &lt;&gt; month(@LastUpdateTime) OR year(@LastVisitDate) &lt;&gt; year(@LastUpdateTime))
				SET @DayOnlineTime=@OnlineTime;
			ELSE IF(year(@LastUpdateTime)= year(getdate()) and month(@LastUpdateTime)= month(getdate()) and day(@LastUpdateTime) = day(getdate()))
				SET @DayOnlineTime=@DayOnlineTime+@OnlineTime;
			else
				SET @DayOnlineTime=@OnlineTime;

			if @LastVisitDate &gt;= @Monday AND @LastUpdateTime&gt;=@Monday
				SET @WeekOnlineTime=@WeekOnlineTime+@OnlineTime;
			else
				SET @WeekOnlineTime=@OnlineTime;
				
				
			Update bx_Users SET TotalOnlineTime=TotalOnlineTime+@OnlineTime
								,MonthOnlineTime = @MonthOnlineTime
								,WeekOnlineTime = @WeekOnlineTime
								,DayOnlineTime = @DayOnlineTime
								,LastVisitDate=@LastUpdateTime WHERE UserID=@UserID;

			SET @NewOnlineTimes=@NewOnlineTimes+str(@TotalOnlineTime+@OnlineTime)+','
			SET @NewMonthOnlineTimes=@NewMonthOnlineTimes+str(@MonthOnlineTime)+','
			SET @NewWeekOnlineTimes = @NewWeekOnlineTimes + str(@WeekOnlineTime)+','
			SET @NewDayOnlineTimes = @NewDayOnlineTimes + str(@DayOnlineTime)+','
			
			SELECT @OnlineTimes = SUBSTRING(@OnlineTimes, @i + 1, LEN(@OnlineTimes) - @i)
			SELECT @UserIDs = SUBSTRING(@UserIDs, @j + 1, LEN(@UserIDs) - @j)

			SELECT @i = CHARINDEX(',',@OnlineTimes)
			SELECT @j = CHARINDEX(',',@UserIDs)
	END
	
	SELECT @NewOnlineTimes,@NewMonthOnlineTimes,@NewWeekOnlineTimes,@NewDayOnlineTimes
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdatePayItem</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdatePayItem">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdatePayItem
 @BuyerEmail      nvarchar(50)
,@OrderNo         varchar(50)
,@TransactionNo   nvarchar(200)
,@PayIp           varchar(50)
,@PayDate         datetime
AS
BEGIN

    SET NOCOUNT ON;

    DECLARE @UserID int;
    DECLARE @PayType tinyint;
    DECLARE @PayValue int;
    DECLARE @State bit;
    SELECT @UserID = UserID, @PayType = PayType, @PayValue=PayValue, @State = [State]  FROM bx_Pay WHERE OrderNo = @OrderNo;
    
    IF @State = 0 BEGIN
        UPDATE bx_Pay SET BuyerEmail=@BuyerEmail,TransactionNo = @TransactionNo,PayIp=@PayIp,PayDate=@PayDate,State=1 WHERE OrderNo = @OrderNo;


        DECLARE @P0 int,@P1 int, @P2 int, @P3 int, @P4 int, @P5 int, @P6 int, @P7 int;

        SET @P0=0;
        SET @P1=0;
        SET @P2=0;
        SET @P3=0;
        SET @P4=0;
        SET @P5=0;
        SET @P6=0;
        SET @P7=0;

        IF @PayType = 0 BEGIN
            UPDATE bx_Users SET Point_1 = Point_1 + @PayValue WHERE UserID = @UserID;
            SET @P0 = @PayValue;
        END
        ELSE IF @PayType = 1 BEGIN
            UPDATE bx_Users SET Point_2 = Point_2 + @PayValue WHERE UserID = @UserID;
            SET @P1 = @PayValue;     
        END
        ELSE IF @PayType = 2 BEGIN
            UPDATE bx_Users SET Point_3 = Point_3 + @PayValue WHERE UserID = @UserID;
            SET @P2 = @PayValue;     
        END
        ELSE IF @PayType = 3 BEGIN
            UPDATE bx_Users SET Point_4 = Point_4 + @PayValue WHERE UserID = @UserID;
            SET @P3 = @PayValue;     
        END
        ELSE IF @PayType = 4 BEGIN
            UPDATE bx_Users SET Point_5 = Point_5 + @PayValue WHERE UserID = @UserID;
            SET @P4 = @PayValue;     
        END
        ELSE IF @PayType = 5 BEGIN
            UPDATE bx_Users SET Point_6 = Point_6 + @PayValue WHERE UserID = @UserID;
            SET @P5 = @PayValue;     
        END
        ELSE IF @PayType = 6 BEGIN
            UPDATE bx_Users SET Point_7 = Point_7 + @PayValue WHERE UserID = @UserID;
            SET @P6 = @PayValue;   
        END  
        ELSE IF @PayType = 7 BEGIN
            UPDATE bx_Users SET Point_8 = Point_8 + @PayValue WHERE UserID = @UserID;
            SET @P7 = @PayValue;     
        END

        DECLARE @Cp0 int,@Cp1 int, @Cp2 int, @Cp3 int, @Cp4 int, @Cp5 int, @Cp6 int, @Cp7 int;


        SELECT @Cp0 = Point_1,@Cp1 = Point_2,@Cp2 = Point_3,@Cp3 = Point_4,@Cp4 = Point_5,
                @Cp5 = Point_6,@Cp6 = Point_7,@Cp7 = Point_8 FROM bx_Users WHERE UserID = @UserID;

        SELECT @UserID;

DECLARE @Remarks nvarchar(200);
SET @Remarks = N'订单号' + @OrderNo;
        EXEC bx_CreatePointLogs @UserID
        ,@P0
        ,@P1
        ,@P2
        ,@P3
        ,@P4
        ,@P5
        ,@P6
        ,@P7
        ,@Cp0
        ,@Cp1
        ,@Cp2
        ,@Cp3
        ,@Cp4
        ,@Cp5
        ,@Cp6
        ,@Cp7
        ,N'积分充值'
        ,@Remarks

    RETURN (1);

    END

    RETURN(0)
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdatePointShowPrice</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdatePointShowPrice">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdatePointShowPrice
 @UserID       int
,@AddPoints    int
,@Price        int
,@Content  nvarchar(500)
AS
BEGIN
SET NOCOUNT ON;
IF EXISTS( SELECT * FROM bx_PointShows WHERE UserID = @UserID ) BEGIN
    EXEC bx_SubjoinPointShowPrice @UserID,@AddPoints
    UPDATE bx_PointShows SET Price = @Price ,Content = @Content WHERE UserID = @UserID  AND ShowPoints &gt;= @Price;
    IF  @@ROWCOUNT&gt;0 BEGIN
    EXEC bx_GetMyPointShowInfo @UserID
        RETURN 0;
    END
    ELSE BEGIN
        RETURN 1;
    END
END
ELSE BEGIN
 RETURN -1;
END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdatePostContent</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdatePostContent">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdatePostContent
     @PostID   int,
     @Content  ntext
AS
BEGIN
	SET NOCOUNT ON;
    UPDATE [bx_Posts] SET [Content] = @Content WHERE [PostID] = @PostID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdatePostsShielded</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdatePostsShielded">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdatePostsShielded
	@PostIDs        varchar(8000),
	@IsShielded     bit
AS
	SET NOCOUNT ON
	EXEC('UPDATE [bx_Posts] SET IsShielded='+@IsShielded+' WHERE PostID IN('+@PostIDs+') AND IsShielded&lt;&gt;'+@IsShielded)</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateSortOrder</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateSortOrder">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE [bx_UpdateSortOrder]
	@PostType tinyint,--1正常,2置顶,3总置顶,4待审核,5回收站 
	@OldSortOrder bigint,
	@SortOrder bigint output
AS
BEGIN
	SET NOCOUNT ON;

	SET @SortOrder = (@OldSortOrder + (@PostType - FLOOR(@OldSortOrder / 1000000000000000)) * 1000000000000000);

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateSpaceTheme</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateSpaceTheme">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateSpaceTheme
     @UserID int
    ,@Theme nvarchar(50)
AS
BEGIN

    SET NOCOUNT ON;

    UPDATE bx_Users SET SpaceTheme = @Theme WHERE UserID = @UserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateStepByStepTasks</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateStepByStepTasks">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateStepByStepTasks
    @TaskID uniqueidentifier,
    @Param nvarchar(3500),
    @TotalCount int,
    @FinishedCount int,
    @Offset bigint,
    @Title nvarchar(100)
AS
BEGIN

    SET NOCOUNT ON;

    IF EXISTS (SELECT * FROM bx_StepByStepTasks WHERE TaskID = @TaskID) BEGIN

        UPDATE [bx_StepByStepTasks]
             SET [Param] = @Param,
                 [TotalCount] = @TotalCount,
                 [FinishedCount] = @FinishedCount,
                 [Offset] = @Offset,
                 [Title] = @Title,
                 [LastExecuteTime] = GETDATE()
           WHERE TaskID = @TaskID;

    END
    ELSE
        RETURN (1);

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateThreadCate</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateThreadCate">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateThreadCate
     @CateID     int
    ,@CateName   nvarchar(50)
    ,@Enable     bit
    ,@SortOrder  int
AS
BEGIN
	SET NOCOUNT ON;
    IF NOT EXISTS(SELECT * FROM bx_ThreadCates WHERE CateID = @CateID) BEGIN
        SELECT 0;
    END
    ELSE BEGIN
	    UPDATE bx_ThreadCates SET CateName = @CateName, Enable = @Enable, SortOrder = @SortOrder WHERE CateID = @CateID;
        SELECT 1;
    END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateThreadCateModelField</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateThreadCateModelField">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateThreadCateModelField
     @FieldID    int
    ,@FieldName  nvarchar(50)
    ,@Enable     bit
    ,@SortOrder  int
    ,@FieldTypeSetting  ntext
    ,@Search            bit
    ,@AdvancedSearch    bit
    ,@DisplayInList     bit
    ,@MustFilled        bit
    ,@Description       nvarchar(1000)
AS
BEGIN
	SET NOCOUNT ON;
	IF EXISTS(SELECT * FROM bx_ThreadCateModelFields WHERE FieldID = @FieldID) BEGIN
	    UPDATE bx_ThreadCateModelFields SET FieldName = @FieldName, Enable = @Enable, SortOrder = @SortOrder
                    ,FieldTypeSetting = @FieldTypeSetting , Search = @Search, AdvancedSearch = @AdvancedSearch, DisplayInList = @DisplayInList
                    ,MustFilled = @MustFilled, Description = @Description WHERE FieldID = @FieldID;
        SELECT 1;
    END
    ELSE
        SELECT 0;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateUserExtendedFieldVersion</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateUserExtendedFieldVersion">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateUserExtendedFieldVersion
	@UserID					int,
    @ExtendedFieldVersion	nchar(36)
AS BEGIN

	SET NOCOUNT ON;

	UPDATE [bx_Users] SET [ExtendedFieldVersion] = @ExtendedFieldVersion WHERE [UserID] = @UserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateUserExtendProfilePrivacy</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateUserExtendProfilePrivacy">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateUserExtendProfilePrivacy
@Key        varchar(36)
,@Privacy   tinyint
AS
BEGIN
    SET NOCOUNT ON
    UPDATE [bx_UserExtendedValues] SET PrivacyType = @Privacy  WHERE [ExtendedFieldID] = @Key;
    
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateUserGeneralPoint</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateUserGeneralPoint">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateUserGeneralPoint
     @UserID       int
AS
BEGIN
	SET NOCOUNT ON;

	DECLARE @MaxValue int;
	SET @MaxValue = 2147483647;
	SET ARITHABORT OFF;
	SET ANSI_WARNINGS OFF;
		
    UPDATE bx_Users SET Points = ISNULL([Point_1]+[Point_2]*10,@MaxValue) WHERE [UserID] = @UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateUserMissionFinishPercents</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateUserMissionFinishPercents">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateUserMissionFinishPercents
     @UserID             int
    ,@MissionIDs         varchar(8000)
    ,@Percents           varchar(8000)
AS
BEGIN
	SET NOCOUNT ON;
    
    IF CHARINDEX(',',@MissionIDs) = -1 BEGIN
        UPDATE [bx_UserMissions] SET [FinishPercent] = @Percents WHERE [UserID] = @UserID AND [MissionID] = @MissionIDs;
    END
    ELSE BEGIN
        DECLARE @MissionPercents table([MID] int IDENTITY(1, 1), [MissionID] int, [Percent] float);
        INSERT INTO @MissionPercents (MissionID) SELECT item FROM bx_GetIntTable(@MissionIDs, ',');
        UPDATE @MissionPercents SET [Percent] = P.[item] FROM bx_GetStringTable_varchar(@Percents, ',') P WHERE P.[id] = [MID];

        UPDATE [bx_UserMissions] SET 
                 [FinishPercent] = ISNULL(M.[Percent],0)  
        FROM @MissionPercents M 
        WHERE [UserID] = @UserID AND [bx_UserMissions].[MissionID] = M.[MissionID];
    END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateUserMissionStatus</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateUserMissionStatus">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateUserMissionStatus
     @UserID       int
    ,@MissionIDs   varchar(8000)
    ,@Status       tinyint
AS
BEGIN
	SET NOCOUNT ON;
    IF CHARINDEX(',',@MissionIDs) = -1
        UPDATE [bx_UserMissions] SET [Status] = @Status WHERE [UserID] = @UserID AND [MissionID] = @MissionIDs;
    ELSE BEGIN
		DECLARE @sql varchar(200);
		SET @sql = 'UPDATE [bx_UserMissions] SET [Status] = ' + CAST(@Status as varchar(5)) + ' WHERE [UserID] = ' + CAST(@UserID as varchar(10)) + ' AND [MissionID] IN('+@MissionIDs+')';
        EXEC(@sql);
	END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateUsername</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateUsername">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateUsername 
@UserID     int
,@Username   nvarchar(50)
AS
BEGIN
    SET NOCOUNT ON
    UPDATE bx_Users SET [Username] = @Username WHERE [UserID] = @UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateUserPoint</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateUserPoint">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateUserPoint 
      @UserID    int  
    , @ThrowOverMinValueError   bit
    , @ThrowOverMaxValueError   bit

    , @Point1    int
    , @Point2    int
    , @Point3    int
    , @Point4    int
    , @Point5    int
    , @Point6    int
    , @Point7    int
    , @Point8    int

    , @MinPoint1    int
    , @MinPoint2    int
    , @MinPoint3    int
    , @MinPoint4    int
    , @MinPoint5    int
    , @MinPoint6    int
    , @MinPoint7    int
    , @MinPoint8    int

    , @MaxPoint1    int
    , @MaxPoint2    int
    , @MaxPoint3    int
    , @MaxPoint4    int
    , @MaxPoint5    int
    , @MaxPoint6    int
    , @MaxPoint7    int
    , @MaxPoint8    int
    , @Operate      nvarchar(50)
    , @Remarks      nvarchar(200)
AS
BEGIN
    SET NOCOUNT ON;
    
    DECLARE @UserPoint1 int,@UserPoint2 int,@UserPoint3 int,@UserPoint4 int,@UserPoint5 int,@UserPoint6 int,@UserPoint7 int,@UserPoint8 int;
    SELECT @UserPoint1=Point_1,@UserPoint2=Point_2,@UserPoint3=Point_3,@UserPoint4=Point_4,@UserPoint5=Point_5,@UserPoint6=Point_6,@UserPoint7=Point_7,@UserPoint8=Point_8
            FROM [bx_Users] WHERE [UserID]=@UserID;

    IF @Point1&lt;0 AND (@UserPoint1+@Point1)&lt;@MinPoint1 BEGIN
        IF @ThrowOverMinValueError = 1 BEGIN
            SELECT -1 AS Code,@UserPoint1 AS UserPoint;
            RETURN;
        END
        ELSE
            SET @UserPoint1=@MinPoint1;
    END
    ELSE IF @Point1&lt;0
        SET @UserPoint1=@UserPoint1+@Point1;

    IF @Point2&lt;0 AND (@UserPoint2+@Point2)&lt;@MinPoint2 BEGIN
        IF @ThrowOverMinValueError = 1 BEGIN
            SELECT -2 AS Code,@UserPoint2 AS UserPoint;
            RETURN;
        END
        ELSE
            SET @UserPoint2=@MinPoint2;
    END
    ELSE IF @Point2&lt;0
        SET @UserPoint2=@UserPoint2+@Point2;

    IF @Point3&lt;0 AND (@UserPoint3+@Point3)&lt;@MinPoint3 BEGIN
        IF @ThrowOverMinValueError = 1 BEGIN
            SELECT -3 AS Code,@UserPoint3 AS UserPoint;
            RETURN;
        END
        ELSE
            SET @UserPoint3=@MinPoint3;
    END
    ELSE IF @Point3&lt;0
        SET @UserPoint3=@UserPoint3+@Point3;

    IF @Point4&lt;0 AND (@UserPoint4+@Point4)&lt;@MinPoint4 BEGIN
        IF @ThrowOverMinValueError = 1 BEGIN
            SELECT -4 AS Code,@UserPoint4 AS UserPoint;
            RETURN;
        END
        ELSE
            SET @UserPoint4=@MinPoint4;
    END
    ELSE IF @Point4&lt;0
        SET @UserPoint4=@UserPoint4+@Point4;

    IF @Point5&lt;0 AND (@UserPoint5+@Point5)&lt;@MinPoint5 BEGIN
        IF @ThrowOverMinValueError = 1 BEGIN
            SELECT -5 AS Code,@UserPoint5 AS UserPoint;
            RETURN;
        END
        ELSE
            SET @UserPoint5=@MinPoint5;
    END
    ELSE IF @Point5&lt;0
        SET @UserPoint5=@UserPoint5+@Point5;

    IF @Point6&lt;0 AND (@UserPoint6+@Point6)&lt;@MinPoint6 BEGIN
        IF @ThrowOverMinValueError = 1 BEGIN
            SELECT -6 AS Code,@UserPoint6 AS UserPoint;
            RETURN;
        END
        ELSE
            SET @UserPoint6=@MinPoint6;
    END
    ELSE IF @Point6&lt;0
        SET @UserPoint6=@UserPoint6+@Point6;

    IF @Point7&lt;0 AND (@UserPoint7+@Point7)&lt;@MinPoint7 BEGIN
        IF @ThrowOverMinValueError = 1 BEGIN
            SELECT -7 AS Code,@UserPoint7 AS UserPoint;
            RETURN;
        END
        ELSE
            SET @UserPoint7=@MinPoint7;
    END
    ELSE IF @Point7&lt;0
        SET @UserPoint7=@UserPoint7+@Point7;

    IF @Point8&lt;0 AND (@UserPoint8+@Point8)&lt;@MinPoint8 BEGIN
        IF @ThrowOverMinValueError = 1 BEGIN
            SELECT -8 AS Code,@UserPoint8 AS UserPoint;
            RETURN;
        END
        ELSE
            SET @UserPoint8=@MinPoint8;
    END
    ELSE IF @Point8&lt;0
        SET @UserPoint8=@UserPoint8+@Point8;


    IF @Point1&gt;0 AND (@UserPoint1+@Point1)&gt;@MaxPoint1 BEGIN
        IF @ThrowOverMaxValueError = 1 BEGIN
            SELECT 1 AS Code,@UserPoint1 AS UserPoint;
            RETURN;
        END
        ELSE
            SET @UserPoint1=@MaxPoint1;
    END
    ELSE IF @Point1&gt;0
        SET @UserPoint1=@UserPoint1+@Point1;

    IF @Point2&gt;0 AND (@UserPoint2+@Point2)&gt;@MaxPoint2 BEGIN
        IF @ThrowOverMaxValueError = 1 BEGIN
            SELECT 2 AS Code,@UserPoint2 AS UserPoint;
            RETURN;
        END
        ELSE
            SET @UserPoint2=@MaxPoint2;
    END
    ELSE IF @Point2&gt;0
        SET @UserPoint2=@UserPoint2+@Point2;

    IF @Point3&gt;0 AND (@UserPoint3+@Point3)&gt;@MaxPoint3 BEGIN
        IF @ThrowOverMaxValueError = 1 BEGIN
            SELECT 3 AS Code,@UserPoint3 AS UserPoint;
            RETURN;
        END
        ELSE
            SET @UserPoint3=@MaxPoint3;
    END
    ELSE IF @Point3&gt;0
        SET @UserPoint3=@UserPoint3+@Point3;

    IF @Point4&gt;0 AND (@UserPoint4+@Point4)&gt;@MaxPoint4 BEGIN
        IF @ThrowOverMaxValueError = 1 BEGIN
            SELECT 4 AS Code,@UserPoint4 AS UserPoint;
            RETURN;
        END
        ELSE
            SET @UserPoint4=@MaxPoint4;
    END
    ELSE IF @Point4&gt;0
        SET @UserPoint4=@UserPoint4+@Point4;

    IF @Point5&gt;0 AND (@UserPoint5+@Point5)&gt;@MaxPoint5 BEGIN
        IF @ThrowOverMaxValueError = 1 BEGIN
            SELECT 5 AS Code,@UserPoint5 AS UserPoint;
            RETURN;
        END
        ELSE
            SET @UserPoint5=@MaxPoint5;
    END
    ELSE IF @Point5&gt;0
        SET @UserPoint5=@UserPoint5+@Point5;

    IF @Point6&gt;0 AND (@UserPoint6+@Point6)&gt;@MaxPoint6 BEGIN
        IF @ThrowOverMaxValueError = 1 BEGIN
            SELECT 6 AS Code,@UserPoint6 AS UserPoint;
            RETURN;
        END
        ELSE
            SET @UserPoint6=@MaxPoint6;
    END
    ELSE IF @Point6&gt;0
        SET @UserPoint6=@UserPoint6+@Point6;

    IF @Point7&gt;0 AND (@UserPoint7+@Point7)&gt;@MaxPoint7 BEGIN
        IF @ThrowOverMaxValueError = 1 BEGIN
            SELECT 7 AS Code,@UserPoint7 AS UserPoint;
            RETURN;
        END
        ELSE
            SET @UserPoint7=@MaxPoint7;
    END
    ELSE IF @Point7&gt;0
        SET @UserPoint7=@UserPoint7+@Point7;

    IF @Point8&gt;0 AND (@UserPoint8+@Point8)&gt;@MaxPoint8 BEGIN
        IF @ThrowOverMaxValueError = 1 BEGIN
            SELECT 8 AS Code,@UserPoint8 AS UserPoint;
            RETURN;
        END
        ELSE
            SET @UserPoint8=@MaxPoint8;
    END
    ELSE IF @Point8&gt;0
        SET @UserPoint8=@UserPoint8+@Point8;

    UPDATE [bx_Users] SET [Point_1] = @UserPoint1, [Point_2] = @UserPoint2, [Point_3] = @UserPoint3
    , [Point_4] = @UserPoint4, [Point_5] = @UserPoint5, [Point_6] = @UserPoint6, [Point_7] = @UserPoint7, [Point_8] = @UserPoint8 WHERE [UserID]=@UserID;
 

    EXECUTE bx_UpdateUserGeneralPoint @UserID;    

    SELECT [Points],[Point_1],[Point_2],[Point_3],[Point_4],[Point_5],[Point_6],[Point_7],[Point_8] FROM [bx_Users] WHERE [UserID] = @UserID;

    EXEC bx_CreatePointLogs @UserID, @Point1, @Point2 , @Point3, @Point4, @Point5 , @Point6  , @Point7 , @Point8
, @UserPoint1 ,@UserPoint2 ,@UserPoint3 ,@UserPoint4 ,@UserPoint5 ,@UserPoint6 ,@UserPoint7 ,@UserPoint8
, @Operate, @Remarks
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateUserReplyReturnThreadLastPage</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateUserReplyReturnThreadLastPage">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateUserReplyReturnThreadLastPage
	 @ReplyReturnThreadLastPage   bit
    ,@UserID    int
AS BEGIN

	SET NOCOUNT ON;

	UPDATE [bx_UserVars] SET ReplyReturnThreadLastPage = @ReplyReturnThreadLastPage WHERE UserID = @UserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateUsersDatas</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateUsersDatas">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateUsersDatas
    @StartUserID            int,
    @UpdateCount            int,
    @UpdatePostCount        bit,
    @UpdateBlogCount        bit,
    @UpdateInviteCount      bit,
    @UpdateCommentCount     bit,
    @UpdatePictureCount     bit,
    @UpdateShareCount       bit,
    @UpdateDoingCount       bit,
    @UpdateDiskFileCount    bit
AS BEGIN
    SET NOCOUNT ON;
    
    EXEC('
    DECLARE @UserDatas table(TempID int identity(1,1),UID int,TopicCount int,PostCount int, BlogCount int,InviteCount int,
    CommentCount int,ShareCount int,CollectionCount int,AlbumCount int,PhotoCount int,DoingCount int,DiskFileCount int);

    INSERT INTO @UserDatas(UID)
    SELECT TOP '+ @UpdateCount + ' UserID FROM bx_Users WHERE UserID&gt;='+@StartUserID+' AND [IsActive]=1;
    IF @@RowCount = 0
        SELECT -1;    

    IF '+ @UpdatePostCount + '  = 1 BEGIN
        UPDATE @UserDatas SET TopicCount= ISNULL(T.TotalCount,0) FROM(
        SELECT COUNT(*) AS TotalCount,PostUserID FROM bx_Threads as Temp WITH(NOLOCK) INNER JOIN @UserDatas as U  on Temp.PostUserID = U.UID WHERE ThreadStatus &lt; 4  Group by PostUserID
        ) AS T RIGHT JOIN @UserDatas AS U ON UID=T.PostUserID;

        UPDATE @UserDatas SET PostCount= ISNULL(T.TotalCount,0) FROM(
        SELECT COUNT(*) AS TotalCount,UserID FROM bx_Posts as Temp WITH(NOLOCK) INNER JOIN @UserDatas as U  on Temp.UserID = U.UID  WHERE SortOrder&lt;4000000000000000 Group by UserID
        ) AS T RIGHT JOIN @UserDatas AS U ON UID=T.UserID;
    END

    IF '+ @UpdateBlogCount + '  = 1
        UPDATE @UserDatas SET BlogCount= ISNULL(T.TotalCount,0) FROM(
        SELECT COUNT(*) AS TotalCount,UserID FROM bx_BlogArticles as Temp WITH(NOLOCK) INNER JOIN @UserDatas as U  on Temp.UserID = U.UID  WHERE IsApproved=1 Group by UserID
        ) AS T RIGHT JOIN @UserDatas ON UID=T.UserID;

    IF '+ @UpdateInviteCount + '  = 1
        UPDATE @UserDatas SET InviteCount= ISNULL(T.TotalCount,0) FROM(
        SELECT COUNT(*) AS TotalCount,InviterID FROM bx_UserInfos as Temp WITH(NOLOCK) INNER JOIN @UserDatas as U  on Temp.InviterID = U.UID  Group by InviterID
        ) AS T RIGHT JOIN @UserDatas ON UID=T.InviterID;

    IF '+ @UpdateCommentCount + '  = 1
        UPDATE @UserDatas SET CommentCount= ISNULL(T.TotalCount,0) FROM(
        SELECT COUNT(*) AS TotalCount,UserID FROM bx_Comments as Temp WITH(NOLOCK) INNER JOIN @UserDatas as U  on Temp.UserID = U.UID  WHERE IsApproved=1 Group by UserID
        ) AS T RIGHT JOIN @UserDatas ON UID=T.UserID;

    IF '+ @UpdateShareCount + '  = 1 BEGIN
        UPDATE @UserDatas SET CollectionCount= ISNULL(T.TotalCount,0) FROM(
        SELECT COUNT(*) AS TotalCount,UserID FROM bx_UserShares as Temp WITH(NOLOCK) INNER JOIN @UserDatas as U  on Temp.UserID = U.UID WHERE PrivacyType=2 Group by UserID
        ) AS T RIGHT JOIN @UserDatas ON UID=T.UserID;

        UPDATE @UserDatas SET ShareCount= ISNULL(T.TotalCount,0) FROM(
        SELECT COUNT(*) AS TotalCount,UserID FROM bx_UserShares as Temp WITH(NOLOCK) INNER JOIN @UserDatas as U  on Temp.UserID = U.UID WHERE PrivacyType&lt;&gt;2 Group by UserID
        ) AS T RIGHT JOIN @UserDatas ON UID=T.UserID;
    END

    IF '+ @UpdatePictureCount + '  = 1 BEGIN
        UPDATE @UserDatas SET AlbumCount= ISNULL(T.TotalCount,0) FROM(
        SELECT COUNT(*) AS TotalCount,UserID FROM bx_Albums as Temp WITH(NOLOCK) INNER JOIN @UserDatas as U  on Temp.UserID = U.UID  Group by UserID
        ) AS T RIGHT JOIN @UserDatas ON UID=T.UserID;

        UPDATE @UserDatas SET PhotoCount= ISNULL(T.TotalCount,0) FROM(
        SELECT COUNT(*) AS TotalCount,UserID FROM bx_Photos as Temp WITH(NOLOCK) INNER JOIN @UserDatas as U  on Temp.UserID = U.UID  Group by UserID
        ) AS T RIGHT JOIN @UserDatas ON UID=T.UserID;
    END

    IF '+ @UpdateDoingCount + '  = 1
        UPDATE @UserDatas SET DoingCount= ISNULL(T.TotalCount,0) FROM(
        SELECT COUNT(*) AS TotalCount,UserID FROM bx_Doings as Temp WITH(NOLOCK) INNER JOIN @UserDatas as U  on Temp.UserID = U.UID  Group by UserID
        ) AS T RIGHT JOIN @UserDatas ON UID=T.UserID;

    IF '+ @UpdateDiskFileCount + '  = 1
        UPDATE @UserDatas SET DiskFileCount= ISNULL(T.TotalCount,0) FROM(
        SELECT COUNT(*) AS TotalCount,UserID FROM bx_DiskFiles as Temp WITH(NOLOCK) INNER JOIN @UserDatas as U  on Temp.UserID = U.UID Group by UserID
        ) AS T RIGHT JOIN @UserDatas ON UID=T.UserID;

    UPDATE bx_Users
    SET TotalInvite = ISNULL(InviteCount,TotalInvite)
        ,TotalTopics = ISNULL(TopicCount,TotalTopics)
        ,TotalPosts = ISNULL(PostCount,TotalPosts)
        ,TotalComments = ISNULL(CommentCount,TotalComments)
        ,TotalShares = ISNULL(ShareCount,TotalShares)
        ,TotalCollections = ISNULL(CollectionCount,TotalCollections)
        ,TotalBlogArticles = ISNULL(BlogCount,TotalBlogArticles)
        ,TotalAlbums = ISNULL(AlbumCount,TotalAlbums)
        ,TotalPhotos = ISNULL(PhotoCount,TotalPhotos)
        ,TotalDoings = ISNULL(DoingCount,TotalDoings)
    FROM @UserDatas
    WHERE UserID = UID;

    UPDATE bx_UserVars
    SET TotalDiskFiles = ISNULL(DiskFileCount,TotalDiskFiles)
    FROM @UserDatas
    WHERE UserID = UID;


    SELECT Max(UID)+1 FROM @UserDatas;
    ');
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateUserSelectFriendGroupID</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateUserSelectFriendGroupID">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateUserSelectFriendGroupID
	 @GroupID   int
    ,@UserID    int
AS BEGIN

	SET NOCOUNT ON;

	UPDATE [bx_UserVars] SET SelectFriendGroupID = @GroupID WHERE UserID = @UserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UpdateVars</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UpdateVars">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UpdateVars
     @MaxPosts         int
    ,@NewUserID        int
    ,@TotalUsers       int
    ,@YestodayPosts    int
    ,@YestodayTopics   int
    ,@MaxOnlineCount   int
    ,@MaxPostDate      datetime
    ,@MaxOnlineDate    datetime
    ,@LastResetDate    datetime
    ,@NewUsername      nvarchar(50)
AS
BEGIN
    SET NOCOUNT ON;
    IF EXISTS(SELECT * FROM [bx_Vars]) BEGIN
        UPDATE [bx_Vars] SET [MaxPosts]=@MaxPosts,[NewUserID]=@NewUserID,[TotalUsers]=@TotalUsers,[YestodayPosts]=@YestodayPosts,[MaxOnlineCount]=@MaxOnlineCount
                              ,[MaxPostDate]=@MaxPostDate,[MaxOnlineDate]=@MaxOnlineDate,[NewUsername]=@NewUsername
                              ,[YestodayTopics]=@YestodayTopics,[LastResetDate]=@LastResetDate
        WHERE [ID]=(SELECT TOP 1 ID FROM [bx_Vars]) AND (DATEPART(year,[LastResetDate]) &lt;&gt; DATEPART (year, getdate()) OR DATEPART(month,[LastResetDate]) &lt;&gt; DATEPART (month, getdate()) OR DATEPART(day,[LastResetDate]) &lt;&gt; DATEPART (day, getdate()));
    END
    ELSE BEGIN
        INSERT INTO [bx_Vars]([MaxPosts],[NewUserID],[TotalUsers],[YestodayPosts],[YestodayTopics],[MaxOnlineCount],[MaxPostDate],[MaxOnlineDate],[LastResetDate],[NewUsername])VALUES(@MaxPosts,@NewUserID,@TotalUsers,@YestodayPosts,@YestodayTopics,@MaxOnlineCount,@MaxPostDate,@MaxOnlineDate,@LastResetDate,@NewUsername);
    END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_User_UpdateLastVisitIP</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_User_UpdateLastVisitIP">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_User_UpdateLastVisitIP
     @UserID     int
    ,@NewIP      varchar(50)
AS BEGIN

    SET NOCOUNT ON;

    UPDATE bx_Users SET LastVisitIP = @NewIP WHERE [UserID] = @UserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_User_UpdateSkinID</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_User_UpdateSkinID">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_User_UpdateSkinID
     @UserID     int
    ,@SkinID     nvarchar(256)
AS BEGIN

    SET NOCOUNT ON;

    UPDATE bx_UserVars SET SkinID = @SkinID WHERE [UserID] = @UserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_User_UpdateUserKeywords</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_User_UpdateUserKeywords">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_User_UpdateUserKeywords
    @UserID               int,
    @KeywordVersion       varchar(32),
    @Signature            nvarchar(1500),
    @SignatureReverter    nvarchar(4000)
AS BEGIN


    SET NOCOUNT ON;

    IF @Signature IS NOT NULL BEGIN

        IF @KeywordVersion IS NOT NULL
            UPDATE bx_Users SET Signature = @Signature, KeywordVersion = @KeywordVersion WHERE UserID = @UserID;
        ELSE
            UPDATE bx_Users SET Signature = @Signature WHERE UserID = @UserID;

    END

    IF @SignatureReverter IS NOT NULL BEGIN

        UPDATE bx_UserReverters SET SignatureReverter = @SignatureReverter WHERE UserID = @UserID;
        IF @@ROWCOUNT = 0
            INSERT INTO bx_UserReverters (UserID, SignatureReverter) VALUES (@UserID, @SignatureReverter);

    END


END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_UserInviteSerialStatInfo</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_UserInviteSerialStatInfo">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_UserInviteSerialStatInfo 
@UserID      int 
AS
BEGIN
SET NOCOUNT ON;
SELECT * FROM bx_SerialCounter WHERE UserID = @UserID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_AddPolemizeUser</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_AddPolemizeUser">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_AddPolemizeUser 
    @ThreadID int, 
	@UserID int,
	@ViewPointType tinyint
AS
	SET NOCOUNT ON;
	
	IF(NOT EXISTS (SELECT * FROM [bx_Polemizes] WITH (NOLOCK) WHERE ThreadID=@ThreadID AND ExpiresDate&gt;GETDATE()))
		RETURN (1) --过期了
	
	DECLARE @ViewPoint TINYINT
	SELECT @ViewPoint=ViewPointType FROM [bx_PolemizeUsers] WITH (NOLOCK) WHERE ThreadID=@ThreadID AND UserID=@UserID
	IF @ViewPoint = 0 --已支持过正方观点
		RETURN (2)
	ELSE IF @ViewPoint = 1 --已支持过反方观点
		RETURN (3)
	ELSE IF @ViewPoint = 2 --已支持过中方观点
		RETURN (4)
		
	INSERT INTO [bx_PolemizeUsers](ThreadID,UserID,ViewPointType) VALUES(@ThreadID,@UserID,@ViewPointType)
		
	IF @ViewPointType = 0 BEGIN
		UPDATE [bx_Polemizes] SET AgreeCount=AgreeCount+1 WHERE ThreadID=@ThreadID
	END
	ELSE IF @ViewPointType = 1 BEGIN
		UPDATE [bx_Polemizes] SET AgainstCount=AgainstCount+1 WHERE ThreadID=@ThreadID
	END
	ELSE IF @ViewPointType = 2 BEGIN
		UPDATE [bx_Polemizes] SET NeutralCount=NeutralCount+1 WHERE ThreadID=@ThreadID
	END
	
    EXECUTE bx_v5_GetThreadExtendData @ThreadID,4; 
	RETURN (0);</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_ApprovePosts</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_ApprovePosts">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_ApprovePosts 
	@PostIdentities varchar(8000)
AS
	SET NOCOUNT ON
	
	EXEC('SELECT DISTINCT(ThreadID) FROM [bx_Posts] WITH (NOLOCK) WHERE PostID IN('+@PostIdentities+') AND SortOrder &gt;= 5000000000000000')
	
	
	DECLARE @TempTable table(tempId int IDENTITY(1, 1),TempPostID int,TempSortOrder bigint);
	
	INSERT INTO @TempTable(TempPostID) SELECT item FROM bx_GetIntTable(@PostIdentities, ',');
	
	UPDATE @TempTable SET TempSortOrder = SortOrder FROM [bx_Posts] WHERE TempPostID = PostID;
	
	DECLARE @i int,@Total int;
	SET @i = 0;
	SELECT @Total = COUNT(*) FROM @TempTable;
	
	WHILE(@i&lt;@Total) BEGIN
		SET @i = @i + 1;
		DECLARE @SortOrder bigint,@OldSortOrder bigint;
	
		SELECT @OldSortOrder = TempSortOrder FROM @TempTable WHERE tempId = @i;
		EXEC [bx_UpdateSortOrder] 1, @OldSortOrder, @SortOrder OUTPUT;
		
		UPDATE @TempTable SET TempSortOrder = @SortOrder WHERE tempId = @i; 
	END
	
	UPDATE [bx_Posts] SET SortOrder=TempSortOrder FROM @TempTable WHERE PostID = TempPostID AND SortOrder &gt;= 5000000000000000;</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_CreateAttachmentExchange</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_CreateAttachmentExchange">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_CreateAttachmentExchange
	@AttachmentID       int, 
	@UserID             int,
	@Price              int
AS
BEGIN
	SET NOCOUNT ON;
	
	IF EXISTS(SELECT * FROM bx_AttachmentExchanges WITH (NOLOCK) WHERE AttachmentID=@AttachmentID AND UserID=@UserID)
		RETURN 0;
	Insert into bx_AttachmentExchanges(AttachmentID,UserID,Price,CreateDate) values(@AttachmentID,@UserID,@Price,getdate())
	IF(@@ROWCOUNT&gt;0)
		RETURN 0
	ELSE
		RETURN 1

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_CreateForum</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_CreateForum">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_CreateForum
	@ParentID int,
	@ForumType tinyint,
	@CodeName nvarchar(128),
	@ForumName nvarchar(1024),
	@Description ntext,
	@Readme ntext,
	@LogoUrl nvarchar(256),
	@ThemeID nvarchar(64),
	@Password nvarchar(64),
	@ExtendedAttributes [ntext],
	@ForumID int output,
	@ThreadCatalogStatus tinyint,
	@ColumnSpan tinyint,
	@SortOrder int
AS
	SET NOCOUNT ON 
	
	IF(EXISTS (SELECT * FROM [bx_Forums] WITH (NOLOCK) WHERE CodeName=@CodeName))
	begin
	set @ForumID = 0
	RETURN (13)	
	end
	
	IF ((@ParentID=0) OR (EXISTS (SELECT * FROM [bx_Forums] WITH (NOLOCK) WHERE ForumID=@ParentID)) )
	BEGIN
	
	DECLARE @Condition varchar(50)
	SET @Condition='ParentID='+str(@ParentID)
	
	INSERT INTO [bx_Forums] (
	[ParentID],
	[ForumType],
	[ThreadCatalogStatus],
	[CodeName],
	[ForumName],
	[Description],
	[Readme],
	[LogoSrc],
	[ThemeID],
	[Password],
	[SortOrder],
	[ExtendedAttributes],
	[ColumnSpan]
) VALUES (
	@ParentID,
	@ForumType,
	@ThreadCatalogStatus,
	@CodeName,
	@ForumName,
	@Description,
	@Readme,
	@LogoUrl,
	@ThemeID,
	@Password,
	@SortOrder,
	@ExtendedAttributes,
	@ColumnSpan
)
		set @ForumID = @@IDENTITY;
		RETURN (0)
	END
	
	ELSE
	begin
	set @ForumID = 0
		RETURN (-1)
		end</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_CreatePolemize</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_CreatePolemize">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_CreatePolemize
    @ForumID                    int,
	@ThreadCatalogID            int,
	@ThreadStatus               tinyint,

	@IconID                     int,
	@Subject                    nvarchar(256),
	@SubjectStyle               nvarchar(300),
	@UserID                     int,
	@NickName                   nvarchar(64),
	@IsLocked                   bit,
	@IsValued                   bit,

	@Content                    ntext,
	@ContentFormat              tinyint,
	@EnableSignature            bit,
	@EnableReplyNotice          bit,
	@IPAddress                  nvarchar(64),

	@AgreeViewPoint             ntext,
	@AgainstViewPoint           ntext,
	@ExpiresDate                datetime,

	@AttachmentIds              varchar(8000),
	@AttachmentFileNames        ntext,
	@AttachmentFileIds          text,
	@AttachmentFileSizes        varchar(8000),
	@AttachmentPrices           varchar(8000),
	@AttachmentFileExtNames     ntext,
	@HistoryAttachmentIDs       varchar(500),

	@ThreadRandNumber           int,
	@UserTotalThreads           int output,
	@UserTotalPosts             int output,
    @ExtendData                 ntext
   ,@TopMarkCount               int
   ,@TempPostID                 int
   ,@AttachmentType             tinyint
   ,@Words                      nvarchar(400)
AS
BEGIN
	SET NOCOUNT ON;

    DECLARE @ErrorCount int;
    SET @ErrorCount = 0;

    BEGIN TRAN

	DECLARE @ReturnValue     int;
    DECLARE @ThreadID int, @PostID int

	EXECUTE @ReturnValue = [bx_v5_CreateThread]
		@ForumID,
		@ThreadCatalogID,
		@ThreadStatus,
		4,
		@IconID,
		@Subject,
		@SubjectStyle,
		0,
		@UserID,
		@NickName,
		@IsLocked,
		@IsValued,
		@Content,
		@ContentFormat,
		@EnableSignature,
		@EnableReplyNotice,
		@IPAddress,

		@AttachmentIds,
		@AttachmentFileNames,
		@AttachmentFileIds,
		@AttachmentFileSizes,
		@AttachmentPrices,
		@AttachmentFileExtNames,
		@HistoryAttachmentIDs,
		
		@ThreadRandNumber,
		@UserTotalThreads output,
		@UserTotalPosts output,
        @ThreadID output,
        @PostID output,
        @ExtendData,
        @TopMarkCount,
        @TempPostID,
        @AttachmentType,
        @Words
    SET @ErrorCount = @ErrorCount + @@error;

    IF @ReturnValue = -1
        SET @ErrorCount = @ErrorCount + 1;
    INSERT INTO [bx_Polemizes]
       ([ThreadID]
       ,[AgreeViewPoint]
       ,[AgainstViewPoint]
       ,[ExpiresDate])
     VALUES
       (@ThreadID
       ,@AgreeViewPoint
       ,@AgainstViewPoint
       ,@ExpiresDate);
    SET @ErrorCount = @ErrorCount + @@error;

	EXEC [bx_DoCreateStat] @ForumID,30, 1
    SET @ErrorCount = @ErrorCount + @@error;

	IF @ErrorCount &gt; 0 BEGIN
        ROLLBACK TRAN
        RETURN -1;
    END
    ELSE BEGIN
        COMMIT TRAN
        RETURN 0;
    END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_CreatePoll</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_CreatePoll">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_CreatePoll
    @ForumID                    int,
	@ThreadCatalogID            int,
	@ThreadStatus               tinyint,

	@IconID                     int,
	@Subject                    nvarchar(256),
	@SubjectStyle               nvarchar(300),
	@UserID                     int,
	@NickName                   nvarchar(64),
	@IsLocked                   bit,
	@IsValued                   bit,

	@Content                    ntext,
	@ContentFormat              tinyint,
	@EnableSignature            bit,
	@EnableReplyNotice          bit,
	@IPAddress                  nvarchar(64),

	@PollItems                  nvarchar(4000),
	@Multiple                   int,
	@AlwaysEyeable              bit,
	@ExpiresDate                datetime,

	@AttachmentIds              varchar(8000),
	@AttachmentFileNames        ntext,
	@AttachmentFileIds          text,
	@AttachmentFileSizes        varchar(8000),
	@AttachmentPrices           varchar(8000),
	@AttachmentFileExtNames     ntext,
	@HistoryAttachmentIDs       varchar(500),


	@ThreadRandNumber           int,
	@UserTotalThreads           int output,
	@UserTotalPosts             int output,
    @ExtendData                 ntext
   ,@TopMarkCount                   int
   ,@TempPostID                 int
   ,@AttachmentType             tinyint
   ,@Words                  nvarchar(400)
AS
BEGIN
	SET NOCOUNT ON;

    DECLARE @ErrorCount int;
    SET @ErrorCount = 0;

    BEGIN TRAN

	DECLARE @ReturnValue     int;
    DECLARE @ThreadID int, @PostID int

	EXECUTE @ReturnValue = [bx_v5_CreateThread]
		@ForumID,
		@ThreadCatalogID,
		@ThreadStatus,
		1,
		@IconID,
		@Subject,
		@SubjectStyle,
		0,
		@UserID,
		@NickName,
		@IsLocked,
		@IsValued,
		@Content,
		@ContentFormat,
		@EnableSignature,
		@EnableReplyNotice,
		@IPAddress,
		@AttachmentIds,
		@AttachmentFileNames,
		@AttachmentFileIds,
		@AttachmentFileSizes,
		@AttachmentPrices,
		@AttachmentFileExtNames,
		@HistoryAttachmentIDs,
		@ThreadRandNumber,
		@UserTotalThreads output,
		@UserTotalPosts output,
        @ThreadID  output,
        @PostID    output,
        @ExtendData,
        @TopMarkCount,
        @TempPostID,
        @AttachmentType,
        @Words

    SET @ErrorCount = @ErrorCount + @@error;

    IF @ReturnValue = -1
        SET @ErrorCount = @ErrorCount + 1;
    INSERT INTO [bx_Polls]
       ([ThreadID]
       ,[Multiple]
       ,[AlwaysEyeable]
       ,[ExpiresDate])
     VALUES
       (@ThreadID
       ,@Multiple
       ,@AlwaysEyeable
       ,@ExpiresDate);

    SET @ErrorCount = @ErrorCount + @@error;

	EXEC [bx_DoCreateStat] @ForumID,5, 1
    SET @ErrorCount = @ErrorCount + @@error;
	DECLARE @ItemName nvarchar(512)
	SET @ItemName = ''
	
	DECLARE @Index int
	SET @Index = 0
	
	WHILE(@PollItems &lt;&gt; '')
	BEGIN
		IF (CharIndex(char(13), @PollItems) = 0) BEGIN
			SET @ItemName = @PollItems
			SET @PollItems  = ''	
		END
		ELSE BEGIN
			SET @ItemName = substring(rtrim(ltrim(@PollItems)), 1, charIndex(char(13), rtrim(ltrim(@PollItems))) - 1)
			SET @PollItems = substring(rtrim(ltrim(@PollItems)), charIndex(char(13), rtrim(ltrim(@PollItems))) + 1, len(rtrim(ltrim(@PollItems)))-charIndex(char(13), rtrim(ltrim(@PollItems))))
		END

		INSERT INTO bx_PollItems(
			ThreadID,
			ItemName
		) VALUES (
			@ThreadID,
			REPLACE(@ItemName, char(10), N'')
		)
        SET @ErrorCount = @ErrorCount + @@error;
		
	END
    
    SELECT * FROM bx_PollItems WITH (NOLOCK) WHERE ThreadID = @ThreadID;

	IF @ErrorCount &gt; 0 BEGIN
        ROLLBACK TRAN
        RETURN -1;
    END
    ELSE BEGIN
        COMMIT TRAN
        RETURN 0;
    END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_CreatePost</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_CreatePost">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_CreatePost
	@ParentID                       int,
	@ThreadID                       int,
	@PostType                       tinyint,
	@IconID                         int,
	@Subject                        nvarchar(256),
	@Content                        ntext,
	@ContentFormat                  tinyint,
	@EnableSignature                bit,
	@EnableReplyNotice              bit,
	@ForumID                        int,
	@UserID                         int,
	@NickName                       nvarchar(64),
	@IPAddress                      nvarchar(32),

	@AttachmentIds                  varchar(8000),
	@AttachmentFileNames            ntext,
	@AttachmentFileIds              text,
	@AttachmentFileSizes            varchar(8000),
	@AttachmentPrices               varchar(8000),
	@AttachmentFileExtNames         ntext,
	@HistoryAttachmentIDs           varchar(500),

	@IsCreatePost                   bit = 1,

	@IsApproved                     bit,
	@PostRandNumber                 tinyint,
	@UserTotalPosts                 int output,
	@UpdateSortOrder                bit,
    @GetExtendedInfo                bit,
    @GetThreadEnableReplyNotice     bit,
    @PostID                         int output
   ,@TopMarkCount                   int
   ,@GetPost                        bit
   ,@GetThread                      bit
AS
BEGIN

	SET NOCOUNT ON;

	DECLARE @Type tinyint;
	IF @IsApproved = 1 --BEGIN
		SET @Type=1
	ELSE
		SET @Type=5

    DECLARE @ErrorCount int;
    SET @ErrorCount = 0;

    BEGIN TRAN CreatePost


    DECLARE @RealForumID int,@PostedCount int;
    
    SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED
    BEGIN TRAN UpdatePostedCount

    SELECT @RealForumID = ForumID,@PostedCount = PostedCount FROM bx_Threads with(xlock,rowlock) WHERE ThreadID = @ThreadID;
    IF @PostedCount IS NOT NULL
        SET @PostedCount = @PostedCount + 1;
    

	DECLARE @TempSortOrder BIGINT,@PostDate datetime;

	SET @PostDate = getdate();
	EXEC [bx_GetSortOrder] @Type, @PostRandNumber, @PostDate, 0, @TempSortOrder OUTPUT 
    

    IF @IsCreatePost = 0
        SET @PostedCount = 1;

	INSERT INTO [bx_Posts]
           ([ParentID]
           ,[ForumID]
           ,[ThreadID]
           ,[PostType]
           ,[IconID]
           ,[Subject]
           ,[Content]
           ,[ContentFormat]
           ,[EnableSignature]
           ,[EnableReplyNotice]
           ,[UserID]
           ,[NickName]
           ,[IPAddress]
           ,[HistoryAttachmentIDs]
           ,[SortOrder]
           ,[FloorNumber])
     VALUES
           (@ParentID
           ,@RealForumID
           ,@ThreadID
           ,@PostType
           ,@IconID
           ,@Subject
           ,@Content
           ,@ContentFormat
           ,@EnableSignature
           ,@EnableReplyNotice
           ,@UserID
           ,@NickName
           ,@IPAddress
		   ,@HistoryAttachmentIDs
           ,@TempSortOrder
           ,@PostedCount)

    SET @ErrorCount = @ErrorCount + @@error;

	SELECT @PostID = @@IDENTITY;

    IF @PostType = 1 --主题内容
        UPDATE bx_Threads SET LastPostID = @PostID,ContentID = @PostID, PostedCount = @PostedCount WHERE ThreadID = @ThreadID;
    ELSE IF @IsApproved = 1
        UPDATE bx_Threads SET LastPostID = @PostID, PostedCount = @PostedCount WHERE ThreadID = @ThreadID;
    ELSE 
        UPDATE bx_Threads SET PostedCount = @PostedCount WHERE ThreadID = @ThreadID;
    
    SET @ErrorCount = @ErrorCount + @@error;

    COMMIT TRAN UpdatePostedCount
    
    IF @GetThread = 1
        SELECT  *  FROM [bx_Threads] WITH (NOLOCK) WHERE ThreadID = @ThreadID; 

    IF @GetThreadEnableReplyNotice = 1
        SELECT EnableReplyNotice FROM bx_Posts WITH (NOLOCK) WHERE ThreadID = @ThreadID AND PostType = 1;--主题内容

	IF DATALENGTH(@AttachmentIds) &gt; 0 BEGIN

		DECLARE @AttachmentTable table(TempID int identity(1,1), AttachmentID int, FileName nvarchar(256), FileExtName nvarchar(10), FileID varchar(50), FileSize bigint, Price int);

		
		INSERT INTO @AttachmentTable (AttachmentID) SELECT item FROM bx_GetIntTable(@AttachmentIds, '|');
        SET @ErrorCount = @ErrorCount + @@error;

		UPDATE @AttachmentTable SET
			[FileName] = T.item
			FROM bx_GetStringTable_ntext(@AttachmentFileNames, N'|') T
			WHERE TempID = T.id;
        SET @ErrorCount = @ErrorCount + @@error;

		UPDATE @AttachmentTable SET
			FileID = T.item
			FROM bx_GetStringTable_text(@AttachmentFileIds, '|') T
			WHERE TempID = T.id;
        SET @ErrorCount = @ErrorCount + @@error;

		UPDATE @AttachmentTable SET
			FileSize = T.item
			FROM bx_GetBigIntTable(@AttachmentFileSizes, '|') T
			WHERE TempID = T.id;
        SET @ErrorCount = @ErrorCount + @@error;

		UPDATE @AttachmentTable SET
			Price = T.item
			FROM bx_GetIntTable(@AttachmentPrices, '|') T
			WHERE TempID = T.id;
        SET @ErrorCount = @ErrorCount + @@error;
			
		UPDATE @AttachmentTable SET
			FileExtName = T.item
			FROM bx_GetStringTable_ntext(@AttachmentFileExtNames, N'|') T
			WHERE TempID = T.id;
        SET @ErrorCount = @ErrorCount + @@error;


		INSERT INTO bx_Attachments(
			PostID,
			FileID,
			FileName,
			FileSize,
			FileType,
			Price,
			UserID
			) SELECT 
			@PostID,
			T.FileID,
			T.FileName,
			T.FileSize,
			T.FileExtName,
			T.Price,
			@UserID
			FROM @AttachmentTable T
			WHERE T.AttachmentID &lt; 0 AND T.FileID IS NOT NULL;
        SET @ErrorCount = @ErrorCount + @@error; 
		
		SELECT [AttachmentID] FROM [bx_Attachments] WITH (NOLOCK) WHERE PostID=@PostID ORDER BY [AttachmentID] DESC;
		
		INSERT INTO bx_Attachments(
			PostID,
			FileID,
			FileName,
			FileSize,
			FileType,
			Price,
			UserID
			) SELECT 
			@PostID,
			T.FileID,
			T.FileName,
			T.FileSize,
			T.FileExtName,
			T.Price,
			@UserID
			FROM @AttachmentTable T
			WHERE T.AttachmentID = 0 AND T.FileID IS NOT NULL;
        SET @ErrorCount = @ErrorCount + @@error; 
		
		SELECT [AttachmentID],[FileID] FROM [bx_Attachments] WITH (NOLOCK) WHERE PostID=@PostID;
			
	END




    DECLARE @Today DateTime,@Monday DateTime;
    DECLARE @WeekPosts int,@DayPosts int,@MonthPosts int,@LastPostDate DateTime;

    IF @UserID&lt;&gt;0 BEGIN
	    SET @Today = CONVERT(varchar(12) , getdate(), 102);
			
	    DECLARE @m int;
	    SELECT @m = DATEPART(weekday, @Today);
	    IF @m = 1
		    SELECT @m = 8;
	    SELECT @Monday = DATEADD(day, 2-@m, @Today);


        SELECT @WeekPosts = WeekPosts,@DayPosts = DayPosts,@MonthPosts = MonthPosts,@LastPostDate = LastPostDate FROM bx_Users WHERE UserID = @UserID;
    END

    IF @IsApproved=1 AND @IsCreatePost = 1 BEGIN
    
	
		EXEC [bx_DoCreateStat] @ForumID,4, 1
        SET @ErrorCount = @ErrorCount + @@error;
		
	    
		DECLARE @SortOrder bigint
		
		IF @UpdateSortOrder = 1 BEGIN
			
            EXEC [bx_GetSortOrder] 1, @PostID, @PostDate, 1, @SortOrder OUTPUT 
            /*
			IF @SortOrder &lt; 2000000000000000--500000000000000
				EXEC [bx_GetSortOrder] 1, @PostID, @PostDate, @SortOrder OUTPUT 
			ELSE IF @SortOrder &lt; 3000000000000000--800000000000000
				EXEC [bx_GetSortOrder] 2, @PostID, @PostDate, @SortOrder OUTPUT 
			ELSE
				EXEC [bx_GetSortOrder] 3, @PostID, @PostDate, @SortOrder OUTPUT 
            */		

		END

        UPDATE [bx_Forums]
            SET [TotalPosts] = [TotalPosts] + 1,
				[TodayPosts] = [TodayPosts] + 1,
				[LastThreadID] = @ThreadID
            WHERE [ForumID] = @ForumID;
        SET @ErrorCount = @ErrorCount + @@error;
		

        BEGIN TRAN UpdateThread
	    IF @UpdateSortOrder = 1
			UPDATE [bx_Threads] with(updlock,rowlock) 
			   SET [TotalReplies] = [TotalReplies] + 1,
					[LastPostUserID] = @UserID,
					[LastPostNickName] = @NickName,
					[UpdateDate] = getdate(),
					[SortOrder] = @SortOrder
			WHERE ThreadID=@ThreadID;
		ELSE
			UPDATE [bx_Threads] with(updlock,rowlock) 
			   SET [TotalReplies] = [TotalReplies] + 1,
					[LastPostUserID] = @UserID,
					[LastPostNickName] = @NickName,
					[UpdateDate] = getdate()
			WHERE ThreadID=@ThreadID;
        SET @ErrorCount = @ErrorCount + @@error;

        COMMIT TRAN UpdateThread
		IF @UserID&lt;&gt;0 BEGIN

            IF @LastPostDate &gt;= @Monday
                SET @WeekPosts = @WeekPosts + 1;
            ELSE
                SET @WeekPosts = 1;

            IF @LastPostDate &gt;= @Today
                SET @DayPosts = @DayPosts + 1;
            ELSE
                SET @DayPosts = 1;

            IF DATEPART(year, GETDATE()) = DATEPART(year, GETDATE()) AND DATEPART(month, GETDATE()) = DATEPART(month,@LastPostDate)
                SET @MonthPosts = @MonthPosts + 1;
            ELSE
                SET @MonthPosts = 1;

			UPDATE [bx_Users]
			   SET	[LastPostDate] = getdate(),
					[TotalPosts] = [TotalPosts] + 1
                    ,[WeekPosts] = @WeekPosts
                    ,[MonthPosts] = @MonthPosts
                    ,[DayPosts] = @DayPosts
			 WHERE UserID = @UserID;
            SET @ErrorCount = @ErrorCount + @@error;
			 
		END

    END
    ELSE IF @IsCreatePost = 1 AND @UserID&lt;&gt;0 BEGIN
        DECLARE @MustUpdate bit;
        IF @LastPostDate &lt; @Monday BEGIN
            SET @WeekPosts = 0;
            SET @MustUpdate = 1;
        END
        IF @LastPostDate &lt; @Today BEGIN
            SET @DayPosts = 0;
            SET @MustUpdate = 1;
        END
        IF DATEPART(year, GETDATE()) &lt;&gt; DATEPART(year,@LastPostDate) OR DATEPART(month, GETDATE()) &lt;&gt; DATEPART(month,@LastPostDate) BEGIN
            SET @MonthPosts = 1;
        END
        IF @MustUpdate = 1 BEGIN
            UPDATE [bx_Users]
		        SET [WeekPosts] = @WeekPosts
                    ,[DayPosts] = @DayPosts
                    ,[MonthPosts] = @MonthPosts
            WHERE UserID = @UserID;
            SET @ErrorCount = @ErrorCount + @@error;
        END
    END

	IF @UserID&lt;&gt;0 BEGIN
		IF @PostType = 2
			EXEC [bx_v5_AddPolemizeUser] @ThreadID,@UserID,0
		ELSE IF @PostType = 3
			EXEC [bx_v5_AddPolemizeUser] @ThreadID,@UserID,1
		ELSE IF @PostType = 4
			EXEC [bx_v5_AddPolemizeUser] @ThreadID,@UserID,2
        SET @ErrorCount = @ErrorCount + @@error;

	END	

    IF @ErrorCount &gt; 0 BEGIN
        ROLLBACK TRAN CreatePost
        RETURN -1;
    END
    ELSE BEGIN
        COMMIT TRAN CreatePost
    END

    IF @UserID&lt;&gt;0 BEGIN
		
		SELECT 
			@UserTotalPosts=ISNULL(TotalPosts,0)
			FROM [bx_Users] WHERE UserID = @UserID;
			
	END 
	ELSE BEGIN
			SET  @UserTotalPosts = 0;
	END
    
    IF @GetPost = 1 BEGIN
        IF @GetExtendedInfo = 0
            SELECT * FROM bx_Posts WITH (NOLOCK) WHERE PostID = @PostID;
        ELSE BEGIN
            DECLARE @SQLString nvarchar(4000);
            DECLARE @PostFieldsString nvarchar(4000);
            SET @SQLString = 'SELECT 
[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]
 FROM bx_Posts WITH (NOLOCK) WHERE PostID = '+ CAST(@PostID AS varchar(16));  --'SELECT '+ CAST(@PostID AS varchar(16)) + ',''' + @HistoryAttachmentIDs + '''';
            

        SET @PostFieldsString = '

DECLARE @S2 VARCHAR(8000),@D2 DATETIME;

            DECLARE @PostIDTable table(ID int identity(1,1),
[PostID] [int] NOT NULL
,[MarkCount] [int] NULL
,[HistoryAttachmentIDs]   varchar(500) NULL
);
SELECT @D2 = GETDATE();
		    INSERT INTO @PostIDTable (

[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]

) ' + @SQLString + ';

    SET @S2 =''|A1=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
'+
'
		    DECLARE @HistoryAttach table(PostID int,AttachID int);
		    DECLARE @Count int,@I int;
            SELECT @D2 = GETDATE();
		    SELECT @Count = COUNT(*) FROM @PostIDTable;
            
            DECLARE @PostMarkIDTable table(MarkID int);
    SET @S2 =@S2 + ''|A3=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
		    SET @I = 1;
    		
            SELECT @D2 = GETDATE();
		    WHILE(@I &lt; @Count+1) BEGIN
			    DECLARE @PID int,@HistoryAttachmentString varchar(500),@PostMarkCount int;
			    SELECT @PID = PostID,@HistoryAttachmentString = HistoryAttachmentIDs,@PostMarkCount = MarkCount FROM @PostIDTable WHERE ID = @I;
			    IF @HistoryAttachmentString IS NOT NULL AND @HistoryAttachmentString &lt;&gt; ''''
				    INSERT INTO @HistoryAttach(PostID,AttachID) SELECT @PID,item FROM bx_GetIntTable(@HistoryAttachmentString,'','');
			    SET @I = @I + 1;
                IF @PostMarkCount &gt; 0
                    INSERT INTO @PostMarkIDTable(MarkID) SELECT TOP ' + CAST(@TopMarkCount as varchar(16)) + ' m.PostMarkID FROM [bx_PostMarks] m WHERE m.PostID = @PID ORDER BY m.PostMarkID DESC;
		    END
    SET @S2 =@S2 + ''|A4=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();
		    SELECT p.* FROM @PostIDTable i INNER JOIN [bx_Posts] p WITH (NOLOCK) ON i.PostID = p.PostID ORDER BY p.SortOrder;
 
    SET @S2 =@S2 + ''|A5=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();

		    SELECT a.* FROM [bx_Attachments] a WITH (NOLOCK) INNER JOIN @PostIDTable i ON a.PostID = i.PostID ORDER BY a.AttachmentID;

            
    SET @S2 =@S2 + ''|A6=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();

		    SELECT h.PostID as HPostID, a.* FROM [bx_Attachments] a WITH (NOLOCK), @HistoryAttach h WHERE a.AttachmentID = h.AttachID;
    		
    SET @S2 =@S2 + ''|A7=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();
            SELECT * FROM [bx_PostMarks] WHERE PostMarkID in(SELECT MarkID FROM @PostMarkIDTable);

    SET @S2 =@S2 + ''|A8=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            
            SELECT @S2;
'
; EXEC (@PostFieldsString); 
        END
    END

    
    RETURN 0;
    
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_CreatePostMark</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_CreatePostMark">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_CreatePostMark 
    @PostID             int, 
	@UserID             int,
    @Username           nvarchar(50),
	@CreateDate         datetime,
	@ExtendedPoints_1   int,
	@ExtendedPoints_2   int,
	@ExtendedPoints_3   int,
	@ExtendedPoints_4   int,
	@ExtendedPoints_5   int,
	@ExtendedPoints_6   int,
	@ExtendedPoints_7   int,
	@ExtendedPoints_8   int,
	@Reason             ntext
AS
BEGIN
	SET NOCOUNT ON;
	
	IF EXISTS(SELECT * FROM [bx_PostMarks] WITH (NOLOCK) WHERE [UserID] = @UserID AND [PostID] = @PostID)
		RETURN 1;
	ELSE BEGIN
		insert into [bx_PostMarks](
			PostID,
			UserID,
            Username,
			CreateDate,
			ExtendedPoints_1,
			ExtendedPoints_2,
			ExtendedPoints_3,
			ExtendedPoints_4,
			ExtendedPoints_5,
			ExtendedPoints_6,
			ExtendedPoints_7,
			ExtendedPoints_8,
			Reason
			)
		Values
		(
			@PostID, 
			@UserID,
            @Username,
			@CreateDate,
			@ExtendedPoints_1,
			@ExtendedPoints_2,
			@ExtendedPoints_3,
			@ExtendedPoints_4,
			@ExtendedPoints_5,
			@ExtendedPoints_6,
			@ExtendedPoints_7,
			@ExtendedPoints_8,
			@Reason
		);

        
        UPDATE [bx_Posts] SET MarkCount = (SELECT Count(*) FROM [bx_PostMarks] WITH (NOLOCK) WHERE [PostID] = @PostID) WHERE [PostID] = @PostID;
        SELECT * FROM [bx_PostMarks] WITH (NOLOCK) WHERE [UserID] = @UserID AND [PostID] = @PostID;

		RETURN 0;
		
	END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_CreateQuestion</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_CreateQuestion">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_CreateQuestion
    @ForumID                    int,
	@ThreadCatalogID            int,
	@ThreadStatus               tinyint,

	@IconID                     int,
	@Subject                    nvarchar(256),
	@SubjectStyle               nvarchar(300),
	@UserID                     int,
	@NickName                   nvarchar(64),
	@IsLocked                   bit,
	@IsValued                   bit,

	@Content                    ntext,
	@ContentFormat              tinyint,
	@EnableSignature            bit,
	@EnableReplyNotice          bit,
	@IPAddress                  nvarchar(64),

	@Reward                     int,  --本主题的奖励
	@RewardCount                int,  --本主题最多可以奖励给多少帖子
	@AlwaysEyeable              bit,
	@ExpiresDate                datetime,

	@AttachmentIds              varchar(8000),
	@AttachmentFileNames        ntext,
	@AttachmentFileIds          text,
	@AttachmentFileSizes        varchar(8000),
	@AttachmentPrices           varchar(8000),
	@AttachmentFileExtNames     ntext,
	@HistoryAttachmentIDs       varchar(500),

	@ThreadRandNumber           int,
	@UserTotalThreads           int output,
	@UserTotalPosts             int output,
    @ExtendData                 ntext
   ,@TopMarkCount                   int
   ,@TempPostID                 int
   ,@AttachmentType             tinyint
   ,@Words                      nvarchar(400)
AS
BEGIN
	SET NOCOUNT ON;

    DECLARE @ErrorCount int;
    SET @ErrorCount = 0;

    BEGIN TRAN

	DECLARE @ReturnValue     int;
    DECLARE @ThreadID int, @PostID int

	EXECUTE @ReturnValue = [bx_v5_CreateThread]
		@ForumID,
		@ThreadCatalogID,
		@ThreadStatus,
		2,
		@IconID,
		@Subject,
		@SubjectStyle,
		0,
		@UserID,
		@NickName,
		@IsLocked,
		@IsValued,
		@Content,
		@ContentFormat,
		@EnableSignature,
		@EnableReplyNotice,
		@IPAddress,
		@AttachmentIds,
		@AttachmentFileNames,
		@AttachmentFileIds,
		@AttachmentFileSizes,
		@AttachmentPrices,
		@AttachmentFileExtNames,
		@HistoryAttachmentIDs,
		@ThreadRandNumber,
		@UserTotalThreads output,
		@UserTotalPosts output,
        @ThreadID output, 
        @PostID output,
        @ExtendData,
        @TopMarkCount,
        @TempPostID,
        @AttachmentType,
        @Words

    SET @ErrorCount = @ErrorCount + @@error;
    IF @ReturnValue = -1
        SET @ErrorCount = @ErrorCount + 1;

	INSERT INTO [bx_Questions]
           ([ThreadID]
           ,[Reward]
           ,[RewardCount]
           ,[AlwaysEyeable]
           ,[ExpiresDate])
     VALUES
           (@ThreadID
           ,@Reward
           ,@RewardCount
           ,@AlwaysEyeable
           ,@ExpiresDate)
    SET @ErrorCount = @ErrorCount + @@error;
		EXEC [bx_DoCreateStat] @ForumID,6, 1
        SET @ErrorCount = @ErrorCount + @@error;

    SELECT * FROM [bx_Questions] WITH (NOLOCK) WHERE ThreadID = @ThreadID;

	IF @ErrorCount &gt; 0 BEGIN
        ROLLBACK TRAN
        RETURN -1;
    END
    ELSE BEGIN
        COMMIT TRAN
        RETURN 0;
    END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_CreateThread</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_CreateThread">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_CreateThread
	@ForumID                int,
	@ThreadCatalogID        int,
	@ThreadStatus           tinyint,
	@ThreadType             tinyint,
	@IconID                 int,
	@Subject                nvarchar(256),
	@SubjectStyle           nvarchar(300),
	@Price                  int,
	@UserID                 int,
	@NickName               nvarchar(64),
	@IsLocked               bit,
	@IsValued               bit,

	@Content                ntext,
	@ContentFormat          tinyint,
	@EnableSignature        bit,
	@EnableReplyNotice      bit,
	@IPAddress              nvarchar(64),
	
	@AttachmentIds          varchar(8000),
	@AttachmentFileNames    ntext,
	@AttachmentFileIds      text,
	@AttachmentFileSizes    varchar(8000),
	@AttachmentPrices       varchar(8000),
	@AttachmentFileExtNames ntext,
	@HistoryAttachmentIDs   varchar(500),


	@ThreadRandNumber       int,
	@UserTotalThreads       int output,
	@UserTotalPosts         int output,
    @ThreadID               int output,
    @PostID                 int output,
    @ExtendData             ntext
   ,@TopMarkCount                   int
   ,@TempPostID             int
   ,@AttachmentType         tinyint
   ,@Words                  nvarchar(400)
AS
BEGIN

	SET NOCOUNT ON;

    DECLARE @ErrorCount int;
    SET @ErrorCount = 0;


	DECLARE @ReturnValue     int;

	DECLARE @TempSortOrder BIGINT,@PostDate datetime
	
	SET @PostDate = getdate();
	EXEC [bx_GetSortOrder] 1, @ThreadRandNumber, @PostDate, 1, @TempSortOrder OUTPUT;
	
    DECLARE @TempThreadID int
    SELECT @TempThreadID = ThreadID FROM bx_Threads WITH(NOLOCK) WHERE LastPostID = @TempPostID;
    IF @TempThreadID IS NOT NULL BEGIN
        DECLARE @LastPostID int;
        SELECT @LastPostID = MAX(PostID) FROM bx_Posts WITH(NOLOCK) WHERE ThreadID = @TempThreadID AND SortOrder&lt;4000000000000000;
        IF @LastPostID IS NULL BEGIN    
            SELECT @LastPostID = MAX(PostID) FROM bx_Posts WITH(NOLOCK) WHERE ThreadID = @TempThreadID;
            IF @LastPostID IS NULL --说明是不正常的主题  没有一个post
                DELETE bx_Threads WHERE ThreadID = @TempThreadID;
        END
        IF @LastPostID IS NOT NULL BEGIN
            UPDATE bx_Threads SET LastPostID = @LastPostID WHERE ThreadID = @TempThreadID;
            SET @ErrorCount = @ErrorCount + @@error;
        END
    END
    
    BEGIN TRAN

	INSERT INTO [bx_Threads]
			([ForumID]
			,[ThreadCatalogID]
			,[ThreadType]
			,[IconID]
			,[Subject]
			,[SubjectStyle]
			,[Price]
			,[PostUserID]
			,[PostNickName]
			,[LastPostUserID]
			,[LastPostNickName]
			,[IsLocked]
			,[IsValued]
			,[SortOrder]
            ,[LastPostID]
            ,[ThreadStatus]
            ,[AttachmentType]
            ,[ExtendData]
            ,[Words]
            ,[PostedCount])
	 VALUES
			(@ForumID
			,@ThreadCatalogID
			,@ThreadType
			,@IconID
			,@Subject
			,@SubjectStyle
			,@Price
			,@UserID
			,@NickName
			,@UserID
			,@NickName
			,@IsLocked
			,@IsValued
			,@TempSortOrder
            ,@TempPostID
            ,@ThreadStatus
            ,@AttachmentType
            ,@ExtendData
            ,@Words
            ,1)
	
    SET @ErrorCount = @ErrorCount + @@error;
		
	SELECT @ThreadID = @@IDENTITY;
	IF(@ThreadID&gt;0) BEGIN
	    EXEC bx_DoCreateStat @ForumID,3, 1
        SET @ErrorCount = @ErrorCount + @@error;
    END
    IF @Words &lt;&gt; '' BEGIN
        INSERT INTO bx_ThreadWords(ThreadID,Word) SELECT @ThreadID,T.item FROM bx_GetStringTable_nvarchar(@Words, N',') T;
        SET @ErrorCount = @ErrorCount + @@error;
    END

	DECLARE @IsApproved bit
	IF @ThreadStatus=5
		SET @IsApproved=0
	ELSE
		SET @IsApproved=1
		
	EXECUTE @ReturnValue = [bx_v5_CreatePost] 
		 0
		,@ThreadID
		,1
		,@IconID
		,@Subject
		,@Content
		,@ContentFormat
		,@EnableSignature

		,@EnableReplyNotice
		,@ForumID
		,@UserID
		,@NickName
		,@IPAddress

		,@AttachmentIds
		,@AttachmentFileNames
		,@AttachmentFileIds
		,@AttachmentFileSizes
		,@AttachmentPrices
		,@AttachmentFileExtNames
		,@HistoryAttachmentIDs

		,0

		,@IsApproved
		,@ThreadRandNumber
		,0
		,1
        ,0
        ,0
        ,@PostID output
        ,@TopMarkCount
        ,1
        ,1
    
    SET @ErrorCount = @ErrorCount + @@error;

      
    IF @ReturnValue = -1
        SET @ErrorCount = @ErrorCount + 1;

    
	IF @ErrorCount &gt; 0 BEGIN
        ROLLBACK TRAN
        RETURN -1;
    END
    ELSE BEGIN
        COMMIT TRAN
    END  

	IF @PostID &gt; 0 BEGIN
		EXEC bx_DoCreateStat @ForumID,4, 1
        SET @ErrorCount = @ErrorCount + @@error;
	END


    DECLARE @Today DateTime,@Monday DateTime;
	SET @Today = CONVERT(varchar(12) , getdate(), 102);
			
	DECLARE @m int;
	SELECT @m = DATEPART(weekday, @Today);
	IF @m = 1
		SELECT @m = 8;
	SELECT @Monday = DATEADD(day, 2-@m, @Today);


    DECLARE @WeekPosts int,@DayPosts int,@LastPostDate DateTime;
    SELECT @WeekPosts = WeekPosts,@DayPosts = DayPosts,@LastPostDate = LastPostDate FROM bx_Users WHERE UserID = @UserID;

	DECLARE @TempForumID int
	IF @ThreadStatus &lt; 4 AND @UserID&lt;&gt;0 BEGIN
		SET @TempForumID=@ForumID;

        IF @LastPostDate &gt;= @Monday
            SET @WeekPosts = @WeekPosts + 1;
        ELSE
            SET @WeekPosts = 1;

        IF @LastPostDate &gt;= @Today
            SET @DayPosts = @DayPosts + 1;
        ELSE
            SET @DayPosts = 1;


		UPDATE [bx_Users]
		   SET [TotalTopics] = [TotalTopics] + 1
			  ,[TotalPosts] = [TotalPosts] + 1
              ,[WeekPosts] = @WeekPosts
              ,[DayPosts] = @DayPosts
			  ,[LastPostDate] = getdate()

		 WHERE UserID = @UserID;
        SET @ErrorCount = @ErrorCount + @@error;

    END
	ELSE BEGIN
		SET @TempForumID=-2;
        
        DECLARE @MustUpdate bit;
        IF @LastPostDate &lt; @Monday BEGIN
            SET @WeekPosts = 0;
            SET @MustUpdate = 1;
        END
        IF @LastPostDate &lt; @Today BEGIN
            SET @DayPosts = 0;
            SET @MustUpdate = 1;
        END
        IF @MustUpdate = 1 BEGIN
            UPDATE [bx_Users]
		        SET [WeekPosts] = @WeekPosts
                    ,[DayPosts] = @DayPosts
            WHERE UserID = @UserID;
            SET @ErrorCount = @ErrorCount + @@error;
        END
    END

	UPDATE [bx_Forums]
		   SET [TotalThreads] = [TotalThreads] + 1
			  ,[TotalPosts] = [TotalPosts] + 1
			  ,[TodayThreads] = [TodayThreads] + 1
			  ,[TodayPosts] = [TodayPosts] + 1
			  ,[LastThreadID] = @ThreadID
		 WHERE [ForumID] = @TempForumID;
    SET @ErrorCount = @ErrorCount + @@error;


	UPDATE [bx_ThreadCatalogsInForums] SET TotalThreads=TotalThreads+1 WHERE ForumID=@ForumID AND ThreadCatalogID=@ThreadCatalogID;
    SET @ErrorCount = @ErrorCount + @@error;
	
	IF @UserID=0 BEGIN
		SET @UserTotalThreads = 0;
		SET @UserTotalPosts = 0;

	END
	ELSE
		SELECT @UserTotalThreads=[TotalTopics],
			@UserTotalPosts=[TotalPosts]

			FROM [bx_Users] WITH (NOLOCK) WHERE UserID = @UserID;


    RETURN 0;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_CreateThreadManageLog</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_CreateThreadManageLog">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_CreateThreadManageLog
	@UserID         int,
	@UserName       varchar(64),
	@NickName       varchar(64),
	@IPAddress      varchar(15),
	@PostUserIDs    varchar(8000),
	@ActionType     tinyint,
	@ForumID        int,
	@ThreadIDs      varchar(8000),
	@ThreadSubjects ntext,
	@Reason         nvarchar(256),
	@IsPublic       bit
AS
BEGIN

	SET NOCOUNT ON

	DECLARE @TempTable TABLE(LogID INT IDENTITY(1,1),ThreadID INT,PostUserID INT,ThreadSubject nvarchar(256) COLLATE Chinese_PRC_CI_AS_WS)

	INSERT @TempTable (ThreadID) 
		SELECT item FROM bx_GetIntTable(@ThreadIDs,',')

	UPDATE @TempTable
			SET [ThreadSubject]=T.item
			FROM (SELECT * FROM bx_GetStringTable_ntext(@ThreadSubjects,N',')) T
			WHERE T.id=LogID;

	UPDATE @TempTable
			SET [PostUserID]=T.item
			FROM (SELECT * FROM bx_GetIntTable(@PostUserIDs, ',')) T
			WHERE T.id=LogID;

	INSERT INTO [bx_ThreadManageLogs] (
		[UserID],
		[UserName],
		[NickName],
		[IPAddress],
		[PostUserID],
		[ActionType],
		[ForumID],
		[ThreadID],
		[ThreadSubject],
		[Reason],
		[CreateDate],
		[IsPublic]
	) SELECT @UserID,@UserName,@NickName,@IPAddress,PostUserID,@ActionType,@ForumID,ThreadID,ThreadSubject,@Reason,getdate(),@IsPublic FROM @TempTable;

	IF @ActionType &lt;&gt; 1 AND @ActionType &lt;&gt; 17 AND @ActionType &lt;&gt; 18 AND @IsPublic = 1 BEGIN
		UPDATE bx_Threads Set ThreadLog = @UserName + '|' + CAST(@ActionType as NVARCHAR) + '|' + CAST(getdate() AS NVARCHAR) WHERE ThreadID IN (SELECT ThreadID FROM @TempTable);
        SELECT @UserName + '|' + CAST(@ActionType as NVARCHAR) + '|' + CAST(getdate() AS NVARCHAR) AS ThreadLog;
    END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_DeleteForum</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_DeleteForum">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_DeleteForum
	@ForumID int
AS
	SET NOCOUNT ON
	
	BEGIN TRANSACTION
	DECLARE @SortOrder int,@ParentID int,@ErrorNum int
	SET @ErrorNum=0
	
	DELETE [bx_Threads] WHERE ForumID=@ForumID 
	IF @@error&lt;&gt;0
		SET @ErrorNum=@ErrorNum+1
		
	
	SELECT @ParentID=ParentID FROM [bx_Forums] WITH(NOLOCK) WHERE ForumID=@ForumID 
	SELECT @SortOrder=MAX(SortOrder)+1 FROM [bx_Forums] WITH(NOLOCK) WHERE ParentID=@ParentID  
	IF @SortOrder IS NULL
			SET @SortOrder=0
			
	UPDATE [bx_Forums] SET ParentID=@ParentID,SortOrder=SortOrder+@SortOrder WHERE ParentID=@ForumID
	IF @@error&lt;&gt;0
		SET @ErrorNum=@ErrorNum+1

    DELETE [bx_StickThreads] WHERE ForumID=@ForumID;
    IF @@error&lt;&gt;0
		SET @ErrorNum=@ErrorNum+1 	

	DELETE [bx_Forums] WHERE ForumID=@ForumID;
	IF @@error&lt;&gt;0
		SET @ErrorNum=@ErrorNum+1
		
	IF @ErrorNum=0
		BEGIN
			COMMIT TRANSACTION
			RETURN (0)
		END
		ELSE
		BEGIN
			ROLLBACK TRANSACTION
			RETURN (-1)
		END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_FinalQuestion</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_FinalQuestion">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_FinalQuestion 
    @ThreadID               int,
	@BestPostID             int,
	@PostRewards            varchar(8000)
AS
BEGIN

	SET NOCOUNT ON;

    DECLARE @ThreadType tinyint;
	SELECT @ThreadType = ThreadType FROM bx_Threads WITH (NOLOCK) WHERE ThreadID = @ThreadID;

	IF @ThreadType &lt;&gt; 2
		RETURN (1); -- FinalQuestionStatus.NotQuestion
	ELSE BEGIN
		DECLARE @IsClosed bit,@ExpiresDate datetime;
		SELECT @IsClosed = IsClosed,@ExpiresDate=ExpiresDate FROM bx_Questions WITH (NOLOCK) WHERE ThreadID = @ThreadID;
		IF @IsClosed = 1 OR @ExpiresDate&lt;GETDATE()
			RETURN (2);  --FinalQuestionStatus.Finaled
        IF NOT EXISTS(SELECT * FROM bx_Posts WITH(NOLOCK) WHERE PostID=@BestPostID AND ThreadID=@ThreadID)
            RETURN 3; --invilad bestpostid
		ELSE BEGIN
			DECLARE @i int,@j int,@PostID int,@Reward int,@TotalReward int,@RewardCount int,@CanGetRewardCount int;--@ErrorCode int
			SET @PostRewards=@PostRewards+N','
			SET @TotalReward=0
			SET @RewardCount=0
			
			SELECT @j=CHARINDEX(':',@PostRewards)
			SELECT @i=CHARINDEX(',',@PostRewards)
			
			WHILE(@j&gt;0 AND @i&gt;2)
				BEGIN	
					SELECT @PostID=SUBSTRING(@PostRewards,0, @j)
					SELECT @PostRewards=SUBSTRING(@PostRewards,@j+1,len(@PostRewards)-@j)
					
					SELECT @i=CHARINDEX(',',@PostRewards)
					SELECT @Reward=SUBSTRING(@PostRewards,0, @i)
					SELECT @PostRewards=SUBSTRING(@PostRewards,@i+1,len(@PostRewards)-@i)
					
					SELECT @j=CHARINDEX(':',@PostRewards)
					SELECT @i=CHARINDEX(',',@PostRewards)
					
					SET @TotalReward=@TotalReward+@Reward
					SET @RewardCount=@RewardCount+1
					
					INSERT INTO [bx_QuestionRewards](ThreadID,PostID,Reward) VALUES(@ThreadID,@PostID,@Reward)
					
				END
				
			SELECT @Reward=Reward,@CanGetRewardCount=RewardCount FROM [bx_Questions] WITH(NOLOCK) WHERE ThreadID=@ThreadID
			IF(@Reward&lt;&gt;@TotalReward)
				BEGIN
					RETURN 4;
				END
			
			IF(@RewardCount&gt;@CanGetRewardCount)
				BEGIN
					RETURN 5;
				END
				
			UPDATE [bx_Questions] SET IsClosed=1,BestPostID=@BestPostID WHERE ThreadID=@ThreadID

            EXECUTE bx_v5_GetThreadExtendData @ThreadID,2; 
			RETURN (0)
		END
	END

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_GetAttachment</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_GetAttachment">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_GetAttachment
	@AttachmentID               int,
	@UpdateTotalDownloads       bit
AS
BEGIN
	SET NOCOUNT ON;
	IF(@UpdateTotalDownloads = 1)
		UPDATE bx_Attachments SET TotalDownloads=TotalDownloads+1 Where AttachmentID=@AttachmentID
	
	SELECT * FROM [bx_Attachments] WITH (NOLOCK) WHERE AttachmentID =@AttachmentID;

    IF @UpdateTotalDownloads = 1
        SELECT ThreadID FROM [bx_Posts] P INNER JOIN [bx_Attachments] A ON P.PostID = A.PostID WHERE A.AttachmentID =  @AttachmentID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_GetAttachmentIsBuy</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_GetAttachmentIsBuy">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_GetAttachmentIsBuy
	@UserID             INT,
	@AttachmentID       INT
AS
BEGIN
	SET NOCOUNT ON;
	
	IF EXISTS(SELECT * FROM bx_AttachmentExchanges WITH (NOLOCK) WHERE AttachmentID=@AttachmentID AND UserID=@UserID)
		RETURN 0
	ELSE
	BEGIN
		IF EXISTS(SELECT * FROM bx_Attachments WITH (NOLOCK) WHERE AttachmentID=@AttachmentID AND Price=0)
			RETURN 0
		ELSE
			RETURN -1
	END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_GetAttachmentsByPostID</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_GetAttachmentsByPostID">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_GetAttachmentsByPostID
    @PostID int
AS
BEGIN
	SET NOCOUNT ON;
	SELECT * FROM [bx_Attachments] WITH (NOLOCK) WHERE PostID = @PostID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_GetBestPost</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_GetBestPost">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_GetBestPost
     @ThreadID       int
    ,@BestPostID     int
    ,@TopMarkCount   int   
AS
BEGIN
    SET NOCOUNT ON;
    IF @BestPostID&lt;&gt;0 AND NOT EXISTS(SELECT * FROM bx_Posts WITH (NOLOCK) WHERE PostID = @BestPostID AND SortOrder&lt;4000000000000000) BEGIN -- 最佳答案被删除了
        SET @BestPostID = 0;
        UPDATE bx_Questions SET BestPostID = 0 WHERE ThreadID = @ThreadID; -- 顺便把BestPostID更新为0 免得每次都来查询
    END

    IF @BestPostID &lt;&gt; 0 BEGIN
        DECLARE @SQLString nvarchar(4000);
        DECLARE @PostFieldsString nvarchar(4000);
        SET @SQLString = 'SELECT 
[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]
 FROM bx_Posts WITH (NOLOCK) WHERE PostID = ' + CAST(@BestPostID AS varchar(16)) + '';
        

        SET @PostFieldsString = '

DECLARE @S2 VARCHAR(8000),@D2 DATETIME;

            DECLARE @PostIDTable table(ID int identity(1,1),
[PostID] [int] NOT NULL
,[MarkCount] [int] NULL
,[HistoryAttachmentIDs]   varchar(500) NULL
);
SELECT @D2 = GETDATE();
		    INSERT INTO @PostIDTable (

[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]

) ' + @SQLString + ';

    SET @S2 =''|A1=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
'+
'
		    DECLARE @HistoryAttach table(PostID int,AttachID int);
		    DECLARE @Count int,@I int;
            SELECT @D2 = GETDATE();
		    SELECT @Count = COUNT(*) FROM @PostIDTable;
            
            DECLARE @PostMarkIDTable table(MarkID int);
    SET @S2 =@S2 + ''|A3=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
		    SET @I = 1;
    		
            SELECT @D2 = GETDATE();
		    WHILE(@I &lt; @Count+1) BEGIN
			    DECLARE @PID int,@HistoryAttachmentString varchar(500),@PostMarkCount int;
			    SELECT @PID = PostID,@HistoryAttachmentString = HistoryAttachmentIDs,@PostMarkCount = MarkCount FROM @PostIDTable WHERE ID = @I;
			    IF @HistoryAttachmentString IS NOT NULL AND @HistoryAttachmentString &lt;&gt; ''''
				    INSERT INTO @HistoryAttach(PostID,AttachID) SELECT @PID,item FROM bx_GetIntTable(@HistoryAttachmentString,'','');
			    SET @I = @I + 1;
                IF @PostMarkCount &gt; 0
                    INSERT INTO @PostMarkIDTable(MarkID) SELECT TOP ' + CAST(@TopMarkCount as varchar(16)) + ' m.PostMarkID FROM [bx_PostMarks] m WHERE m.PostID = @PID ORDER BY m.PostMarkID DESC;
		    END
    SET @S2 =@S2 + ''|A4=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();
		    SELECT p.* FROM @PostIDTable i INNER JOIN [bx_Posts] p WITH (NOLOCK) ON i.PostID = p.PostID ORDER BY p.SortOrder;
 
    SET @S2 =@S2 + ''|A5=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();

		    SELECT a.* FROM [bx_Attachments] a WITH (NOLOCK) INNER JOIN @PostIDTable i ON a.PostID = i.PostID ORDER BY a.AttachmentID;

            
    SET @S2 =@S2 + ''|A6=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();

		    SELECT h.PostID as HPostID, a.* FROM [bx_Attachments] a WITH (NOLOCK), @HistoryAttach h WHERE a.AttachmentID = h.AttachID;
    		
    SET @S2 =@S2 + ''|A7=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();
            SELECT * FROM [bx_PostMarks] WHERE PostMarkID in(SELECT MarkID FROM @PostMarkIDTable);

    SET @S2 =@S2 + ''|A8=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            
            SELECT @S2;
'
; EXEC (@PostFieldsString); 
    END 
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_GetPost</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_GetPost">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_GetPost
     @PostID              int
    ,@GetExtendedInfo     bit
    ,@TopMarkCount        int   
AS
BEGIN
    SET NOCOUNT ON;
    IF @GetExtendedInfo = 0
        SELECT * FROM bx_Posts WITH (NOLOCK) WHERE PostID = @PostID;
    ELSE BEGIN
        DECLARE @SQLString nvarchar(4000);
        DECLARE @PostFieldsString nvarchar(4000);
        SET @SQLString = 'SELECT 
[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]
 FROM bx_Posts WITH (NOLOCK) WHERE PostID = ' + CAST(@PostID AS varchar(16)) + '';
        

        SET @PostFieldsString = '

DECLARE @S2 VARCHAR(8000),@D2 DATETIME;

            DECLARE @PostIDTable table(ID int identity(1,1),
[PostID] [int] NOT NULL
,[MarkCount] [int] NULL
,[HistoryAttachmentIDs]   varchar(500) NULL
);
SELECT @D2 = GETDATE();
		    INSERT INTO @PostIDTable (

[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]

) ' + @SQLString + ';

    SET @S2 =''|A1=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
'+
'
		    DECLARE @HistoryAttach table(PostID int,AttachID int);
		    DECLARE @Count int,@I int;
            SELECT @D2 = GETDATE();
		    SELECT @Count = COUNT(*) FROM @PostIDTable;
            
            DECLARE @PostMarkIDTable table(MarkID int);
    SET @S2 =@S2 + ''|A3=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
		    SET @I = 1;
    		
            SELECT @D2 = GETDATE();
		    WHILE(@I &lt; @Count+1) BEGIN
			    DECLARE @PID int,@HistoryAttachmentString varchar(500),@PostMarkCount int;
			    SELECT @PID = PostID,@HistoryAttachmentString = HistoryAttachmentIDs,@PostMarkCount = MarkCount FROM @PostIDTable WHERE ID = @I;
			    IF @HistoryAttachmentString IS NOT NULL AND @HistoryAttachmentString &lt;&gt; ''''
				    INSERT INTO @HistoryAttach(PostID,AttachID) SELECT @PID,item FROM bx_GetIntTable(@HistoryAttachmentString,'','');
			    SET @I = @I + 1;
                IF @PostMarkCount &gt; 0
                    INSERT INTO @PostMarkIDTable(MarkID) SELECT TOP ' + CAST(@TopMarkCount as varchar(16)) + ' m.PostMarkID FROM [bx_PostMarks] m WHERE m.PostID = @PID ORDER BY m.PostMarkID DESC;
		    END
    SET @S2 =@S2 + ''|A4=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();
		    SELECT p.* FROM @PostIDTable i INNER JOIN [bx_Posts] p WITH (NOLOCK) ON i.PostID = p.PostID ORDER BY p.SortOrder;
 
    SET @S2 =@S2 + ''|A5=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();

		    SELECT a.* FROM [bx_Attachments] a WITH (NOLOCK) INNER JOIN @PostIDTable i ON a.PostID = i.PostID ORDER BY a.AttachmentID;

            
    SET @S2 =@S2 + ''|A6=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();

		    SELECT h.PostID as HPostID, a.* FROM [bx_Attachments] a WITH (NOLOCK), @HistoryAttach h WHERE a.AttachmentID = h.AttachID;
    		
    SET @S2 =@S2 + ''|A7=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();
            SELECT * FROM [bx_PostMarks] WHERE PostMarkID in(SELECT MarkID FROM @PostMarkIDTable);

    SET @S2 =@S2 + ''|A8=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            
            SELECT @S2;
'
; EXEC (@PostFieldsString); 
    END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_GetPostUserIDsFormThreads</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_GetPostUserIDsFormThreads">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_GetPostUserIDsFormThreads
	@ThreadIDs varchar(8000)
AS
BEGIN
	SET NOCOUNT ON;

	EXEC('SELECT DISTINCT UserID FROM bx_Posts WITH (NOLOCK) WHERE SortOrder&lt;4000000000000000 AND ThreadID in('+@ThreadIDs+')');
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_GetStickThreads</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_GetStickThreads">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_GetStickThreads
    @ForumID int
AS
BEGIN
    SET NOCOUNT ON;

	SELECT  *  FROM [bx_Threads] WITH (NOLOCK) WHERE [ThreadStatus] = 2 AND (ForumID = @ForumID OR ThreadID IN(SELECT ThreadID FROM bx_StickThreads WHERE ForumID = @ForumID)) ORDER BY SortOrder DESC;
     
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_GetThreadExtendData</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_GetThreadExtendData">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_GetThreadExtendData
    @ThreadID       int,
    @ThreadType     tinyint
AS
BEGIN
    SET NOCOUNT ON;
    IF @ThreadType = 1 BEGIN -- 投票
        SELECT * FROM bx_Polls WITH (NOLOCK) WHERE ThreadID = @ThreadID;
        SELECT * FROM bx_PollItems WITH (NOLOCK) WHERE ThreadID = @ThreadID;
        SELECT DISTINCT UserID FROM bx_PollItemDetails WITH (NOLOCK) WHERE ItemID IN(SELECT ItemID FROM bx_PollItems WITH (NOLOCK) WHERE ThreadID = @ThreadID);
    END
    ELSE IF @ThreadType = 2 BEGIN
        SELECT * FROM bx_Questions WITH (NOLOCK) WHERE ThreadID = @ThreadID; 
        SELECT * FROM bx_QuestionRewards WITH (NOLOCK) WHERE ThreadID = @ThreadID; 
    END
    ELSE IF @ThreadType = 4 BEGIN
        SELECT * FROM bx_Polemizes WITH (NOLOCK) WHERE ThreadID = @ThreadID; 
        SELECT * FROM bx_PolemizeUsers WITH (NOLOCK) WHERE ThreadID = @ThreadID;
    END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_GetThreadFirstPost</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_GetThreadFirstPost">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_GetThreadFirstPost
     @ThreadID            int
    ,@GetExtendedInfo     bit
    ,@TopMarkCount        int   
AS
BEGIN
    SET NOCOUNT ON;

    DECLARE @PostID int;
    SELECT @PostID = ContentID FROM bx_Threads WITH (NOLOCK) WHERE ThreadID = @ThreadID;

    IF @GetExtendedInfo = 0
        SELECT * FROM bx_Posts WITH (NOLOCK) WHERE PostID = @PostID;
    ELSE BEGIN
        DECLARE @SQLString nvarchar(4000);
        DECLARE @PostFieldsString nvarchar(4000);
        SET @SQLString = 'SELECT 
[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]
 FROM bx_Posts WITH (NOLOCK) WHERE PostID = ' + CAST(@PostID AS varchar(16)) + '';
        

        SET @PostFieldsString = '

DECLARE @S2 VARCHAR(8000),@D2 DATETIME;

            DECLARE @PostIDTable table(ID int identity(1,1),
[PostID] [int] NOT NULL
,[MarkCount] [int] NULL
,[HistoryAttachmentIDs]   varchar(500) NULL
);
SELECT @D2 = GETDATE();
		    INSERT INTO @PostIDTable (

[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]

) ' + @SQLString + ';

    SET @S2 =''|A1=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
'+
'
		    DECLARE @HistoryAttach table(PostID int,AttachID int);
		    DECLARE @Count int,@I int;
            SELECT @D2 = GETDATE();
		    SELECT @Count = COUNT(*) FROM @PostIDTable;
            
            DECLARE @PostMarkIDTable table(MarkID int);
    SET @S2 =@S2 + ''|A3=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
		    SET @I = 1;
    		
            SELECT @D2 = GETDATE();
		    WHILE(@I &lt; @Count+1) BEGIN
			    DECLARE @PID int,@HistoryAttachmentString varchar(500),@PostMarkCount int;
			    SELECT @PID = PostID,@HistoryAttachmentString = HistoryAttachmentIDs,@PostMarkCount = MarkCount FROM @PostIDTable WHERE ID = @I;
			    IF @HistoryAttachmentString IS NOT NULL AND @HistoryAttachmentString &lt;&gt; ''''
				    INSERT INTO @HistoryAttach(PostID,AttachID) SELECT @PID,item FROM bx_GetIntTable(@HistoryAttachmentString,'','');
			    SET @I = @I + 1;
                IF @PostMarkCount &gt; 0
                    INSERT INTO @PostMarkIDTable(MarkID) SELECT TOP ' + CAST(@TopMarkCount as varchar(16)) + ' m.PostMarkID FROM [bx_PostMarks] m WHERE m.PostID = @PID ORDER BY m.PostMarkID DESC;
		    END
    SET @S2 =@S2 + ''|A4=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();
		    SELECT p.* FROM @PostIDTable i INNER JOIN [bx_Posts] p WITH (NOLOCK) ON i.PostID = p.PostID ORDER BY p.SortOrder;
 
    SET @S2 =@S2 + ''|A5=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();

		    SELECT a.* FROM [bx_Attachments] a WITH (NOLOCK) INNER JOIN @PostIDTable i ON a.PostID = i.PostID ORDER BY a.AttachmentID;

            
    SET @S2 =@S2 + ''|A6=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();

		    SELECT h.PostID as HPostID, a.* FROM [bx_Attachments] a WITH (NOLOCK), @HistoryAttach h WHERE a.AttachmentID = h.AttachID;
    		
    SET @S2 =@S2 + ''|A7=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();
            SELECT * FROM [bx_PostMarks] WHERE PostMarkID in(SELECT MarkID FROM @PostMarkIDTable);

    SET @S2 =@S2 + ''|A8=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            
            SELECT @S2;
'
; EXEC (@PostFieldsString); 
    END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_GetThreadManageLogs</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_GetThreadManageLogs">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_GetThreadManageLogs
     @ThreadID INT
AS
BEGIN
	SET NOCOUNT ON;
	SELECT * FROM bx_ThreadManageLogs WITH (NOLOCK) WHERE ThreadID=@ThreadID ORDER BY LogID DESC;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_GetUnapprovedPostThread</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_GetUnapprovedPostThread">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_GetUnapprovedPostThread
	@ThreadID       int,
	@UserID         int,
	@PageIndex      int,
	@PageSize       int,
    @TopMarkCount   int
AS
BEGIN
    SET NOCOUNT ON;

    DECLARE @Condition varchar(8000),@User nvarchar(100)
	IF @UserID IS NOT NULL
		SET @User='UserID='+str(@UserID)+' AND '
	ELSE
		SET @User=''

	SET @Condition=' ('+@User+' ThreadID='+str(@ThreadID)+' AND SortOrder &gt;= 5000000000000000)'

    SELECT  *  FROM [bx_Threads] WITH (NOLOCK) WHERE ThreadID=@ThreadID;

    DECLARE @TotalCount int;
	IF @UserID&gt;0
		SELECT @TotalCount = COUNT(*) FROM bx_Posts WITH (NOLOCK) WHERE UserID = @UserID AND ThreadID= @ThreadID AND SortOrder &gt;= 5000000000000000;
	ELSE
		SELECT @TotalCount = COUNT(*) FROM bx_Posts WITH (NOLOCK) WHERE ThreadID= @ThreadID AND SortOrder &gt;= 5000000000000000;

    SELECT @TotalCount;

    DECLARE @SQLString nvarchar(4000);
    DECLARE @PostFieldsString nvarchar(4000);
    DECLARE @ResetOrder bit;

    EXECUTE bx_Common_GetRecordsByPageSQLString 
				    @PageIndex,
				    @PageSize,
				    N'bx_Posts',
				    '
[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]
',
				    @Condition,
				    N'[SortOrder]',
				    0,
				    @TotalCount,
				    @ResetOrder OUTPUT,
				    @SQLString OUTPUT

        

        SET @PostFieldsString = '

DECLARE @S2 VARCHAR(8000),@D2 DATETIME;

            DECLARE @PostIDTable table(ID int identity(1,1),
[PostID] [int] NOT NULL
,[MarkCount] [int] NULL
,[HistoryAttachmentIDs]   varchar(500) NULL
);
SELECT @D2 = GETDATE();
		    INSERT INTO @PostIDTable (

[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]

) ' + @SQLString + ';

    SET @S2 =''|A1=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
'+
'
		    DECLARE @HistoryAttach table(PostID int,AttachID int);
		    DECLARE @Count int,@I int;
            SELECT @D2 = GETDATE();
		    SELECT @Count = COUNT(*) FROM @PostIDTable;
            
            DECLARE @PostMarkIDTable table(MarkID int);
    SET @S2 =@S2 + ''|A3=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
		    SET @I = 1;
    		
            SELECT @D2 = GETDATE();
		    WHILE(@I &lt; @Count+1) BEGIN
			    DECLARE @PID int,@HistoryAttachmentString varchar(500),@PostMarkCount int;
			    SELECT @PID = PostID,@HistoryAttachmentString = HistoryAttachmentIDs,@PostMarkCount = MarkCount FROM @PostIDTable WHERE ID = @I;
			    IF @HistoryAttachmentString IS NOT NULL AND @HistoryAttachmentString &lt;&gt; ''''
				    INSERT INTO @HistoryAttach(PostID,AttachID) SELECT @PID,item FROM bx_GetIntTable(@HistoryAttachmentString,'','');
			    SET @I = @I + 1;
                IF @PostMarkCount &gt; 0
                    INSERT INTO @PostMarkIDTable(MarkID) SELECT TOP ' + CAST(@TopMarkCount as varchar(16)) + ' m.PostMarkID FROM [bx_PostMarks] m WHERE m.PostID = @PID ORDER BY m.PostMarkID DESC;
		    END
    SET @S2 =@S2 + ''|A4=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();
		    SELECT p.* FROM @PostIDTable i INNER JOIN [bx_Posts] p WITH (NOLOCK) ON i.PostID = p.PostID ORDER BY p.SortOrder;
 
    SET @S2 =@S2 + ''|A5=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();

		    SELECT a.* FROM [bx_Attachments] a WITH (NOLOCK) INNER JOIN @PostIDTable i ON a.PostID = i.PostID ORDER BY a.AttachmentID;

            
    SET @S2 =@S2 + ''|A6=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();

		    SELECT h.PostID as HPostID, a.* FROM [bx_Attachments] a WITH (NOLOCK), @HistoryAttach h WHERE a.AttachmentID = h.AttachID;
    		
    SET @S2 =@S2 + ''|A7=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();
            SELECT * FROM [bx_PostMarks] WHERE PostMarkID in(SELECT MarkID FROM @PostMarkIDTable);

    SET @S2 =@S2 + ''|A8=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            
            SELECT @S2;
'
; EXEC (@PostFieldsString); 
	
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_GetUserTodayAttachmentInfo</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_GetUserTodayAttachmentInfo">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_GetUserTodayAttachmentInfo
    @UserID         int,
    @DateTime       datetime,
    @ExcludePostID  int
AS BEGIN
    SET NOCOUNT ON;
    
    IF @ExcludePostID IS NULL
       SELECT Count(*) AS TotalCount,ISNULL(SUM(FileSize),0) AS TotalFileSize FROM [bx_Attachments] WITH (NOLOCK) WHERE [UserID] = @UserID AND [CreateDate] &gt;= @DateTime;
    ELSE
       SELECT Count(*) AS TotalCount,ISNULL(SUM(FileSize),0) AS TotalFileSize FROM [bx_Attachments] WITH (NOLOCK) WHERE [UserID] = @UserID AND PostID!=@ExcludePostID AND [CreateDate] &gt;= @DateTime; 
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_GetUserTodayAttachments</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_GetUserTodayAttachments">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_GetUserTodayAttachments
    @UserID      int,
    @DateTime    datetime
AS BEGIN
    SET NOCOUNT ON;
    
    SELECT * FROM [bx_Attachments] WITH (NOLOCK) WHERE [UserID] = @UserID AND [CreateDate] &gt;= @DateTime;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_GetUserTodayPostMarks</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_GetUserTodayPostMarks">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_GetUserTodayPostMarks
    @UserID      int,
    @DateTime    datetime
AS BEGIN
    SET NOCOUNT ON;
    
    SELECT * FROM [bx_PostMarks] WITH (NOLOCK) WHERE [UserID] = @UserID AND [CreateDate] &gt;= @DateTime;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_IsRepliedThread</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_IsRepliedThread">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_IsRepliedThread 
    @ThreadID   int,
	@UserID     int
AS
BEGIN

	SET NOCOUNT ON;
	IF EXISTS (SELECT 1 FROM bx_Posts WITH (NOLOCK) WHERE UserID = @UserID AND ThreadID = @ThreadID AND SortOrder &lt; 5000000000000000)
		RETURN (0);
	ELSE
		RETURN (-1);

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_JoinThreads</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_JoinThreads">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_JoinThreads
	@OldThreadID int,
	@NewThreadID int,
	@IsKeepLink bit
AS
	SET NOCOUNT ON 
	IF EXISTS (SELECT * FROM [bx_Threads] WITH (NOLOCK) WHERE ThreadID=@NewThreadID AND ThreadType&lt;10 AND ThreadStatus&lt;4)
	BEGIN
		DECLARE @NewForumID int,@OldForumID int,@OldThreadCatalogID int
		DECLARE @TotalReplies int,@TotalViews int,@LastPostUserID int,@LastPostNickName nvarchar(64)
		SELECT @OldForumID=ForumID,@OldThreadCatalogID=ThreadCatalogID,@TotalReplies=TotalReplies+1,@TotalViews=TotalViews FROM [bx_Threads] WITH (NOLOCK) WHERE ThreadID=@OldThreadID
		SELECT @NewForumID=ForumID FROM [bx_Threads] WITH (NOLOCK) WHERE ThreadID=@NewThreadID
		
		DECLARE @E1 int,@E2 int,@E3 int,@E4 int
		BEGIN TRANSACTION

        DECLARE @OldThreadContentSortOrder bigint,@NewThreadContentSortOrder bigint;
        DECLARE @OldThreadContentID int,@NewThreadContentID int;
        SELECT @OldThreadContentSortOrder = SortOrder,@OldThreadContentID = PostID FROM [bx_Posts] WITH (NOLOCK) WHERE ThreadID=@OldThreadID AND PostType = 1;
        SELECT @NewThreadContentSortOrder = SortOrder,@NewThreadContentID = PostID FROM [bx_Posts] WITH (NOLOCK) WHERE ThreadID=@NewThreadID AND PostType = 1;

        IF @OldThreadContentSortOrder &lt; @NewThreadContentSortOrder BEGIN
            DECLARE @Temp table(pid int,psortorder bigint);
            INSERT INTO @Temp(pid,psortorder) VALUES(@OldThreadContentID,@NewThreadContentSortOrder);
            INSERT INTO @Temp(pid,psortorder) VALUES(@NewThreadContentID,@OldThreadContentSortOrder);
            UPDATE [bx_Posts] SET SortOrder = psortorder FROM @Temp WHERE PostID = pid;
        END
            

		UPDATE [bx_Posts] SET PostType = 0 WHERE ThreadID=@OldThreadID AND PostType = 1;
		SELECT @E4=@@error
		
		UPDATE [bx_Posts] SET ForumID=@NewForumID, ThreadID=@NewThreadID WHERE ThreadID=@OldThreadID;
		SELECT @E1=@@error
		

		SELECT top 1 @LastPostUserID=UserID,@LastPostNickName=NickName FROM [bx_Posts] WITH (NOLOCK) WHERE ForumID=@NewForumID AND ThreadID=@NewThreadID AND SortOrder&lt;4000000000000000 order by PostID DESC
		
		UPDATE [bx_Threads] SET TotalReplies=TotalReplies+@TotalReplies,TotalViews=TotalViews+@TotalViews,LastPostUserID=@LastPostUserID,LastPostNickName=@LastPostNickName WHERE ThreadID=@NewThreadID
		SELECT @E2=@@error
		
		IF (@IsKeepLink=1)
			BEGIN
			UPDATE [bx_Threads] SET Subject=(CAST(@NewThreadID as nvarchar(16))+N','+Subject),ThreadType=11 WHERE ThreadID=@OldThreadID
			SELECT @E3=@@error
			END
		ELSE
			BEGIN
			DELETE [bx_Threads] WHERE ThreadID=@OldThreadID
			SELECT @E3=@@error
			END
			
		IF(@E1=0 AND @E2=0 AND @E3=0 AND @E4=0)
			BEGIN
            
            EXECUTE bx_SetPostFloor @NewThreadID;
            
			COMMIT TRANSACTION
			IF(@OldForumID&lt;&gt;@NewForumID) BEGIN
				IF (@IsKeepLink=1) BEGIN
					UPDATE [bx_Forums] SET [TotalPosts] = TotalPosts-@TotalReplies WHERE [ForumID] = @OldForumID;
				END
				UPDATE [bx_Forums] SET [TotalPosts] = TotalPosts+@TotalReplies WHERE [ForumID] = @NewForumID;
			END
			
			RETURN (0)
			END
		ELSE
			BEGIN
			ROLLBACK TRANSACTION
			RETURN (-1)
			END
	END
	ELSE
		RETURN (-1)</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_UpdateForum</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_UpdateForum">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_UpdateForum
	@ForumID int,
	@ForumType tinyint,
	@CodeName nvarchar(128),
	@ForumName nvarchar(1024),
	@Description ntext,
	@Readme ntext,
	@LogoUrl nvarchar(256),
	@ThemeID nvarchar(64),
	@Password nvarchar(64),
	@ExtendedAttributes [ntext],
	@ColumnSpan tinyint,
	@SortOrder int
AS
	SET NOCOUNT ON 
	IF(EXISTS (SELECT * FROM [bx_Forums] WITH (NOLOCK) WHERE CodeName=@CodeName AND ForumID &lt;&gt; @ForumID))
	RETURN (13)	

	
	UPDATE [bx_Forums] SET
	[ForumType] = @ForumType,
	[CodeName] = @CodeName,
	[ForumName] = @ForumName,
	[Description] = @Description,
	[Readme] = @Readme,
	[LogoSrc] = @LogoUrl,
	[ThemeID] = @ThemeID,
	[Password] = @Password,
	[ExtendedAttributes] = @ExtendedAttributes,
	[ColumnSpan] = @ColumnSpan,
	[SortOrder] = @SortOrder
WHERE
	[ForumID] = @ForumID
	
	RETURN (0)</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_UpdateForumThreadCatalogData</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_UpdateForumThreadCatalogData">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_UpdateForumThreadCatalogData
	 @ForumID            int
    ,@ThreadCatalogID    int
AS
BEGIN
	SET NOCOUNT ON;
	UPDATE [bx_ThreadCatalogsInForums] SET TotalThreads=(
		SELECT COUNT(1) FROM bx_Threads WITH(NOLOCK) WHERE ForumID=@ForumID AND ThreadCatalogID=@ThreadCatalogID AND ThreadStatus&lt;4
		) WHERE ForumID=@ForumID AND ThreadCatalogID=@ThreadCatalogID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_UpdatePost</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_UpdatePost">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_UpdatePost
	@PostID                         int,
	@IconID                         int,
	@Subject                        nvarchar(256),
	@Content                        ntext,
	@ContentFormat                  tinyint,
	@EnableSignature                bit,
	@EnableReplyNotice              bit,
	@IsApproved                     bit,
	@LastEditorID                   int,
	@LastEditor                     nvarchar(65),
	
	@AttachmentIds                  varchar(8000),
	@AttachmentFileNames            ntext,
	@AttachmentFileIds              text,
	@AttachmentFileSizes            varchar(8000),
	@AttachmentPrices               varchar(8000),
	@AttachmentFileExtNames         ntext,
	@HistoryAttachmentIDs           varchar(500),
    @GetExtendedInfo                bit
    ,@TopMarkCount                  int
AS
BEGIN
    SET NOCOUNT ON


    DECLARE @UserID int,@OldSortOrder bigint;
    SELECT @UserID=UserID,@OldSortOrder=SortOrder FROM  bx_Posts WITH (NOLOCK) WHERE PostID=@PostID;---Modify by 帅帅


    DECLARE @ErrorCount int;
    SET @ErrorCount = 0;

    BEGIN TRAN

    DECLARE @SortOrder bigint;

    IF @IsApproved=1
	    EXEC [bx_UpdateSortOrder] 1, @OldSortOrder, @SortOrder OUTPUT;
    ELSE
	    EXEC [bx_UpdateSortOrder] 5, @OldSortOrder, @SortOrder OUTPUT;

	UPDATE [bx_Posts] SET
		[IconID] = @IconID,
		[Subject] = @Subject,
		[Content] = @Content,
		[ContentFormat] = @ContentFormat,
		[EnableSignature] = @EnableSignature,
		[EnableReplyNotice] = @EnableReplyNotice,
		[LastEditorID]=@LastEditorID,
		[LastEditor]=@LastEditor,
		[UpdateDate] = getdate(),
		[HistoryAttachmentIDs] = @HistoryAttachmentIDs,
		[SortOrder] = @SortOrder,
		[KeywordVersion] = ''
	WHERE
		[PostID] = @PostID
		
    SET @ErrorCount = @ErrorCount + @@error;
	
		IF DATALENGTH(@AttachmentIds) &gt; 0 BEGIN
			DECLARE @AttachmentTable table(TempID int identity(1,1), AttachmentID int, FileName nvarchar(256), FileExtName varchar(10), FileID varchar(50), FileSize bigint, Price int);
		
			INSERT INTO @AttachmentTable (AttachmentID) SELECT item FROM bx_GetIntTable(@AttachmentIds, '|');

			UPDATE @AttachmentTable SET
				[FileName] = T.item
				FROM bx_GetStringTable_ntext(@AttachmentFileNames, N'|') T
				WHERE TempID = T.id;

			UPDATE @AttachmentTable SET
				FileID = T.item
				FROM bx_GetStringTable_text(@AttachmentFileIds, '|') T
				WHERE TempID = T.id;

			UPDATE @AttachmentTable SET
				FileSize = T.item
				FROM bx_GetBigIntTable(@AttachmentFileSizes, '|') T
				WHERE TempID = T.id;

			UPDATE @AttachmentTable SET
				Price = T.item
				FROM bx_GetIntTable(@AttachmentPrices, '|') T
				WHERE TempID = T.id;
				
			UPDATE @AttachmentTable SET
				FileExtName = T.item
				FROM bx_GetStringTable_ntext(@AttachmentFileExtNames, N'|') T
				WHERE TempID = T.id;


			DECLARE @NewAttchmentCount int;

			DECLARE @AttachmentIDsTable table(AttachmentID int);
			INSERT INTO @AttachmentIDsTable SELECT [AttachmentID] FROM [bx_Attachments] WITH (NOLOCK) WHERE PostID=@PostID;

			INSERT INTO bx_Attachments(
				PostID,
				FileID,
				FileName,
				FileSize,
				FileType,
				Price,
				UserID
				) SELECT 
				@PostID,
				T.FileID,
				T.FileName,
				T.FileSize,
				T.FileExtName,
				T.Price,
				@UserID
				FROM @AttachmentTable T
				WHERE T.AttachmentID &lt; 0;
            SET @ErrorCount = @ErrorCount + @@error;
					
			SELECT @NewAttchmentCount = @@ROWCOUNT;
			
			EXEC('SELECT TOP ' + @NewAttchmentCount + ' [AttachmentID] FROM [bx_Attachments] WITH (NOLOCK) WHERE PostID = '+@PostID + ' ORDER BY [AttachmentID] DESC');
				
			DELETE bx_Attachments WHERE PostID=@PostID AND 
				AttachmentID IN(SELECT [AttachmentID] FROM @AttachmentIDsTable) 
				AND AttachmentID NOT IN(SELECT AttachmentID FROM @AttachmentTable);
            SET @ErrorCount = @ErrorCount + @@error;

			UPDATE bx_Attachments SET
				FileName = T.FileName,
				Price = T.Price
				FROM @AttachmentTable T
				WHERE T.AttachmentID &gt; 0 AND T.AttachmentID = bx_Attachments.AttachmentID AND T.FileName&lt;&gt;'' AND T.FileName is not null;
            SET @ErrorCount = @ErrorCount + @@error;

			UPDATE bx_Attachments SET
				Price = T.Price
				FROM @AttachmentTable T
				WHERE T.AttachmentID &gt; 0 AND T.AttachmentID = bx_Attachments.AttachmentID AND (T.FileName = '' OR T.FileName is not null);
		    SET @ErrorCount = @ErrorCount + @@error;

			INSERT INTO bx_Attachments(
				PostID,
				FileID,
				FileName,
				FileSize,
				FileType,
				Price,
				UserID
				) SELECT 
				@PostID,
				T.FileID,
				T.FileName,
				T.FileSize,
				T.FileExtName,
				T.Price,
				@UserID
				FROM @AttachmentTable T
				WHERE T.AttachmentID = 0;
			SET @ErrorCount = @ErrorCount + @@error;

			SELECT [AttachmentID],[FileID] FROM [bx_Attachments] WITH (NOLOCK) WHERE PostID=@PostID;

		END 
		ELSE BEGIN
			DELETE bx_Attachments WHERE PostID = @PostID;
            SET @ErrorCount = @ErrorCount + @@error;
		END

    IF @GetExtendedInfo = 0
        SELECT * FROM bx_Posts WITH (NOLOCK) WHERE PostID = @PostID;
    ELSE BEGIN
        DECLARE @SQLString nvarchar(4000);
        DECLARE @PostFieldsString nvarchar(4000);
        SET @SQLString = 'SELECT 
[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]
 FROM bx_Posts WITH (NOLOCK) WHERE PostID = '+ CAST(@PostID AS varchar(16));  --'SELECT '+ CAST(@PostID AS varchar(16)) + ',''' + @HistoryAttachmentIDs + '''';
        

        SET @PostFieldsString = '

DECLARE @S2 VARCHAR(8000),@D2 DATETIME;

            DECLARE @PostIDTable table(ID int identity(1,1),
[PostID] [int] NOT NULL
,[MarkCount] [int] NULL
,[HistoryAttachmentIDs]   varchar(500) NULL
);
SELECT @D2 = GETDATE();
		    INSERT INTO @PostIDTable (

[PostID]
,[MarkCount]
,[HistoryAttachmentIDs]

) ' + @SQLString + ';

    SET @S2 =''|A1=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
'+
'
		    DECLARE @HistoryAttach table(PostID int,AttachID int);
		    DECLARE @Count int,@I int;
            SELECT @D2 = GETDATE();
		    SELECT @Count = COUNT(*) FROM @PostIDTable;
            
            DECLARE @PostMarkIDTable table(MarkID int);
    SET @S2 =@S2 + ''|A3=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
		    SET @I = 1;
    		
            SELECT @D2 = GETDATE();
		    WHILE(@I &lt; @Count+1) BEGIN
			    DECLARE @PID int,@HistoryAttachmentString varchar(500),@PostMarkCount int;
			    SELECT @PID = PostID,@HistoryAttachmentString = HistoryAttachmentIDs,@PostMarkCount = MarkCount FROM @PostIDTable WHERE ID = @I;
			    IF @HistoryAttachmentString IS NOT NULL AND @HistoryAttachmentString &lt;&gt; ''''
				    INSERT INTO @HistoryAttach(PostID,AttachID) SELECT @PID,item FROM bx_GetIntTable(@HistoryAttachmentString,'','');
			    SET @I = @I + 1;
                IF @PostMarkCount &gt; 0
                    INSERT INTO @PostMarkIDTable(MarkID) SELECT TOP ' + CAST(@TopMarkCount as varchar(16)) + ' m.PostMarkID FROM [bx_PostMarks] m WHERE m.PostID = @PID ORDER BY m.PostMarkID DESC;
		    END
    SET @S2 =@S2 + ''|A4=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();
		    SELECT p.* FROM @PostIDTable i INNER JOIN [bx_Posts] p WITH (NOLOCK) ON i.PostID = p.PostID ORDER BY p.SortOrder;
 
    SET @S2 =@S2 + ''|A5=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();

		    SELECT a.* FROM [bx_Attachments] a WITH (NOLOCK) INNER JOIN @PostIDTable i ON a.PostID = i.PostID ORDER BY a.AttachmentID;

            
    SET @S2 =@S2 + ''|A6=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();

		    SELECT h.PostID as HPostID, a.* FROM [bx_Attachments] a WITH (NOLOCK), @HistoryAttach h WHERE a.AttachmentID = h.AttachID;
    		
    SET @S2 =@S2 + ''|A7=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            SELECT @D2 = GETDATE();
            SELECT * FROM [bx_PostMarks] WHERE PostMarkID in(SELECT MarkID FROM @PostMarkIDTable);

    SET @S2 =@S2 + ''|A8=''+  CONVERT(varchar(100), getdate()-@D2, 14) ;
            
            SELECT @S2;
'
; EXEC (@PostFieldsString); 
    END

	IF @ErrorCount &gt; 0 BEGIN
        ROLLBACK TRAN
        RETURN -1;
    END
    ELSE BEGIN
        COMMIT TRAN
        RETURN 0;
    END
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_UpdateThread</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_UpdateThread">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_UpdateThread
	@ThreadID                       int,
	@ThreadCatalogID                int,
	@IconID                         int,
	@Subject                        nvarchar(256),
	@PostID                         int,
	@Content                        ntext,
	@ContentFormat                  tinyint,
	@EnableSignature                bit,
	@EnableReplyNotice              bit,
	@IsApproved                     bit,
	@LastEditorID                   int,
	@LastEditor                     nvarchar(64),
	@Price                          int,
	@AttachmentIds                  varchar(8000),
	@AttachmentFileNames            ntext,
	@AttachmentFileIds              text,
	@AttachmentFileSizes            varchar(8000),
	@AttachmentPrices               varchar(8000),
	@AttachmentFileExtNames         ntext,
	@HistoryAttachmentIDs           varchar(500)
   ,@TopMarkCount                   int
   ,@AttachmentType                 tinyint
   ,@Words                          nvarchar(400)
AS

SET NOCOUNT ON


	DECLARE @OldThreadStatus tinyint, @NewThreadStatus tinyint,@OldWords nvarchar(400);
	SELECT @OldThreadStatus = ThreadStatus,@OldWords = Words FROM [bx_Threads] WITH (NOLOCK) WHERE [ThreadID] = @ThreadID;
    IF @IsApproved = 1 AND @OldThreadStatus = 5
        SET @NewThreadStatus = 1;
    ELSE IF @IsApproved = 0 AND @OldThreadStatus &lt; 4
        SET @NewThreadStatus = 5;
    ELSE
        SET @NewThreadStatus = @OldThreadStatus;
        

    DECLARE @ErrorCount int;
    SET @ErrorCount = 0;

    BEGIN TRAN

	UPDATE [bx_Threads] SET
		[ThreadCatalogID] = @ThreadCatalogID,
		[IconID] = @IconID,
		[Subject] = @Subject,
		[Price] = @Price,
		[UpdateDate] = CASE WHEN TotalReplies = 0 THEN getdate() ELSE [UpdateDate] END,
		[ThreadStatus] = @NewThreadStatus,
		[KeywordVersion] = '',
        [AttachmentType] = @AttachmentType,
        [Words] = @Words
	WHERE
		[ThreadID] = @ThreadID;
    SET @ErrorCount = @ErrorCount + @@error;

    IF @Words &lt;&gt; @OldWords BEGIN
        DELETE bx_ThreadWords WHERE ThreadID = @ThreadID;
        SET @ErrorCount = @ErrorCount + @@error;
        IF @Words &lt;&gt; '' BEGIN
            INSERT INTO bx_ThreadWords(ThreadID,Word) SELECT @ThreadID,T.item FROM bx_GetStringTable_nvarchar(@Words, N',') T;
            SET @ErrorCount = @ErrorCount + @@error;
        END
    END

    SELECT  *  FROM [bx_Threads] WITH (NOLOCK) WHERE ThreadID = @ThreadID;

Execute bx_v5_UpdatePost
		@PostID,
		@IconID,
		@Subject,
		@Content,
		@ContentFormat,
		@EnableSignature,
		@EnableReplyNotice,
		@IsApproved,
		@LastEditorID,
		@LastEditor,
		@AttachmentIds,
		@AttachmentFileNames,
		@AttachmentFileIds,
		@AttachmentFileSizes,
		@AttachmentPrices,
		@AttachmentFileExtNames,
		@HistoryAttachmentIDs,
        0,
        @TopMarkCount

    SET @ErrorCount = @ErrorCount + @@error;

    IF @ErrorCount &gt; 0 BEGIN
        ROLLBACK TRAN
        RETURN -1;
    END
    ELSE BEGIN
        COMMIT TRAN
        RETURN 0;
    END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_UpdateThreadExtendData</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_UpdateThreadExtendData">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_UpdateThreadExtendData
    @ExtendData     ntext,
    @ThreadID       int
AS
BEGIN
    SET NOCOUNT ON;
    UPDATE bx_Threads SET ExtendData = @ExtendData WHERE ThreadID = @ThreadID;
END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_v5_Vote</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_v5_Vote">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_v5_Vote 
	@ItemIDs            varchar(8000),
	@ThreadID           int,
	@UserID             int,
	@NickName           nvarchar(64)
AS
	SET NOCOUNT ON
	IF EXISTS (SELECT * FROM bx_Polls WITH(NOLOCK) WHERE ThreadID=@ThreadID AND ExpiresDate&lt;getdate()) 
		RETURN (1)--已经过期
	IF EXISTS (SELECT * FROM [bx_PollItemDetails] WITH(NOLOCK) WHERE ItemID IN(SELECT ItemID FROM [bx_PollItems] WITH (NOLOCK) WHERE ThreadID=@ThreadID) AND UserID=@UserID)
		RETURN (2)--	当前用户已经投过票
	IF EXISTS (SELECT * FROM bx_Threads WITH(NOLOCK) WHERE ThreadID=@ThreadID AND IsLocked=1) 
		RETURN (3)--已经锁定
	DECLARE @ItemID int,@i int
	SET @ItemIDs=@ItemIDs+N','
	SELECT @i=CHARINDEX(',',@ItemIDs)
			
	WHILE(@i&gt;1)
		BEGIN
			SELECT @ItemID=SUBSTRING(@ItemIDs,0, @i)
			
			UPDATE bx_PollItems SET PollItemCount=PollItemCount+1 WHERE ItemID=@ItemID
			
			IF(@@ROWCOUNT&gt;0)
				INSERT INTO bx_PollItemDetails(ItemID,UserID,NickName) VALUES(@ItemID,@UserID,@NickName)
			
			SELECT @ItemIDs=SUBSTRING(@ItemIDs,@i+1,LEN(@ItemIDs)-@i)
			SELECT @i=CHARINDEX(',',@ItemIDs)
		END

    EXECUTE bx_v5_GetThreadExtendData @ThreadID,1; 

	RETURN (0)</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_ValidateUserEmail</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_ValidateUserEmail">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_ValidateUserEmail
    @UserID   int,
    @Email   nvarchar(50)
AS BEGIN

    SET NOCOUNT ON;

    UPDATE bx_Users SET [Email] = @Email,[EmailValidated] = 1 WHERE [UserID] = @UserID;

END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_VoteQuestionBestPost</string>
        </key>
        <value>
          <DbObject xsi:type="DbStoredProcedure" Name="bx_VoteQuestionBestPost">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

-- =============================================
-- StoredProcedure For bbsmax 5
-- Copyright: max labs
-- =============================================
CREATE PROCEDURE bx_VoteQuestionBestPost 
	@ThreadID           int,
	@UserID             int,
	@BestPostIsUseful   bit
AS
	SET NOCOUNT ON;
	
	DECLARE @IsClosed bit
	
	SELECT @IsClosed = IsClosed FROM [bx_Questions] WITH (NOLOCK) WHERE ThreadID=@ThreadID
	
	IF @IsClosed IS NULL
		RETURN (1) -- 不存在
	ELSE IF @IsClosed = 0
		RETURN (2) -- 还未揭贴
	
	IF(EXISTS (SELECT * FROM [bx_QuestionUsers] WITH (NOLOCK) WHERE ThreadID=@ThreadID AND UserID=@UserID))
		RETURN (3) -- 已经投过
		
	BEGIN TRANSACTION
		
	INSERT INTO [bx_QuestionUsers](ThreadID,UserID,BestPostIsUseful) VALUES(@ThreadID,@UserID,@BestPostIsUseful)
	IF(@@error&lt;&gt;0)
		GOTO Cleanup;
	
	IF @BestPostIsUseful = 1 BEGIN
		UPDATE [bx_Questions] SET UsefulCount=UsefulCount+1 WHERE ThreadID=@ThreadID
		IF(@@error&lt;&gt;0)
			GOTO Cleanup;
	END
	ELSE BEGIN
		UPDATE [bx_Questions] SET UnusefulCount=UnusefulCount+1 WHERE ThreadID=@ThreadID
		IF(@@error&lt;&gt;0)
			GOTO Cleanup;
	END
	
		COMMIT TRANSACTION;

        EXECUTE bx_v5_GetThreadExtendData @ThreadID,2; 
		RETURN (0);
Cleanup:
    BEGIN
    	ROLLBACK TRANSACTION
    	RETURN (-1)
    END</Definition>
            <Parameters>
              <Instance />
            </Parameters>
          </DbObject>
        </value>
      </item>
    </Instance>
  </StoredProcedures>
  <ScalarFunctions>
    <Instance />
  </ScalarFunctions>
  <TableValuedFunctions>
    <Instance>
      <item>
        <key>
          <string>bx_GetBigIntTable</string>
        </key>
        <value>
          <DbObject xsi:type="DbTableValuedFunction" Name="bx_GetBigIntTable">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

CREATE FUNCTION [bx_GetBigIntTable]
(
	@text varchar(8000),
	@separator varchar(2) = ','
)
RETURNS @ItemTable TABLE 
(
	 id   bigint IDENTITY(1, 1) 
	,item int
)
AS
BEGIN

	IF (@text = '')
		RETURN;

	INSERT @ItemTable
	SELECT SUBSTRING(@text, I ,CHARINDEX(@separator, @text + @separator, I) - I)   
	FROM [bx_Identities_8000] WITH (NOLOCK)
	WHERE I &lt;= LEN(@text) + 1 AND CHARINDEX(@separator, @separator + @text, I) - I = 0   

	RETURN;

END
</Definition>
            <Parameters>
              <Instance />
            </Parameters>
            <Columns>
              <Instance />
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetIntTable</string>
        </key>
        <value>
          <DbObject xsi:type="DbTableValuedFunction" Name="bx_GetIntTable">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

CREATE FUNCTION [bx_GetIntTable]
(
	@text varchar(8000),
	@separator varchar(2) = ','
)
RETURNS @ItemTable TABLE 
(
	 id   int IDENTITY(1, 1) 
	,item int
)
AS
BEGIN

	IF (@text = '')
		RETURN;

	INSERT @ItemTable
	SELECT SUBSTRING(@text, I ,CHARINDEX(@separator, @text + @separator, I) - I)   
	FROM [bx_Identities_8000] WITH (NOLOCK)
	WHERE I &lt;= LEN(@text) + 1 AND CHARINDEX(@separator, @separator + @text, I) - I = 0   

	RETURN;

END
</Definition>
            <Parameters>
              <Instance />
            </Parameters>
            <Columns>
              <Instance />
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetStringTable_ntext</string>
        </key>
        <value>
          <DbObject xsi:type="DbTableValuedFunction" Name="bx_GetStringTable_ntext">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

CREATE FUNCTION [bx_GetStringTable_ntext]
(
	@text ntext,
	@separator nvarchar(2) = N','
)
RETURNS @ItemTable TABLE 
(
	id int identity(1,1),
	item nvarchar(4000) 
)
AS
BEGIN

	DECLARE @s nvarchar(4000), @i int, @j int   
	SELECT @s = SUBSTRING(@text, 1, 4000), @i=1;  
	--IF (@s = '')
		--INSERT @ItemTable VALUES ('')
	--ELSE BEGIN
	IF (@s &lt;&gt; N'') BEGIN
		WHILE @s &lt;&gt; N'' BEGIN

			IF LEN(@s) = 4000   
				SELECT @j = 4000 - CHARINDEX(@separator, REVERSE(@s)), @i = @i + @j + 1, @s = LEFT(@s, @j)
			ELSE     
				SELECT @i = @i + 4000, @j = LEN(@s)

			INSERT @ItemTable
			SELECT SUBSTRING(@s, I ,CHARINDEX(@separator, @s + @separator, I) - I)
			FROM bx_Identities_4000 WITH (NOLOCK)
			WHERE I &lt;= @j + 1 AND CHARINDEX(@separator, @separator + @s, I) - I = 0

			SELECT @s = SUBSTRING(@text, @i, 4000)

		END  
	END 
	RETURN;
END
</Definition>
            <Parameters>
              <Instance />
            </Parameters>
            <Columns>
              <Instance />
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetStringTable_nvarchar</string>
        </key>
        <value>
          <DbObject xsi:type="DbTableValuedFunction" Name="bx_GetStringTable_nvarchar">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

CREATE FUNCTION [bx_GetStringTable_nvarchar]
(
	@text nvarchar(4000),
	@separator nvarchar(2) = N','
)
RETURNS @ItemTable TABLE 
(
	 id   int IDENTITY(1, 1) 
	,item nvarchar(4000)
)
AS
BEGIN

	IF (@text = N'')
		RETURN;

	INSERT @ItemTable
	SELECT SUBSTRING(@text, I ,CHARINDEX(@separator, @text + @separator, I) - I)   
	FROM [bx_Identities_8000] WITH (NOLOCK)
	WHERE I &lt;= LEN(@text) + 1 AND CHARINDEX(@separator, @separator + @text, I) - I = 0   

	RETURN;

END
</Definition>
            <Parameters>
              <Instance />
            </Parameters>
            <Columns>
              <Instance />
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetStringTable_text</string>
        </key>
        <value>
          <DbObject xsi:type="DbTableValuedFunction" Name="bx_GetStringTable_text">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

CREATE FUNCTION [bx_GetStringTable_text]
(
	@text text,
	@separator varchar(2) = ','
)
RETURNS @ItemTable TABLE 
(
	id int identity(1,1),
	item varchar(8000) 
)
AS
BEGIN

	DECLARE @s varchar(8000), @i int, @j int
	SELECT @s = SUBSTRING(@text, 1, 8000), @i=1;

	--IF (@s = '')
		--INSERT @ItemTable VALUES ('');
	--ELSE BEGIN

	IF (@s &lt;&gt; '') BEGIN
		WHILE @s &lt;&gt; '' BEGIN

			IF LEN(@s) = 8000   
				SELECT @j = 8000 - CHARINDEX(@separator, REVERSE(@s)), @i = @i + @j + 1, @s = LEFT(@s, @j)
			ELSE     
				SELECT @i = @i + 8000, @j = LEN(@s)

			INSERT @ItemTable
			SELECT SUBSTRING(@s, I ,CHARINDEX(@separator, @s + @separator, I) - I)
				FROM bx_Identities_8000 WITH (NOLOCK)
				WHERE I &lt;= @j + 1 AND CHARINDEX(@separator, @separator + @s, I) - I = 0;

			SELECT @s = SUBSTRING(@text, @i, 8000);

		END
	END
	RETURN;
END
</Definition>
            <Parameters>
              <Instance />
            </Parameters>
            <Columns>
              <Instance />
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
          </DbObject>
        </value>
      </item>
      <item>
        <key>
          <string>bx_GetStringTable_varchar</string>
        </key>
        <value>
          <DbObject xsi:type="DbTableValuedFunction" Name="bx_GetStringTable_varchar">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Definition>

CREATE FUNCTION [bx_GetStringTable_varchar]
(
	@text varchar,
	@separator varchar(2) = ','
)
RETURNS @ItemTable TABLE 
(
	 id   int IDENTITY(1, 1) 
	,item varchar(8000)
)
AS
BEGIN

	IF (@text = '')
		RETURN;

	INSERT @ItemTable
	SELECT SUBSTRING(@text, I ,CHARINDEX(@separator, @text + @separator, I) - I)   
	FROM [bx_Identities_8000] WITH (NOLOCK)
	WHERE I &lt;= LEN(@text) + 1 AND CHARINDEX(@separator, @separator + @text, I) - I = 0   

	RETURN;

END
</Definition>
            <Parameters>
              <Instance />
            </Parameters>
            <Columns>
              <Instance />
            </Columns>
            <Indexes>
              <Instance />
            </Indexes>
          </DbObject>
        </value>
      </item>
    </Instance>
  </TableValuedFunctions>
  <DDLTriggers>
    <Instance />
  </DDLTriggers>
  <FileGroups>
    <Instance>
      <item>
        <key>
          <string>PRIMARY</string>
        </key>
        <value>
          <DbObject xsi:type="DbFileGroup" Name="PRIMARY" IsDefault="true" IsReadOnly="false">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
            <Files>
              <Instance>
                <item>
                  <key>
                    <string>bbsmax_temp                                                                                                                     </string>
                  </key>
                  <value>
                    <DbObject xsi:type="DbDataFile" Name="bbsmax_temp                                                                                                                     " PhysicalName="d:\Program Files\Microsoft SQL Server\MSSQL\data\bbsmax_temp.mdf                                                                                                                                                                                                    " IsReadOnly="false" FileTypeId="0">
                      <Edition>Unknown</Edition>
                      <PrimaryObjectInfos />
                      <OutObjectInfos />
                    </DbObject>
                  </value>
                </item>
              </Instance>
            </Files>
          </DbObject>
        </value>
      </item>
    </Instance>
  </FileGroups>
  <LogFiles>
    <Instance>
      <item>
        <key>
          <string>bbsmax_temp_log                                                                                                                 </string>
        </key>
        <value>
          <DbObject xsi:type="DbLogFile" Name="bbsmax_temp_log                                                                                                                 " PhysicalName="d:\Program Files\Microsoft SQL Server\MSSQL\data\bbsmax_temp_log.LDF                                                                                                                                                                                                " IsReadOnly="false">
            <Edition>Unknown</Edition>
            <PrimaryObjectInfos />
            <OutObjectInfos />
          </DbObject>
        </value>
      </item>
    </Instance>
  </LogFiles>
  <FulltextCatalogs>
    <Instance />
  </FulltextCatalogs>
</DbDatabase>